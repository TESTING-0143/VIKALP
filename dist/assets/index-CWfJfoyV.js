import{r as se,u as di,L as We,a as ib,B as rb,b as lb,c as hs}from"./router-CMAxaAdi.js";import{r as ob,a as ub}from"./vendor-gH-7aFTg.js";import{F as ee,f as cb,a as Yl,b as Md,c as Ku,d as hb,e as $0,g as W0,h as ey,i as db,j as Xu,k as Wd,l as fb,m as ty,n as mb,o as Od,p as gb,q as Td,r as pb,s as Gp,t as yb,u as Zu,v as fr,w as xb,x as vb,y as qu,z as kd,A as Du,B as Hp,C as wd,D as bb,E as ny,G as _b,H as Tb,I as mr,J as Qp,K as ta,L as pr,M as oi,N as Fp,O as Yp,P as wb,Q as Eb,R as Ab}from"./fontawesome-Bi3v7SjO.js";import{L as Sb,_ as Nb,C as Rb,r as Kp,a as jb,F as Cb,b as Ca,g as Vb,c as Db,d as Ib,i as ay,p as Mb,u as Ob,e as kb,f as Ub,h as Ju,j as zb,k as Pb,S as Lb,l as qb,m as Bb,o as Gb,s as Hb,G as Qb,n as Fb,q as Yb,t as Kb,v as Xb}from"./firebase-DxTFRsx6.js";import{L as sy,M as Zb,T as Jb,a as $b,u as Wb}from"./leaflet-CTCZad7B.js";(function(){const n=document.createElement("link").relList;if(n&&n.supports&&n.supports("modulepreload"))return;for(const u of document.querySelectorAll('link[rel="modulepreload"]'))i(u);new MutationObserver(u=>{for(const h of u)if(h.type==="childList")for(const g of h.addedNodes)g.tagName==="LINK"&&g.rel==="modulepreload"&&i(g)}).observe(document,{childList:!0,subtree:!0});function s(u){const h={};return u.integrity&&(h.integrity=u.integrity),u.referrerPolicy&&(h.referrerPolicy=u.referrerPolicy),u.crossOrigin==="use-credentials"?h.credentials="include":u.crossOrigin==="anonymous"?h.credentials="omit":h.credentials="same-origin",h}function i(u){if(u.ep)return;u.ep=!0;const h=s(u);fetch(u.href,h)}})();var Ed={exports:{}},Ol={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xp;function e_(){if(Xp)return Ol;Xp=1;var l=Symbol.for("react.transitional.element"),n=Symbol.for("react.fragment");function s(i,u,h){var g=null;if(h!==void 0&&(g=""+h),u.key!==void 0&&(g=""+u.key),"key"in u){h={};for(var y in u)y!=="key"&&(h[y]=u[y])}else h=u;return u=h.ref,{$$typeof:l,type:i,key:g,ref:u!==void 0?u:null,props:h}}return Ol.Fragment=n,Ol.jsx=s,Ol.jsxs=s,Ol}var Zp;function t_(){return Zp||(Zp=1,Ed.exports=e_()),Ed.exports}var d=t_(),Ad={exports:{}},kl={},Sd={exports:{}},Nd={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jp;function n_(){return Jp||(Jp=1,function(l){function n(Q,J){var B=Q.length;Q.push(J);e:for(;0<B;){var ae=B-1>>>1,he=Q[ae];if(0<u(he,J))Q[ae]=J,Q[B]=he,B=ae;else break e}}function s(Q){return Q.length===0?null:Q[0]}function i(Q){if(Q.length===0)return null;var J=Q[0],B=Q.pop();if(B!==J){Q[0]=B;e:for(var ae=0,he=Q.length,Re=he>>>1;ae<Re;){var _e=2*(ae+1)-1,pe=Q[_e],Pe=_e+1,ct=Q[Pe];if(0>u(pe,B))Pe<he&&0>u(ct,pe)?(Q[ae]=ct,Q[Pe]=B,ae=Pe):(Q[ae]=pe,Q[_e]=B,ae=_e);else if(Pe<he&&0>u(ct,B))Q[ae]=ct,Q[Pe]=B,ae=Pe;else break e}}return J}function u(Q,J){var B=Q.sortIndex-J.sortIndex;return B!==0?B:Q.id-J.id}if(l.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var h=performance;l.unstable_now=function(){return h.now()}}else{var g=Date,y=g.now();l.unstable_now=function(){return g.now()-y}}var _=[],b=[],w=1,R=null,O=3,G=!1,$=!1,F=!1,K=!1,te=typeof setTimeout=="function"?setTimeout:null,le=typeof clearTimeout=="function"?clearTimeout:null,oe=typeof setImmediate<"u"?setImmediate:null;function ve(Q){for(var J=s(b);J!==null;){if(J.callback===null)i(b);else if(J.startTime<=Q)i(b),J.sortIndex=J.expirationTime,n(_,J);else break;J=s(b)}}function be(Q){if(F=!1,ve(Q),!$)if(s(_)!==null)$=!0,fe||(fe=!0,M());else{var J=s(b);J!==null&&it(be,J.startTime-Q)}}var fe=!1,V=-1,E=5,N=-1;function C(){return K?!0:!(l.unstable_now()-N<E)}function D(){if(K=!1,fe){var Q=l.unstable_now();N=Q;var J=!0;try{e:{$=!1,F&&(F=!1,le(V),V=-1),G=!0;var B=O;try{t:{for(ve(Q),R=s(_);R!==null&&!(R.expirationTime>Q&&C());){var ae=R.callback;if(typeof ae=="function"){R.callback=null,O=R.priorityLevel;var he=ae(R.expirationTime<=Q);if(Q=l.unstable_now(),typeof he=="function"){R.callback=he,ve(Q),J=!0;break t}R===s(_)&&i(_),ve(Q)}else i(_);R=s(_)}if(R!==null)J=!0;else{var Re=s(b);Re!==null&&it(be,Re.startTime-Q),J=!1}}break e}finally{R=null,O=B,G=!1}J=void 0}}finally{J?M():fe=!1}}}var M;if(typeof oe=="function")M=function(){oe(D)};else if(typeof MessageChannel<"u"){var S=new MessageChannel,yt=S.port2;S.port1.onmessage=D,M=function(){yt.postMessage(null)}}else M=function(){te(D,0)};function it(Q,J){V=te(function(){Q(l.unstable_now())},J)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(Q){Q.callback=null},l.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):E=0<Q?Math.floor(1e3/Q):5},l.unstable_getCurrentPriorityLevel=function(){return O},l.unstable_next=function(Q){switch(O){case 1:case 2:case 3:var J=3;break;default:J=O}var B=O;O=J;try{return Q()}finally{O=B}},l.unstable_requestPaint=function(){K=!0},l.unstable_runWithPriority=function(Q,J){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var B=O;O=Q;try{return J()}finally{O=B}},l.unstable_scheduleCallback=function(Q,J,B){var ae=l.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?ae+B:ae):B=ae,Q){case 1:var he=-1;break;case 2:he=250;break;case 5:he=1073741823;break;case 4:he=1e4;break;default:he=5e3}return he=B+he,Q={id:w++,callback:J,priorityLevel:Q,startTime:B,expirationTime:he,sortIndex:-1},B>ae?(Q.sortIndex=B,n(b,Q),s(_)===null&&Q===s(b)&&(F?(le(V),V=-1):F=!0,it(be,B-ae))):(Q.sortIndex=he,n(_,Q),$||G||($=!0,fe||(fe=!0,M()))),Q},l.unstable_shouldYield=C,l.unstable_wrapCallback=function(Q){var J=O;return function(){var B=O;O=J;try{return Q.apply(this,arguments)}finally{O=B}}}}(Nd)),Nd}var $p;function a_(){return $p||($p=1,Sd.exports=n_()),Sd.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function s_(){if(Wp)return kl;Wp=1;var l=a_(),n=ob(),s=ub();function i(e){var t="https://react.dev/errors/"+e;if(1<arguments.length){t+="?args[]="+encodeURIComponent(arguments[1]);for(var a=2;a<arguments.length;a++)t+="&args[]="+encodeURIComponent(arguments[a])}return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function u(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function h(e){var t=e,a=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,(t.flags&4098)!==0&&(a=t.return),e=t.return;while(e)}return t.tag===3?a:null}function g(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function y(e){if(h(e)!==e)throw Error(i(188))}function _(e){var t=e.alternate;if(!t){if(t=h(e),t===null)throw Error(i(188));return t!==e?null:e}for(var a=e,r=t;;){var c=a.return;if(c===null)break;var f=c.alternate;if(f===null){if(r=c.return,r!==null){a=r;continue}break}if(c.child===f.child){for(f=c.child;f;){if(f===a)return y(c),e;if(f===r)return y(c),t;f=f.sibling}throw Error(i(188))}if(a.return!==r.return)a=c,r=f;else{for(var x=!1,v=c.child;v;){if(v===a){x=!0,a=c,r=f;break}if(v===r){x=!0,r=c,a=f;break}v=v.sibling}if(!x){for(v=f.child;v;){if(v===a){x=!0,a=f,r=c;break}if(v===r){x=!0,r=f,a=c;break}v=v.sibling}if(!x)throw Error(i(189))}}if(a.alternate!==r)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:t}function b(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e;for(e=e.child;e!==null;){if(t=b(e),t!==null)return t;e=e.sibling}return null}var w=Object.assign,R=Symbol.for("react.element"),O=Symbol.for("react.transitional.element"),G=Symbol.for("react.portal"),$=Symbol.for("react.fragment"),F=Symbol.for("react.strict_mode"),K=Symbol.for("react.profiler"),te=Symbol.for("react.provider"),le=Symbol.for("react.consumer"),oe=Symbol.for("react.context"),ve=Symbol.for("react.forward_ref"),be=Symbol.for("react.suspense"),fe=Symbol.for("react.suspense_list"),V=Symbol.for("react.memo"),E=Symbol.for("react.lazy"),N=Symbol.for("react.activity"),C=Symbol.for("react.memo_cache_sentinel"),D=Symbol.iterator;function M(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}var S=Symbol.for("react.client.reference");function yt(e){if(e==null)return null;if(typeof e=="function")return e.$$typeof===S?null:e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case $:return"Fragment";case K:return"Profiler";case F:return"StrictMode";case be:return"Suspense";case fe:return"SuspenseList";case N:return"Activity"}if(typeof e=="object")switch(e.$$typeof){case G:return"Portal";case oe:return(e.displayName||"Context")+".Provider";case le:return(e._context.displayName||"Context")+".Consumer";case ve:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case V:return t=e.displayName||null,t!==null?t:yt(e.type)||"Memo";case E:t=e._payload,e=e._init;try{return yt(e(t))}catch{}}return null}var it=Array.isArray,Q=n.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=s.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,B={pending:!1,data:null,method:null,action:null},ae=[],he=-1;function Re(e){return{current:e}}function _e(e){0>he||(e.current=ae[he],ae[he]=null,he--)}function pe(e,t){he++,ae[he]=e.current,e.current=t}var Pe=Re(null),ct=Re(null),An=Re(null),un=Re(null);function Ma(e,t){switch(pe(An,t),pe(ct,e),pe(Pe,null),t.nodeType){case 9:case 11:e=(e=t.documentElement)&&(e=e.namespaceURI)?yp(e):0;break;default:if(e=t.tagName,t=t.namespaceURI)t=yp(t),e=xp(t,e);else switch(e){case"svg":e=1;break;case"math":e=2;break;default:e=0}}_e(Pe),pe(Pe,e)}function Oa(){_e(Pe),_e(ct),_e(An)}function ka(e){e.memoizedState!==null&&pe(un,e);var t=Pe.current,a=xp(t,e.type);t!==a&&(pe(ct,e),pe(Pe,a))}function sa(e){ct.current===e&&(_e(Pe),_e(ct)),un.current===e&&(_e(un),Cl._currentValue=B)}var ws=Object.prototype.hasOwnProperty,Es=l.unstable_scheduleCallback,As=l.unstable_cancelCallback,Nr=l.unstable_shouldYield,lo=l.unstable_requestPaint,cn=l.unstable_now,Tc=l.unstable_getCurrentPriorityLevel,Rr=l.unstable_ImmediatePriority,yi=l.unstable_UserBlockingPriority,Ss=l.unstable_NormalPriority,wc=l.unstable_LowPriority,xi=l.unstable_IdlePriority,jr=l.log,oo=l.unstable_setDisableYieldValue,nt=null,Le=null;function Wt(e){if(typeof jr=="function"&&oo(e),Le&&typeof Le.setStrictMode=="function")try{Le.setStrictMode(nt,e)}catch{}}var Lt=Math.clz32?Math.clz32:Ns,uo=Math.log,Ec=Math.LN2;function Ns(e){return e>>>=0,e===0?32:31-(uo(e)/Ec|0)|0}var Rs=256,js=4194304;function Sn(e){var t=e&42;if(t!==0)return t;switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194048;case 4194304:case 8388608:case 16777216:case 33554432:return e&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return e}}function vi(e,t,a){var r=e.pendingLanes;if(r===0)return 0;var c=0,f=e.suspendedLanes,x=e.pingedLanes;e=e.warmLanes;var v=r&134217727;return v!==0?(r=v&~f,r!==0?c=Sn(r):(x&=v,x!==0?c=Sn(x):a||(a=v&~e,a!==0&&(c=Sn(a))))):(v=r&~f,v!==0?c=Sn(v):x!==0?c=Sn(x):a||(a=r&~e,a!==0&&(c=Sn(a)))),c===0?0:t!==0&&t!==c&&(t&f)===0&&(f=c&-c,a=t&-t,f>=a||f===32&&(a&4194048)!==0)?t:c}function Cs(e,t){return(e.pendingLanes&~(e.suspendedLanes&~e.pingedLanes)&t)===0}function Cr(e,t){switch(e){case 1:case 2:case 4:case 8:case 64:return t+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Vr(){var e=Rs;return Rs<<=1,(Rs&4194048)===0&&(Rs=256),e}function Dr(){var e=js;return js<<=1,(js&62914560)===0&&(js=4194304),e}function ia(e){for(var t=[],a=0;31>a;a++)t.push(e);return t}function ra(e,t){e.pendingLanes|=t,t!==268435456&&(e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0)}function Ir(e,t,a,r,c,f){var x=e.pendingLanes;e.pendingLanes=a,e.suspendedLanes=0,e.pingedLanes=0,e.warmLanes=0,e.expiredLanes&=a,e.entangledLanes&=a,e.errorRecoveryDisabledLanes&=a,e.shellSuspendCounter=0;var v=e.entanglements,A=e.expirationTimes,z=e.hiddenUpdates;for(a=x&~a;0<a;){var H=31-Lt(a),X=1<<H;v[H]=0,A[H]=-1;var P=z[H];if(P!==null)for(z[H]=null,H=0;H<P.length;H++){var L=P[H];L!==null&&(L.lane&=-536870913)}a&=~X}r!==0&&In(e,r,0),f!==0&&c===0&&e.tag!==0&&(e.suspendedLanes|=f&~(x&~t))}function In(e,t,a){e.pendingLanes|=t,e.suspendedLanes&=~t;var r=31-Lt(t);e.entangledLanes|=t,e.entanglements[r]=e.entanglements[r]|1073741824|a&4194090}function Mr(e,t){var a=e.entangledLanes|=t;for(e=e.entanglements;a;){var r=31-Lt(a),c=1<<r;c&t|e[r]&t&&(e[r]|=t),a&=~c}}function Ua(e){switch(e){case 2:e=1;break;case 8:e=4;break;case 32:e=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:e=128;break;case 268435456:e=134217728;break;default:e=0}return e}function bi(e){return e&=-e,2<e?8<e?(e&134217727)!==0?32:268435456:8:2}function za(){var e=J.p;return e!==0?e:(e=window.event,e===void 0?32:Up(e.type))}function co(e,t){var a=J.p;try{return J.p=e,t()}finally{J.p=a}}var Ze=Math.random().toString(36).slice(2),xt="__reactFiber$"+Ze,ht="__reactProps$"+Ze,hn="__reactContainer$"+Ze,Or="__reactEvents$"+Ze,Ac="__reactListeners$"+Ze,Pa="__reactHandles$"+Ze,ho="__reactResources$"+Ze,Vs="__reactMarker$"+Ze;function La(e){delete e[xt],delete e[ht],delete e[Or],delete e[Ac],delete e[Pa]}function la(e){var t=e[xt];if(t)return t;for(var a=e.parentNode;a;){if(t=a[hn]||a[xt]){if(a=t.alternate,t.child!==null||a!==null&&a.child!==null)for(e=Tp(e);e!==null;){if(a=e[xt])return a;e=Tp(e)}return t}e=a,a=e.parentNode}return null}function Mn(e){if(e=e[xt]||e[hn]){var t=e.tag;if(t===5||t===6||t===13||t===26||t===27||t===3)return e}return null}function On(e){var t=e.tag;if(t===5||t===26||t===27||t===6)return e.stateNode;throw Error(i(33))}function Qt(e){var t=e[ho];return t||(t=e[ho]={hoistableStyles:new Map,hoistableScripts:new Map}),t}function rt(e){e[Vs]=!0}var kr=new Set,_i={};function Nn(e,t){oa(e,t),oa(e+"Capture",t)}function oa(e,t){for(_i[e]=t,e=0;e<t.length;e++)kr.add(t[e])}var fo=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),mo={},Ds={};function go(e){return ws.call(Ds,e)?!0:ws.call(mo,e)?!1:fo.test(e)?Ds[e]=!0:(mo[e]=!0,!1)}function qa(e,t,a){if(go(t))if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":e.removeAttribute(t);return;case"boolean":var r=t.toLowerCase().slice(0,5);if(r!=="data-"&&r!=="aria-"){e.removeAttribute(t);return}}e.setAttribute(t,""+a)}}function kn(e,t,a){if(a===null)e.removeAttribute(t);else{switch(typeof a){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(t);return}e.setAttribute(t,""+a)}}function Dt(e,t,a,r){if(r===null)e.removeAttribute(a);else{switch(typeof r){case"undefined":case"function":case"symbol":case"boolean":e.removeAttribute(a);return}e.setAttributeNS(t,a,""+r)}}var Is,po;function ua(e){if(Is===void 0)try{throw Error()}catch(a){var t=a.stack.trim().match(/\n( *(at )?)/);Is=t&&t[1]||"",po=-1<a.stack.indexOf(`
    at`)?" (<anonymous>)":-1<a.stack.indexOf("@")?"@unknown:0:0":""}return`
`+Is+e+po}var Ti=!1;function wi(e,t){if(!e||Ti)return"";Ti=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var r={DetermineComponentFrameRoot:function(){try{if(t){var X=function(){throw Error()};if(Object.defineProperty(X.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(X,[])}catch(L){var P=L}Reflect.construct(e,[],X)}else{try{X.call()}catch(L){P=L}e.call(X.prototype)}}else{try{throw Error()}catch(L){P=L}(X=e())&&typeof X.catch=="function"&&X.catch(function(){})}}catch(L){if(L&&P&&typeof L.stack=="string")return[L.stack,P.stack]}return[null,null]}};r.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var c=Object.getOwnPropertyDescriptor(r.DetermineComponentFrameRoot,"name");c&&c.configurable&&Object.defineProperty(r.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var f=r.DetermineComponentFrameRoot(),x=f[0],v=f[1];if(x&&v){var A=x.split(`
`),z=v.split(`
`);for(c=r=0;r<A.length&&!A[r].includes("DetermineComponentFrameRoot");)r++;for(;c<z.length&&!z[c].includes("DetermineComponentFrameRoot");)c++;if(r===A.length||c===z.length)for(r=A.length-1,c=z.length-1;1<=r&&0<=c&&A[r]!==z[c];)c--;for(;1<=r&&0<=c;r--,c--)if(A[r]!==z[c]){if(r!==1||c!==1)do if(r--,c--,0>c||A[r]!==z[c]){var H=`
`+A[r].replace(" at new "," at ");return e.displayName&&H.includes("<anonymous>")&&(H=H.replace("<anonymous>",e.displayName)),H}while(1<=r&&0<=c);break}}}finally{Ti=!1,Error.prepareStackTrace=a}return(a=e?e.displayName||e.name:"")?ua(a):""}function Ur(e){switch(e.tag){case 26:case 27:case 5:return ua(e.type);case 16:return ua("Lazy");case 13:return ua("Suspense");case 19:return ua("SuspenseList");case 0:case 15:return wi(e.type,!1);case 11:return wi(e.type.render,!1);case 1:return wi(e.type,!0);case 31:return ua("Activity");default:return""}}function Ei(e){try{var t="";do t+=Ur(e),e=e.return;while(e);return t}catch(a){return`
Error generating stack: `+a.message+`
`+a.stack}}function Ft(e){switch(typeof e){case"bigint":case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function zr(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Sc(e){var t=zr(e)?"checked":"value",a=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof a<"u"&&typeof a.get=="function"&&typeof a.set=="function"){var c=a.get,f=a.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return c.call(this)},set:function(x){r=""+x,f.call(this,x)}}),Object.defineProperty(e,t,{enumerable:a.enumerable}),{getValue:function(){return r},setValue:function(x){r=""+x},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ai(e){e._valueTracker||(e._valueTracker=Sc(e))}function Pr(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var a=t.getValue(),r="";return e&&(r=zr(e)?e.checked?"true":"false":e.value),e=r,e!==a?(t.setValue(e),!0):!1}function Ms(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}var Nc=/[\n"\\]/g;function dt(e){return e.replace(Nc,function(t){return"\\"+t.charCodeAt(0).toString(16)+" "})}function en(e,t,a,r,c,f,x,v){e.name="",x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"?e.type=x:e.removeAttribute("type"),t!=null?x==="number"?(t===0&&e.value===""||e.value!=t)&&(e.value=""+Ft(t)):e.value!==""+Ft(t)&&(e.value=""+Ft(t)):x!=="submit"&&x!=="reset"||e.removeAttribute("value"),t!=null?Ba(e,x,Ft(t)):a!=null?Ba(e,x,Ft(a)):r!=null&&e.removeAttribute("value"),c==null&&f!=null&&(e.defaultChecked=!!f),c!=null&&(e.checked=c&&typeof c!="function"&&typeof c!="symbol"),v!=null&&typeof v!="function"&&typeof v!="symbol"&&typeof v!="boolean"?e.name=""+Ft(v):e.removeAttribute("name")}function Os(e,t,a,r,c,f,x,v){if(f!=null&&typeof f!="function"&&typeof f!="symbol"&&typeof f!="boolean"&&(e.type=f),t!=null||a!=null){if(!(f!=="submit"&&f!=="reset"||t!=null))return;a=a!=null?""+Ft(a):"",t=t!=null?""+Ft(t):a,v||t===e.value||(e.value=t),e.defaultValue=t}r=r??c,r=typeof r!="function"&&typeof r!="symbol"&&!!r,e.checked=v?e.checked:!!r,e.defaultChecked=!!r,x!=null&&typeof x!="function"&&typeof x!="symbol"&&typeof x!="boolean"&&(e.name=x)}function Ba(e,t,a){t==="number"&&Ms(e.ownerDocument)===e||e.defaultValue===""+a||(e.defaultValue=""+a)}function ca(e,t,a,r){if(e=e.options,t){t={};for(var c=0;c<a.length;c++)t["$"+a[c]]=!0;for(a=0;a<e.length;a++)c=t.hasOwnProperty("$"+e[a].value),e[a].selected!==c&&(e[a].selected=c),c&&r&&(e[a].defaultSelected=!0)}else{for(a=""+Ft(a),t=null,c=0;c<e.length;c++){if(e[c].value===a){e[c].selected=!0,r&&(e[c].defaultSelected=!0);return}t!==null||e[c].disabled||(t=e[c])}t!==null&&(t.selected=!0)}}function Ge(e,t,a){if(t!=null&&(t=""+Ft(t),t!==e.value&&(e.value=t),a==null)){e.defaultValue!==t&&(e.defaultValue=t);return}e.defaultValue=a!=null?""+Ft(a):""}function ks(e,t,a,r){if(t==null){if(r!=null){if(a!=null)throw Error(i(92));if(it(r)){if(1<r.length)throw Error(i(93));r=r[0]}a=r}a==null&&(a=""),t=a}a=Ft(t),e.defaultValue=a,r=e.textContent,r===a&&r!==""&&r!==null&&(e.value=r)}function dn(e,t){if(t){var a=e.firstChild;if(a&&a===e.lastChild&&a.nodeType===3){a.nodeValue=t;return}}e.textContent=t}var Us=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function yo(e,t,a){var r=t.indexOf("--")===0;a==null||typeof a=="boolean"||a===""?r?e.setProperty(t,""):t==="float"?e.cssFloat="":e[t]="":r?e.setProperty(t,a):typeof a!="number"||a===0||Us.has(t)?t==="float"?e.cssFloat=a:e[t]=(""+a).trim():e[t]=a+"px"}function Lr(e,t,a){if(t!=null&&typeof t!="object")throw Error(i(62));if(e=e.style,a!=null){for(var r in a)!a.hasOwnProperty(r)||t!=null&&t.hasOwnProperty(r)||(r.indexOf("--")===0?e.setProperty(r,""):r==="float"?e.cssFloat="":e[r]="");for(var c in t)r=t[c],t.hasOwnProperty(c)&&a[c]!==r&&yo(e,c,r)}else for(var f in t)t.hasOwnProperty(f)&&yo(e,f,t[f])}function qr(e){if(e.indexOf("-")===-1)return!1;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Rc=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),jc=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Si(e){return jc.test(""+e)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":e}var ha=null;function fn(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var da=null,fa=null;function Br(e){var t=Mn(e);if(t&&(e=t.stateNode)){var a=e[ht]||null;e:switch(e=t.stateNode,t.type){case"input":if(en(e,a.value,a.defaultValue,a.defaultValue,a.checked,a.defaultChecked,a.type,a.name),t=a.name,a.type==="radio"&&t!=null){for(a=e;a.parentNode;)a=a.parentNode;for(a=a.querySelectorAll('input[name="'+dt(""+t)+'"][type="radio"]'),t=0;t<a.length;t++){var r=a[t];if(r!==e&&r.form===e.form){var c=r[ht]||null;if(!c)throw Error(i(90));en(r,c.value,c.defaultValue,c.defaultValue,c.checked,c.defaultChecked,c.type,c.name)}}for(t=0;t<a.length;t++)r=a[t],r.form===e.form&&Pr(r)}break e;case"textarea":Ge(e,a.value,a.defaultValue);break e;case"select":t=a.value,t!=null&&ca(e,!!a.multiple,t,!1)}}}var Un=!1;function xo(e,t,a){if(Un)return e(t,a);Un=!0;try{var r=e(t);return r}finally{if(Un=!1,(da!==null||fa!==null)&&(hu(),da&&(t=da,e=fa,fa=da=null,Br(t),e)))for(t=0;t<e.length;t++)Br(e[t])}}function zs(e,t){var a=e.stateNode;if(a===null)return null;var r=a[ht]||null;if(r===null)return null;a=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(a&&typeof a!="function")throw Error(i(231,t,typeof a));return a}var Rn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),mn=!1;if(Rn)try{var Ps={};Object.defineProperty(Ps,"passive",{get:function(){mn=!0}}),window.addEventListener("test",Ps,Ps),window.removeEventListener("test",Ps,Ps)}catch{mn=!1}var zn=null,Ga=null,ma=null;function Gr(){if(ma)return ma;var e,t=Ga,a=t.length,r,c="value"in zn?zn.value:zn.textContent,f=c.length;for(e=0;e<a&&t[e]===c[e];e++);var x=a-e;for(r=1;r<=x&&t[a-r]===c[f-r];r++);return ma=c.slice(e,1<r?1-r:void 0)}function Pn(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Ln(){return!0}function Hr(){return!1}function At(e){function t(a,r,c,f,x){this._reactName=a,this._targetInst=c,this.type=r,this.nativeEvent=f,this.target=x,this.currentTarget=null;for(var v in e)e.hasOwnProperty(v)&&(a=e[v],this[v]=a?a(f):f[v]);return this.isDefaultPrevented=(f.defaultPrevented!=null?f.defaultPrevented:f.returnValue===!1)?Ln:Hr,this.isPropagationStopped=Hr,this}return w(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var a=this.nativeEvent;a&&(a.preventDefault?a.preventDefault():typeof a.returnValue!="unknown"&&(a.returnValue=!1),this.isDefaultPrevented=Ln)},stopPropagation:function(){var a=this.nativeEvent;a&&(a.stopPropagation?a.stopPropagation():typeof a.cancelBubble!="unknown"&&(a.cancelBubble=!0),this.isPropagationStopped=Ln)},persist:function(){},isPersistent:Ln}),t}var Ue={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ni=At(Ue),Ls=w({},Ue,{view:0,detail:0}),vo=At(Ls),Ri,ji,qn,qs=w({},Ls,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Hs,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==qn&&(qn&&e.type==="mousemove"?(Ri=e.screenX-qn.screenX,ji=e.screenY-qn.screenY):ji=Ri=0,qn=e),Ri)},movementY:function(e){return"movementY"in e?e.movementY:ji}}),gn=At(qs),bo=w({},qs,{dataTransfer:0}),Cc=At(bo),Bs=w({},Ls,{relatedTarget:0}),Ci=At(Bs),Qr=w({},Ue,{animationName:0,elapsedTime:0,pseudoElement:0}),Vi=At(Qr),_o=w({},Ue,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),Di=At(_o),Vc=w({},Ue,{data:0}),Fr=At(Vc),Gs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},To={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},wo={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Yr(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=wo[e])?!!t[e]:!1}function Hs(){return Yr}var Eo=w({},Ls,{key:function(e){if(e.key){var t=Gs[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Pn(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?To[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Hs,charCode:function(e){return e.type==="keypress"?Pn(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Pn(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),Ii=At(Eo),Ao=w({},qs,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Kr=At(Ao),ga=w({},Ls,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Hs}),So=At(ga),No=w({},Ue,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ro=At(No),jo=w({},qs,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Mi=At(jo),Yt=w({},Ue,{newState:0,oldState:0}),Co=At(Yt),Vo=[9,13,27,32],Bn=Rn&&"CompositionEvent"in window,o=null;Rn&&"documentMode"in document&&(o=document.documentMode);var m=Rn&&"TextEvent"in window&&!o,p=Rn&&(!Bn||o&&8<o&&11>=o),T=" ",k=!1;function q(e,t){switch(e){case"keyup":return Vo.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ne(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Ve=!1;function vt(e,t){switch(e){case"compositionend":return ne(t);case"keypress":return t.which!==32?null:(k=!0,T);case"textInput":return e=t.data,e===T&&k?null:e;default:return null}}function De(e,t){if(Ve)return e==="compositionend"||!Bn&&q(e,t)?(e=Gr(),ma=Ga=zn=null,Ve=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return p&&t.locale!=="ko"?null:t.data;default:return null}}var St={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bt(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!St[e.type]:t==="textarea"}function pa(e,t,a,r){da?fa?fa.push(r):fa=[r]:da=r,t=yu(t,"onChange"),0<t.length&&(a=new Ni("onChange","change",null,a,r),e.push({event:a,listeners:t}))}var It=null,Gn=null;function Xr(e){dp(e,0)}function Do(e){var t=On(e);if(Pr(t))return e}function If(e,t){if(e==="change")return t}var Mf=!1;if(Rn){var Dc;if(Rn){var Ic="oninput"in document;if(!Ic){var Of=document.createElement("div");Of.setAttribute("oninput","return;"),Ic=typeof Of.oninput=="function"}Dc=Ic}else Dc=!1;Mf=Dc&&(!document.documentMode||9<document.documentMode)}function kf(){It&&(It.detachEvent("onpropertychange",Uf),Gn=It=null)}function Uf(e){if(e.propertyName==="value"&&Do(Gn)){var t=[];pa(t,Gn,e,fn(e)),xo(Xr,t)}}function Ox(e,t,a){e==="focusin"?(kf(),It=t,Gn=a,It.attachEvent("onpropertychange",Uf)):e==="focusout"&&kf()}function kx(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Do(Gn)}function Ux(e,t){if(e==="click")return Do(t)}function zx(e,t){if(e==="input"||e==="change")return Do(t)}function Px(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var tn=typeof Object.is=="function"?Object.is:Px;function Zr(e,t){if(tn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var a=Object.keys(e),r=Object.keys(t);if(a.length!==r.length)return!1;for(r=0;r<a.length;r++){var c=a[r];if(!ws.call(t,c)||!tn(e[c],t[c]))return!1}return!0}function zf(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Pf(e,t){var a=zf(e);e=0;for(var r;a;){if(a.nodeType===3){if(r=e+a.textContent.length,e<=t&&r>=t)return{node:a,offset:t-e};e=r}e:{for(;a;){if(a.nextSibling){a=a.nextSibling;break e}a=a.parentNode}a=void 0}a=zf(a)}}function Lf(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Lf(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qf(e){e=e!=null&&e.ownerDocument!=null&&e.ownerDocument.defaultView!=null?e.ownerDocument.defaultView:window;for(var t=Ms(e.document);t instanceof e.HTMLIFrameElement;){try{var a=typeof t.contentWindow.location.href=="string"}catch{a=!1}if(a)e=t.contentWindow;else break;t=Ms(e.document)}return t}function Mc(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}var Lx=Rn&&"documentMode"in document&&11>=document.documentMode,Oi=null,Oc=null,Jr=null,kc=!1;function Bf(e,t,a){var r=a.window===a?a.document:a.nodeType===9?a:a.ownerDocument;kc||Oi==null||Oi!==Ms(r)||(r=Oi,"selectionStart"in r&&Mc(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Jr&&Zr(Jr,r)||(Jr=r,r=yu(Oc,"onSelect"),0<r.length&&(t=new Ni("onSelect","select",null,t,a),e.push({event:t,listeners:r}),t.target=Oi)))}function Qs(e,t){var a={};return a[e.toLowerCase()]=t.toLowerCase(),a["Webkit"+e]="webkit"+t,a["Moz"+e]="moz"+t,a}var ki={animationend:Qs("Animation","AnimationEnd"),animationiteration:Qs("Animation","AnimationIteration"),animationstart:Qs("Animation","AnimationStart"),transitionrun:Qs("Transition","TransitionRun"),transitionstart:Qs("Transition","TransitionStart"),transitioncancel:Qs("Transition","TransitionCancel"),transitionend:Qs("Transition","TransitionEnd")},Uc={},Gf={};Rn&&(Gf=document.createElement("div").style,"AnimationEvent"in window||(delete ki.animationend.animation,delete ki.animationiteration.animation,delete ki.animationstart.animation),"TransitionEvent"in window||delete ki.transitionend.transition);function Fs(e){if(Uc[e])return Uc[e];if(!ki[e])return e;var t=ki[e],a;for(a in t)if(t.hasOwnProperty(a)&&a in Gf)return Uc[e]=t[a];return e}var Hf=Fs("animationend"),Qf=Fs("animationiteration"),Ff=Fs("animationstart"),qx=Fs("transitionrun"),Bx=Fs("transitionstart"),Gx=Fs("transitioncancel"),Yf=Fs("transitionend"),Kf=new Map,zc="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");zc.push("scrollEnd");function jn(e,t){Kf.set(e,t),Nn(t,[e])}var Xf=new WeakMap;function pn(e,t){if(typeof e=="object"&&e!==null){var a=Xf.get(e);return a!==void 0?a:(t={value:e,source:t,stack:Ei(t)},Xf.set(e,t),t)}return{value:e,source:t,stack:Ei(t)}}var yn=[],Ui=0,Pc=0;function Io(){for(var e=Ui,t=Pc=Ui=0;t<e;){var a=yn[t];yn[t++]=null;var r=yn[t];yn[t++]=null;var c=yn[t];yn[t++]=null;var f=yn[t];if(yn[t++]=null,r!==null&&c!==null){var x=r.pending;x===null?c.next=c:(c.next=x.next,x.next=c),r.pending=c}f!==0&&Zf(a,c,f)}}function Mo(e,t,a,r){yn[Ui++]=e,yn[Ui++]=t,yn[Ui++]=a,yn[Ui++]=r,Pc|=r,e.lanes|=r,e=e.alternate,e!==null&&(e.lanes|=r)}function Lc(e,t,a,r){return Mo(e,t,a,r),Oo(e)}function zi(e,t){return Mo(e,null,null,t),Oo(e)}function Zf(e,t,a){e.lanes|=a;var r=e.alternate;r!==null&&(r.lanes|=a);for(var c=!1,f=e.return;f!==null;)f.childLanes|=a,r=f.alternate,r!==null&&(r.childLanes|=a),f.tag===22&&(e=f.stateNode,e===null||e._visibility&1||(c=!0)),e=f,f=f.return;return e.tag===3?(f=e.stateNode,c&&t!==null&&(c=31-Lt(a),e=f.hiddenUpdates,r=e[c],r===null?e[c]=[t]:r.push(t),t.lane=a|536870912),f):null}function Oo(e){if(50<Tl)throw Tl=0,Fh=null,Error(i(185));for(var t=e.return;t!==null;)e=t,t=e.return;return e.tag===3?e.stateNode:null}var Pi={};function Hx(e,t,a,r){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function nn(e,t,a,r){return new Hx(e,t,a,r)}function qc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function ya(e,t){var a=e.alternate;return a===null?(a=nn(e.tag,t,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=t,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&65011712,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,t=e.dependencies,a.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a.refCleanup=e.refCleanup,a}function Jf(e,t){e.flags&=65011714;var a=e.alternate;return a===null?(e.childLanes=0,e.lanes=t,e.child=null,e.subtreeFlags=0,e.memoizedProps=null,e.memoizedState=null,e.updateQueue=null,e.dependencies=null,e.stateNode=null):(e.childLanes=a.childLanes,e.lanes=a.lanes,e.child=a.child,e.subtreeFlags=0,e.deletions=null,e.memoizedProps=a.memoizedProps,e.memoizedState=a.memoizedState,e.updateQueue=a.updateQueue,e.type=a.type,t=a.dependencies,e.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),e}function ko(e,t,a,r,c,f){var x=0;if(r=e,typeof e=="function")qc(e)&&(x=1);else if(typeof e=="string")x=Fv(e,a,Pe.current)?26:e==="html"||e==="head"||e==="body"?27:5;else e:switch(e){case N:return e=nn(31,a,t,c),e.elementType=N,e.lanes=f,e;case $:return Ys(a.children,c,f,t);case F:x=8,c|=24;break;case K:return e=nn(12,a,t,c|2),e.elementType=K,e.lanes=f,e;case be:return e=nn(13,a,t,c),e.elementType=be,e.lanes=f,e;case fe:return e=nn(19,a,t,c),e.elementType=fe,e.lanes=f,e;default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case te:case oe:x=10;break e;case le:x=9;break e;case ve:x=11;break e;case V:x=14;break e;case E:x=16,r=null;break e}x=29,a=Error(i(130,e===null?"null":typeof e,"")),r=null}return t=nn(x,a,t,c),t.elementType=e,t.type=r,t.lanes=f,t}function Ys(e,t,a,r){return e=nn(7,e,r,t),e.lanes=a,e}function Bc(e,t,a){return e=nn(6,e,null,t),e.lanes=a,e}function Gc(e,t,a){return t=nn(4,e.children!==null?e.children:[],e.key,t),t.lanes=a,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}var Li=[],qi=0,Uo=null,zo=0,xn=[],vn=0,Ks=null,xa=1,va="";function Xs(e,t){Li[qi++]=zo,Li[qi++]=Uo,Uo=e,zo=t}function $f(e,t,a){xn[vn++]=xa,xn[vn++]=va,xn[vn++]=Ks,Ks=e;var r=xa;e=va;var c=32-Lt(r)-1;r&=~(1<<c),a+=1;var f=32-Lt(t)+c;if(30<f){var x=c-c%5;f=(r&(1<<x)-1).toString(32),r>>=x,c-=x,xa=1<<32-Lt(t)+c|a<<c|r,va=f+e}else xa=1<<f|a<<c|r,va=e}function Hc(e){e.return!==null&&(Xs(e,1),$f(e,1,0))}function Qc(e){for(;e===Uo;)Uo=Li[--qi],Li[qi]=null,zo=Li[--qi],Li[qi]=null;for(;e===Ks;)Ks=xn[--vn],xn[vn]=null,va=xn[--vn],xn[vn]=null,xa=xn[--vn],xn[vn]=null}var Kt=null,at=null,ke=!1,Zs=null,Hn=!1,Fc=Error(i(519));function Js(e){var t=Error(i(418,""));throw el(pn(t,e)),Fc}function Wf(e){var t=e.stateNode,a=e.type,r=e.memoizedProps;switch(t[xt]=e,t[ht]=r,a){case"dialog":Ne("cancel",t),Ne("close",t);break;case"iframe":case"object":case"embed":Ne("load",t);break;case"video":case"audio":for(a=0;a<El.length;a++)Ne(El[a],t);break;case"source":Ne("error",t);break;case"img":case"image":case"link":Ne("error",t),Ne("load",t);break;case"details":Ne("toggle",t);break;case"input":Ne("invalid",t),Os(t,r.value,r.defaultValue,r.checked,r.defaultChecked,r.type,r.name,!0),Ai(t);break;case"select":Ne("invalid",t);break;case"textarea":Ne("invalid",t),ks(t,r.value,r.defaultValue,r.children),Ai(t)}a=r.children,typeof a!="string"&&typeof a!="number"&&typeof a!="bigint"||t.textContent===""+a||r.suppressHydrationWarning===!0||pp(t.textContent,a)?(r.popover!=null&&(Ne("beforetoggle",t),Ne("toggle",t)),r.onScroll!=null&&Ne("scroll",t),r.onScrollEnd!=null&&Ne("scrollend",t),r.onClick!=null&&(t.onclick=xu),t=!0):t=!1,t||Js(e)}function em(e){for(Kt=e.return;Kt;)switch(Kt.tag){case 5:case 13:Hn=!1;return;case 27:case 3:Hn=!0;return;default:Kt=Kt.return}}function $r(e){if(e!==Kt)return!1;if(!ke)return em(e),ke=!0,!1;var t=e.tag,a;if((a=t!==3&&t!==27)&&((a=t===5)&&(a=e.type,a=!(a!=="form"&&a!=="button")||od(e.type,e.memoizedProps)),a=!a),a&&at&&Js(e),em(e),t===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8)if(a=e.data,a==="/$"){if(t===0){at=Vn(e.nextSibling);break e}t--}else a!=="$"&&a!=="$!"&&a!=="$?"||t++;e=e.nextSibling}at=null}}else t===27?(t=at,is(e.type)?(e=dd,dd=null,at=e):at=t):at=Kt?Vn(e.stateNode.nextSibling):null;return!0}function Wr(){at=Kt=null,ke=!1}function tm(){var e=Zs;return e!==null&&(Jt===null?Jt=e:Jt.push.apply(Jt,e),Zs=null),e}function el(e){Zs===null?Zs=[e]:Zs.push(e)}var Yc=Re(null),$s=null,ba=null;function Ha(e,t,a){pe(Yc,t._currentValue),t._currentValue=a}function _a(e){e._currentValue=Yc.current,_e(Yc)}function Kc(e,t,a){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===a)break;e=e.return}}function Xc(e,t,a,r){var c=e.child;for(c!==null&&(c.return=e);c!==null;){var f=c.dependencies;if(f!==null){var x=c.child;f=f.firstContext;e:for(;f!==null;){var v=f;f=c;for(var A=0;A<t.length;A++)if(v.context===t[A]){f.lanes|=a,v=f.alternate,v!==null&&(v.lanes|=a),Kc(f.return,a,e),r||(x=null);break e}f=v.next}}else if(c.tag===18){if(x=c.return,x===null)throw Error(i(341));x.lanes|=a,f=x.alternate,f!==null&&(f.lanes|=a),Kc(x,a,e),x=null}else x=c.child;if(x!==null)x.return=c;else for(x=c;x!==null;){if(x===e){x=null;break}if(c=x.sibling,c!==null){c.return=x.return,x=c;break}x=x.return}c=x}}function tl(e,t,a,r){e=null;for(var c=t,f=!1;c!==null;){if(!f){if((c.flags&524288)!==0)f=!0;else if((c.flags&262144)!==0)break}if(c.tag===10){var x=c.alternate;if(x===null)throw Error(i(387));if(x=x.memoizedProps,x!==null){var v=c.type;tn(c.pendingProps.value,x.value)||(e!==null?e.push(v):e=[v])}}else if(c===un.current){if(x=c.alternate,x===null)throw Error(i(387));x.memoizedState.memoizedState!==c.memoizedState.memoizedState&&(e!==null?e.push(Cl):e=[Cl])}c=c.return}e!==null&&Xc(t,e,a,r),t.flags|=262144}function Po(e){for(e=e.firstContext;e!==null;){if(!tn(e.context._currentValue,e.memoizedValue))return!0;e=e.next}return!1}function Ws(e){$s=e,ba=null,e=e.dependencies,e!==null&&(e.firstContext=null)}function qt(e){return nm($s,e)}function Lo(e,t){return $s===null&&Ws(e),nm(e,t)}function nm(e,t){var a=t._currentValue;if(t={context:t,memoizedValue:a,next:null},ba===null){if(e===null)throw Error(i(308));ba=t,e.dependencies={lanes:0,firstContext:t},e.flags|=524288}else ba=ba.next=t;return a}var Qx=typeof AbortController<"u"?AbortController:function(){var e=[],t=this.signal={aborted:!1,addEventListener:function(a,r){e.push(r)}};this.abort=function(){t.aborted=!0,e.forEach(function(a){return a()})}},Fx=l.unstable_scheduleCallback,Yx=l.unstable_NormalPriority,_t={$$typeof:oe,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function Zc(){return{controller:new Qx,data:new Map,refCount:0}}function nl(e){e.refCount--,e.refCount===0&&Fx(Yx,function(){e.controller.abort()})}var al=null,Jc=0,Bi=0,Gi=null;function Kx(e,t){if(al===null){var a=al=[];Jc=0,Bi=Wh(),Gi={status:"pending",value:void 0,then:function(r){a.push(r)}}}return Jc++,t.then(am,am),t}function am(){if(--Jc===0&&al!==null){Gi!==null&&(Gi.status="fulfilled");var e=al;al=null,Bi=0,Gi=null;for(var t=0;t<e.length;t++)(0,e[t])()}}function Xx(e,t){var a=[],r={status:"pending",value:null,reason:null,then:function(c){a.push(c)}};return e.then(function(){r.status="fulfilled",r.value=t;for(var c=0;c<a.length;c++)(0,a[c])(t)},function(c){for(r.status="rejected",r.reason=c,c=0;c<a.length;c++)(0,a[c])(void 0)}),r}var sm=Q.S;Q.S=function(e,t){typeof t=="object"&&t!==null&&typeof t.then=="function"&&Kx(e,t),sm!==null&&sm(e,t)};var ei=Re(null);function $c(){var e=ei.current;return e!==null?e:Ke.pooledCache}function qo(e,t){t===null?pe(ei,ei.current):pe(ei,t.pool)}function im(){var e=$c();return e===null?null:{parent:_t._currentValue,pool:e}}var sl=Error(i(460)),rm=Error(i(474)),Bo=Error(i(542)),Wc={then:function(){}};function lm(e){return e=e.status,e==="fulfilled"||e==="rejected"}function Go(){}function om(e,t,a){switch(a=e[a],a===void 0?e.push(t):a!==t&&(t.then(Go,Go),t=a),t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cm(e),e;default:if(typeof t.status=="string")t.then(Go,Go);else{if(e=Ke,e!==null&&100<e.shellSuspendCounter)throw Error(i(482));e=t,e.status="pending",e.then(function(r){if(t.status==="pending"){var c=t;c.status="fulfilled",c.value=r}},function(r){if(t.status==="pending"){var c=t;c.status="rejected",c.reason=r}})}switch(t.status){case"fulfilled":return t.value;case"rejected":throw e=t.reason,cm(e),e}throw il=t,sl}}var il=null;function um(){if(il===null)throw Error(i(459));var e=il;return il=null,e}function cm(e){if(e===sl||e===Bo)throw Error(i(483))}var Qa=!1;function eh(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function th(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,callbacks:null})}function Fa(e){return{lane:e,tag:0,payload:null,callback:null,next:null}}function Ya(e,t,a){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,(qe&2)!==0){var c=r.pending;return c===null?t.next=t:(t.next=c.next,c.next=t),r.pending=t,t=Oo(e),Zf(e,null,a),t}return Mo(e,r,t,a),Oo(e)}function rl(e,t,a){if(t=t.updateQueue,t!==null&&(t=t.shared,(a&4194048)!==0)){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Mr(e,a)}}function nh(e,t){var a=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,a===r)){var c=null,f=null;if(a=a.firstBaseUpdate,a!==null){do{var x={lane:a.lane,tag:a.tag,payload:a.payload,callback:null,next:null};f===null?c=f=x:f=f.next=x,a=a.next}while(a!==null);f===null?c=f=t:f=f.next=t}else c=f=t;a={baseState:r.baseState,firstBaseUpdate:c,lastBaseUpdate:f,shared:r.shared,callbacks:r.callbacks},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=t:e.next=t,a.lastBaseUpdate=t}var ah=!1;function ll(){if(ah){var e=Gi;if(e!==null)throw e}}function ol(e,t,a,r){ah=!1;var c=e.updateQueue;Qa=!1;var f=c.firstBaseUpdate,x=c.lastBaseUpdate,v=c.shared.pending;if(v!==null){c.shared.pending=null;var A=v,z=A.next;A.next=null,x===null?f=z:x.next=z,x=A;var H=e.alternate;H!==null&&(H=H.updateQueue,v=H.lastBaseUpdate,v!==x&&(v===null?H.firstBaseUpdate=z:v.next=z,H.lastBaseUpdate=A))}if(f!==null){var X=c.baseState;x=0,H=z=A=null,v=f;do{var P=v.lane&-536870913,L=P!==v.lane;if(L?(Ie&P)===P:(r&P)===P){P!==0&&P===Bi&&(ah=!0),H!==null&&(H=H.next={lane:0,tag:v.tag,payload:v.payload,callback:null,next:null});e:{var xe=e,me=v;P=t;var Fe=a;switch(me.tag){case 1:if(xe=me.payload,typeof xe=="function"){X=xe.call(Fe,X,P);break e}X=xe;break e;case 3:xe.flags=xe.flags&-65537|128;case 0:if(xe=me.payload,P=typeof xe=="function"?xe.call(Fe,X,P):xe,P==null)break e;X=w({},X,P);break e;case 2:Qa=!0}}P=v.callback,P!==null&&(e.flags|=64,L&&(e.flags|=8192),L=c.callbacks,L===null?c.callbacks=[P]:L.push(P))}else L={lane:P,tag:v.tag,payload:v.payload,callback:v.callback,next:null},H===null?(z=H=L,A=X):H=H.next=L,x|=P;if(v=v.next,v===null){if(v=c.shared.pending,v===null)break;L=v,v=L.next,L.next=null,c.lastBaseUpdate=L,c.shared.pending=null}}while(!0);H===null&&(A=X),c.baseState=A,c.firstBaseUpdate=z,c.lastBaseUpdate=H,f===null&&(c.shared.lanes=0),ts|=x,e.lanes=x,e.memoizedState=X}}function hm(e,t){if(typeof e!="function")throw Error(i(191,e));e.call(t)}function dm(e,t){var a=e.callbacks;if(a!==null)for(e.callbacks=null,e=0;e<a.length;e++)hm(a[e],t)}var Hi=Re(null),Ho=Re(0);function fm(e,t){e=Ra,pe(Ho,e),pe(Hi,t),Ra=e|t.baseLanes}function sh(){pe(Ho,Ra),pe(Hi,Hi.current)}function ih(){Ra=Ho.current,_e(Hi),_e(Ho)}var Ka=0,Ee=null,He=null,ft=null,Qo=!1,Qi=!1,ti=!1,Fo=0,ul=0,Fi=null,Zx=0;function lt(){throw Error(i(321))}function rh(e,t){if(t===null)return!1;for(var a=0;a<t.length&&a<e.length;a++)if(!tn(e[a],t[a]))return!1;return!0}function lh(e,t,a,r,c,f){return Ka=f,Ee=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Q.H=e===null||e.memoizedState===null?Zm:Jm,ti=!1,f=a(r,c),ti=!1,Qi&&(f=gm(t,a,r,c)),mm(e),f}function mm(e){Q.H=$o;var t=He!==null&&He.next!==null;if(Ka=0,ft=He=Ee=null,Qo=!1,ul=0,Fi=null,t)throw Error(i(300));e===null||Nt||(e=e.dependencies,e!==null&&Po(e)&&(Nt=!0))}function gm(e,t,a,r){Ee=e;var c=0;do{if(Qi&&(Fi=null),ul=0,Qi=!1,25<=c)throw Error(i(301));if(c+=1,ft=He=null,e.updateQueue!=null){var f=e.updateQueue;f.lastEffect=null,f.events=null,f.stores=null,f.memoCache!=null&&(f.memoCache.index=0)}Q.H=av,f=t(a,r)}while(Qi);return f}function Jx(){var e=Q.H,t=e.useState()[0];return t=typeof t.then=="function"?cl(t):t,e=e.useState()[0],(He!==null?He.memoizedState:null)!==e&&(Ee.flags|=1024),t}function oh(){var e=Fo!==0;return Fo=0,e}function uh(e,t,a){t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a}function ch(e){if(Qo){for(e=e.memoizedState;e!==null;){var t=e.queue;t!==null&&(t.pending=null),e=e.next}Qo=!1}Ka=0,ft=He=Ee=null,Qi=!1,ul=Fo=0,Fi=null}function Xt(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ft===null?Ee.memoizedState=ft=e:ft=ft.next=e,ft}function mt(){if(He===null){var e=Ee.alternate;e=e!==null?e.memoizedState:null}else e=He.next;var t=ft===null?Ee.memoizedState:ft.next;if(t!==null)ft=t,He=e;else{if(e===null)throw Ee.alternate===null?Error(i(467)):Error(i(310));He=e,e={memoizedState:He.memoizedState,baseState:He.baseState,baseQueue:He.baseQueue,queue:He.queue,next:null},ft===null?Ee.memoizedState=ft=e:ft=ft.next=e}return ft}function hh(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function cl(e){var t=ul;return ul+=1,Fi===null&&(Fi=[]),e=om(Fi,e,t),t=Ee,(ft===null?t.memoizedState:ft.next)===null&&(t=t.alternate,Q.H=t===null||t.memoizedState===null?Zm:Jm),e}function Yo(e){if(e!==null&&typeof e=="object"){if(typeof e.then=="function")return cl(e);if(e.$$typeof===oe)return qt(e)}throw Error(i(438,String(e)))}function dh(e){var t=null,a=Ee.updateQueue;if(a!==null&&(t=a.memoCache),t==null){var r=Ee.alternate;r!==null&&(r=r.updateQueue,r!==null&&(r=r.memoCache,r!=null&&(t={data:r.data.map(function(c){return c.slice()}),index:0})))}if(t==null&&(t={data:[],index:0}),a===null&&(a=hh(),Ee.updateQueue=a),a.memoCache=t,a=t.data[t.index],a===void 0)for(a=t.data[t.index]=Array(e),r=0;r<e;r++)a[r]=C;return t.index++,a}function Ta(e,t){return typeof t=="function"?t(e):t}function Ko(e){var t=mt();return fh(t,He,e)}function fh(e,t,a){var r=e.queue;if(r===null)throw Error(i(311));r.lastRenderedReducer=a;var c=e.baseQueue,f=r.pending;if(f!==null){if(c!==null){var x=c.next;c.next=f.next,f.next=x}t.baseQueue=c=f,r.pending=null}if(f=e.baseState,c===null)e.memoizedState=f;else{t=c.next;var v=x=null,A=null,z=t,H=!1;do{var X=z.lane&-536870913;if(X!==z.lane?(Ie&X)===X:(Ka&X)===X){var P=z.revertLane;if(P===0)A!==null&&(A=A.next={lane:0,revertLane:0,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null}),X===Bi&&(H=!0);else if((Ka&P)===P){z=z.next,P===Bi&&(H=!0);continue}else X={lane:0,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},A===null?(v=A=X,x=f):A=A.next=X,Ee.lanes|=P,ts|=P;X=z.action,ti&&a(f,X),f=z.hasEagerState?z.eagerState:a(f,X)}else P={lane:X,revertLane:z.revertLane,action:z.action,hasEagerState:z.hasEagerState,eagerState:z.eagerState,next:null},A===null?(v=A=P,x=f):A=A.next=P,Ee.lanes|=X,ts|=X;z=z.next}while(z!==null&&z!==t);if(A===null?x=f:A.next=v,!tn(f,e.memoizedState)&&(Nt=!0,H&&(a=Gi,a!==null)))throw a;e.memoizedState=f,e.baseState=x,e.baseQueue=A,r.lastRenderedState=f}return c===null&&(r.lanes=0),[e.memoizedState,r.dispatch]}function mh(e){var t=mt(),a=t.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var r=a.dispatch,c=a.pending,f=t.memoizedState;if(c!==null){a.pending=null;var x=c=c.next;do f=e(f,x.action),x=x.next;while(x!==c);tn(f,t.memoizedState)||(Nt=!0),t.memoizedState=f,t.baseQueue===null&&(t.baseState=f),a.lastRenderedState=f}return[f,r]}function pm(e,t,a){var r=Ee,c=mt(),f=ke;if(f){if(a===void 0)throw Error(i(407));a=a()}else a=t();var x=!tn((He||c).memoizedState,a);x&&(c.memoizedState=a,Nt=!0),c=c.queue;var v=vm.bind(null,r,c,e);if(hl(2048,8,v,[e]),c.getSnapshot!==t||x||ft!==null&&ft.memoizedState.tag&1){if(r.flags|=2048,Yi(9,Xo(),xm.bind(null,r,c,a,t),null),Ke===null)throw Error(i(349));f||(Ka&124)!==0||ym(r,t,a)}return a}function ym(e,t,a){e.flags|=16384,e={getSnapshot:t,value:a},t=Ee.updateQueue,t===null?(t=hh(),Ee.updateQueue=t,t.stores=[e]):(a=t.stores,a===null?t.stores=[e]:a.push(e))}function xm(e,t,a,r){t.value=a,t.getSnapshot=r,bm(t)&&_m(e)}function vm(e,t,a){return a(function(){bm(t)&&_m(e)})}function bm(e){var t=e.getSnapshot;e=e.value;try{var a=t();return!tn(e,a)}catch{return!0}}function _m(e){var t=zi(e,2);t!==null&&on(t,e,2)}function gh(e){var t=Xt();if(typeof e=="function"){var a=e;if(e=a(),ti){Wt(!0);try{a()}finally{Wt(!1)}}}return t.memoizedState=t.baseState=e,t.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:e},t}function Tm(e,t,a,r){return e.baseState=a,fh(e,He,typeof r=="function"?r:Ta)}function $x(e,t,a,r,c){if(Jo(e))throw Error(i(485));if(e=t.action,e!==null){var f={payload:c,action:e,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(x){f.listeners.push(x)}};Q.T!==null?a(!0):f.isTransition=!1,r(f),a=t.pending,a===null?(f.next=t.pending=f,wm(t,f)):(f.next=a.next,t.pending=a.next=f)}}function wm(e,t){var a=t.action,r=t.payload,c=e.state;if(t.isTransition){var f=Q.T,x={};Q.T=x;try{var v=a(c,r),A=Q.S;A!==null&&A(x,v),Em(e,t,v)}catch(z){ph(e,t,z)}finally{Q.T=f}}else try{f=a(c,r),Em(e,t,f)}catch(z){ph(e,t,z)}}function Em(e,t,a){a!==null&&typeof a=="object"&&typeof a.then=="function"?a.then(function(r){Am(e,t,r)},function(r){return ph(e,t,r)}):Am(e,t,a)}function Am(e,t,a){t.status="fulfilled",t.value=a,Sm(t),e.state=a,t=e.pending,t!==null&&(a=t.next,a===t?e.pending=null:(a=a.next,t.next=a,wm(e,a)))}function ph(e,t,a){var r=e.pending;if(e.pending=null,r!==null){r=r.next;do t.status="rejected",t.reason=a,Sm(t),t=t.next;while(t!==r)}e.action=null}function Sm(e){e=e.listeners;for(var t=0;t<e.length;t++)(0,e[t])()}function Nm(e,t){return t}function Rm(e,t){if(ke){var a=Ke.formState;if(a!==null){e:{var r=Ee;if(ke){if(at){t:{for(var c=at,f=Hn;c.nodeType!==8;){if(!f){c=null;break t}if(c=Vn(c.nextSibling),c===null){c=null;break t}}f=c.data,c=f==="F!"||f==="F"?c:null}if(c){at=Vn(c.nextSibling),r=c.data==="F!";break e}}Js(r)}r=!1}r&&(t=a[0])}}return a=Xt(),a.memoizedState=a.baseState=t,r={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Nm,lastRenderedState:t},a.queue=r,a=Ym.bind(null,Ee,r),r.dispatch=a,r=gh(!1),f=_h.bind(null,Ee,!1,r.queue),r=Xt(),c={state:t,dispatch:null,action:e,pending:null},r.queue=c,a=$x.bind(null,Ee,c,f,a),c.dispatch=a,r.memoizedState=e,[t,a,!1]}function jm(e){var t=mt();return Cm(t,He,e)}function Cm(e,t,a){if(t=fh(e,t,Nm)[0],e=Ko(Ta)[0],typeof t=="object"&&t!==null&&typeof t.then=="function")try{var r=cl(t)}catch(x){throw x===sl?Bo:x}else r=t;t=mt();var c=t.queue,f=c.dispatch;return a!==t.memoizedState&&(Ee.flags|=2048,Yi(9,Xo(),Wx.bind(null,c,a),null)),[r,f,e]}function Wx(e,t){e.action=t}function Vm(e){var t=mt(),a=He;if(a!==null)return Cm(t,a,e);mt(),t=t.memoizedState,a=mt();var r=a.queue.dispatch;return a.memoizedState=e,[t,r,!1]}function Yi(e,t,a,r){return e={tag:e,create:a,deps:r,inst:t,next:null},t=Ee.updateQueue,t===null&&(t=hh(),Ee.updateQueue=t),a=t.lastEffect,a===null?t.lastEffect=e.next=e:(r=a.next,a.next=e,e.next=r,t.lastEffect=e),e}function Xo(){return{destroy:void 0,resource:void 0}}function Dm(){return mt().memoizedState}function Zo(e,t,a,r){var c=Xt();r=r===void 0?null:r,Ee.flags|=e,c.memoizedState=Yi(1|t,Xo(),a,r)}function hl(e,t,a,r){var c=mt();r=r===void 0?null:r;var f=c.memoizedState.inst;He!==null&&r!==null&&rh(r,He.memoizedState.deps)?c.memoizedState=Yi(t,f,a,r):(Ee.flags|=e,c.memoizedState=Yi(1|t,f,a,r))}function Im(e,t){Zo(8390656,8,e,t)}function Mm(e,t){hl(2048,8,e,t)}function Om(e,t){return hl(4,2,e,t)}function km(e,t){return hl(4,4,e,t)}function Um(e,t){if(typeof t=="function"){e=e();var a=t(e);return function(){typeof a=="function"?a():t(null)}}if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function zm(e,t,a){a=a!=null?a.concat([e]):null,hl(4,4,Um.bind(null,t,e),a)}function yh(){}function Pm(e,t){var a=mt();t=t===void 0?null:t;var r=a.memoizedState;return t!==null&&rh(t,r[1])?r[0]:(a.memoizedState=[e,t],e)}function Lm(e,t){var a=mt();t=t===void 0?null:t;var r=a.memoizedState;if(t!==null&&rh(t,r[1]))return r[0];if(r=e(),ti){Wt(!0);try{e()}finally{Wt(!1)}}return a.memoizedState=[r,t],r}function xh(e,t,a){return a===void 0||(Ka&1073741824)!==0?e.memoizedState=t:(e.memoizedState=a,e=Gg(),Ee.lanes|=e,ts|=e,a)}function qm(e,t,a,r){return tn(a,t)?a:Hi.current!==null?(e=xh(e,a,r),tn(e,t)||(Nt=!0),e):(Ka&42)===0?(Nt=!0,e.memoizedState=a):(e=Gg(),Ee.lanes|=e,ts|=e,t)}function Bm(e,t,a,r,c){var f=J.p;J.p=f!==0&&8>f?f:8;var x=Q.T,v={};Q.T=v,_h(e,!1,t,a);try{var A=c(),z=Q.S;if(z!==null&&z(v,A),A!==null&&typeof A=="object"&&typeof A.then=="function"){var H=Xx(A,r);dl(e,t,H,ln(e))}else dl(e,t,r,ln(e))}catch(X){dl(e,t,{then:function(){},status:"rejected",reason:X},ln())}finally{J.p=f,Q.T=x}}function ev(){}function vh(e,t,a,r){if(e.tag!==5)throw Error(i(476));var c=Gm(e).queue;Bm(e,c,t,B,a===null?ev:function(){return Hm(e),a(r)})}function Gm(e){var t=e.memoizedState;if(t!==null)return t;t={memoizedState:B,baseState:B,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:B},next:null};var a={};return t.next={memoizedState:a,baseState:a,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Ta,lastRenderedState:a},next:null},e.memoizedState=t,e=e.alternate,e!==null&&(e.memoizedState=t),t}function Hm(e){var t=Gm(e).next.queue;dl(e,t,{},ln())}function bh(){return qt(Cl)}function Qm(){return mt().memoizedState}function Fm(){return mt().memoizedState}function tv(e){for(var t=e.return;t!==null;){switch(t.tag){case 24:case 3:var a=ln();e=Fa(a);var r=Ya(t,e,a);r!==null&&(on(r,t,a),rl(r,t,a)),t={cache:Zc()},e.payload=t;return}t=t.return}}function nv(e,t,a){var r=ln();a={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null},Jo(e)?Km(t,a):(a=Lc(e,t,a,r),a!==null&&(on(a,e,r),Xm(a,t,r)))}function Ym(e,t,a){var r=ln();dl(e,t,a,r)}function dl(e,t,a,r){var c={lane:r,revertLane:0,action:a,hasEagerState:!1,eagerState:null,next:null};if(Jo(e))Km(t,c);else{var f=e.alternate;if(e.lanes===0&&(f===null||f.lanes===0)&&(f=t.lastRenderedReducer,f!==null))try{var x=t.lastRenderedState,v=f(x,a);if(c.hasEagerState=!0,c.eagerState=v,tn(v,x))return Mo(e,t,c,0),Ke===null&&Io(),!1}catch{}finally{}if(a=Lc(e,t,c,r),a!==null)return on(a,e,r),Xm(a,t,r),!0}return!1}function _h(e,t,a,r){if(r={lane:2,revertLane:Wh(),action:r,hasEagerState:!1,eagerState:null,next:null},Jo(e)){if(t)throw Error(i(479))}else t=Lc(e,a,r,2),t!==null&&on(t,e,2)}function Jo(e){var t=e.alternate;return e===Ee||t!==null&&t===Ee}function Km(e,t){Qi=Qo=!0;var a=e.pending;a===null?t.next=t:(t.next=a.next,a.next=t),e.pending=t}function Xm(e,t,a){if((a&4194048)!==0){var r=t.lanes;r&=e.pendingLanes,a|=r,t.lanes=a,Mr(e,a)}}var $o={readContext:qt,use:Yo,useCallback:lt,useContext:lt,useEffect:lt,useImperativeHandle:lt,useLayoutEffect:lt,useInsertionEffect:lt,useMemo:lt,useReducer:lt,useRef:lt,useState:lt,useDebugValue:lt,useDeferredValue:lt,useTransition:lt,useSyncExternalStore:lt,useId:lt,useHostTransitionStatus:lt,useFormState:lt,useActionState:lt,useOptimistic:lt,useMemoCache:lt,useCacheRefresh:lt},Zm={readContext:qt,use:Yo,useCallback:function(e,t){return Xt().memoizedState=[e,t===void 0?null:t],e},useContext:qt,useEffect:Im,useImperativeHandle:function(e,t,a){a=a!=null?a.concat([e]):null,Zo(4194308,4,Um.bind(null,t,e),a)},useLayoutEffect:function(e,t){return Zo(4194308,4,e,t)},useInsertionEffect:function(e,t){Zo(4,2,e,t)},useMemo:function(e,t){var a=Xt();t=t===void 0?null:t;var r=e();if(ti){Wt(!0);try{e()}finally{Wt(!1)}}return a.memoizedState=[r,t],r},useReducer:function(e,t,a){var r=Xt();if(a!==void 0){var c=a(t);if(ti){Wt(!0);try{a(t)}finally{Wt(!1)}}}else c=t;return r.memoizedState=r.baseState=c,e={pending:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:c},r.queue=e,e=e.dispatch=nv.bind(null,Ee,e),[r.memoizedState,e]},useRef:function(e){var t=Xt();return e={current:e},t.memoizedState=e},useState:function(e){e=gh(e);var t=e.queue,a=Ym.bind(null,Ee,t);return t.dispatch=a,[e.memoizedState,a]},useDebugValue:yh,useDeferredValue:function(e,t){var a=Xt();return xh(a,e,t)},useTransition:function(){var e=gh(!1);return e=Bm.bind(null,Ee,e.queue,!0,!1),Xt().memoizedState=e,[!1,e]},useSyncExternalStore:function(e,t,a){var r=Ee,c=Xt();if(ke){if(a===void 0)throw Error(i(407));a=a()}else{if(a=t(),Ke===null)throw Error(i(349));(Ie&124)!==0||ym(r,t,a)}c.memoizedState=a;var f={value:a,getSnapshot:t};return c.queue=f,Im(vm.bind(null,r,f,e),[e]),r.flags|=2048,Yi(9,Xo(),xm.bind(null,r,f,a,t),null),a},useId:function(){var e=Xt(),t=Ke.identifierPrefix;if(ke){var a=va,r=xa;a=(r&~(1<<32-Lt(r)-1)).toString(32)+a,t=""+t+"R"+a,a=Fo++,0<a&&(t+="H"+a.toString(32)),t+=""}else a=Zx++,t=""+t+"r"+a.toString(32)+"";return e.memoizedState=t},useHostTransitionStatus:bh,useFormState:Rm,useActionState:Rm,useOptimistic:function(e){var t=Xt();t.memoizedState=t.baseState=e;var a={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return t.queue=a,t=_h.bind(null,Ee,!0,a),a.dispatch=t,[e,t]},useMemoCache:dh,useCacheRefresh:function(){return Xt().memoizedState=tv.bind(null,Ee)}},Jm={readContext:qt,use:Yo,useCallback:Pm,useContext:qt,useEffect:Mm,useImperativeHandle:zm,useInsertionEffect:Om,useLayoutEffect:km,useMemo:Lm,useReducer:Ko,useRef:Dm,useState:function(){return Ko(Ta)},useDebugValue:yh,useDeferredValue:function(e,t){var a=mt();return qm(a,He.memoizedState,e,t)},useTransition:function(){var e=Ko(Ta)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:cl(e),t]},useSyncExternalStore:pm,useId:Qm,useHostTransitionStatus:bh,useFormState:jm,useActionState:jm,useOptimistic:function(e,t){var a=mt();return Tm(a,He,e,t)},useMemoCache:dh,useCacheRefresh:Fm},av={readContext:qt,use:Yo,useCallback:Pm,useContext:qt,useEffect:Mm,useImperativeHandle:zm,useInsertionEffect:Om,useLayoutEffect:km,useMemo:Lm,useReducer:mh,useRef:Dm,useState:function(){return mh(Ta)},useDebugValue:yh,useDeferredValue:function(e,t){var a=mt();return He===null?xh(a,e,t):qm(a,He.memoizedState,e,t)},useTransition:function(){var e=mh(Ta)[0],t=mt().memoizedState;return[typeof e=="boolean"?e:cl(e),t]},useSyncExternalStore:pm,useId:Qm,useHostTransitionStatus:bh,useFormState:Vm,useActionState:Vm,useOptimistic:function(e,t){var a=mt();return He!==null?Tm(a,He,e,t):(a.baseState=e,[e,a.queue.dispatch])},useMemoCache:dh,useCacheRefresh:Fm},Ki=null,fl=0;function Wo(e){var t=fl;return fl+=1,Ki===null&&(Ki=[]),om(Ki,e,t)}function ml(e,t){t=t.props.ref,e.ref=t!==void 0?t:null}function eu(e,t){throw t.$$typeof===R?Error(i(525)):(e=Object.prototype.toString.call(t),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)))}function $m(e){var t=e._init;return t(e._payload)}function Wm(e){function t(I,j){if(e){var U=I.deletions;U===null?(I.deletions=[j],I.flags|=16):U.push(j)}}function a(I,j){if(!e)return null;for(;j!==null;)t(I,j),j=j.sibling;return null}function r(I){for(var j=new Map;I!==null;)I.key!==null?j.set(I.key,I):j.set(I.index,I),I=I.sibling;return j}function c(I,j){return I=ya(I,j),I.index=0,I.sibling=null,I}function f(I,j,U){return I.index=U,e?(U=I.alternate,U!==null?(U=U.index,U<j?(I.flags|=67108866,j):U):(I.flags|=67108866,j)):(I.flags|=1048576,j)}function x(I){return e&&I.alternate===null&&(I.flags|=67108866),I}function v(I,j,U,Y){return j===null||j.tag!==6?(j=Bc(U,I.mode,Y),j.return=I,j):(j=c(j,U),j.return=I,j)}function A(I,j,U,Y){var re=U.type;return re===$?H(I,j,U.props.children,Y,U.key):j!==null&&(j.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===E&&$m(re)===j.type)?(j=c(j,U.props),ml(j,U),j.return=I,j):(j=ko(U.type,U.key,U.props,null,I.mode,Y),ml(j,U),j.return=I,j)}function z(I,j,U,Y){return j===null||j.tag!==4||j.stateNode.containerInfo!==U.containerInfo||j.stateNode.implementation!==U.implementation?(j=Gc(U,I.mode,Y),j.return=I,j):(j=c(j,U.children||[]),j.return=I,j)}function H(I,j,U,Y,re){return j===null||j.tag!==7?(j=Ys(U,I.mode,Y,re),j.return=I,j):(j=c(j,U),j.return=I,j)}function X(I,j,U){if(typeof j=="string"&&j!==""||typeof j=="number"||typeof j=="bigint")return j=Bc(""+j,I.mode,U),j.return=I,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case O:return U=ko(j.type,j.key,j.props,null,I.mode,U),ml(U,j),U.return=I,U;case G:return j=Gc(j,I.mode,U),j.return=I,j;case E:var Y=j._init;return j=Y(j._payload),X(I,j,U)}if(it(j)||M(j))return j=Ys(j,I.mode,U,null),j.return=I,j;if(typeof j.then=="function")return X(I,Wo(j),U);if(j.$$typeof===oe)return X(I,Lo(I,j),U);eu(I,j)}return null}function P(I,j,U,Y){var re=j!==null?j.key:null;if(typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint")return re!==null?null:v(I,j,""+U,Y);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case O:return U.key===re?A(I,j,U,Y):null;case G:return U.key===re?z(I,j,U,Y):null;case E:return re=U._init,U=re(U._payload),P(I,j,U,Y)}if(it(U)||M(U))return re!==null?null:H(I,j,U,Y,null);if(typeof U.then=="function")return P(I,j,Wo(U),Y);if(U.$$typeof===oe)return P(I,j,Lo(I,U),Y);eu(I,U)}return null}function L(I,j,U,Y,re){if(typeof Y=="string"&&Y!==""||typeof Y=="number"||typeof Y=="bigint")return I=I.get(U)||null,v(j,I,""+Y,re);if(typeof Y=="object"&&Y!==null){switch(Y.$$typeof){case O:return I=I.get(Y.key===null?U:Y.key)||null,A(j,I,Y,re);case G:return I=I.get(Y.key===null?U:Y.key)||null,z(j,I,Y,re);case E:var Ae=Y._init;return Y=Ae(Y._payload),L(I,j,U,Y,re)}if(it(Y)||M(Y))return I=I.get(U)||null,H(j,I,Y,re,null);if(typeof Y.then=="function")return L(I,j,U,Wo(Y),re);if(Y.$$typeof===oe)return L(I,j,U,Lo(j,Y),re);eu(j,Y)}return null}function xe(I,j,U,Y){for(var re=null,Ae=null,ue=j,ge=j=0,jt=null;ue!==null&&ge<U.length;ge++){ue.index>ge?(jt=ue,ue=null):jt=ue.sibling;var Oe=P(I,ue,U[ge],Y);if(Oe===null){ue===null&&(ue=jt);break}e&&ue&&Oe.alternate===null&&t(I,ue),j=f(Oe,j,ge),Ae===null?re=Oe:Ae.sibling=Oe,Ae=Oe,ue=jt}if(ge===U.length)return a(I,ue),ke&&Xs(I,ge),re;if(ue===null){for(;ge<U.length;ge++)ue=X(I,U[ge],Y),ue!==null&&(j=f(ue,j,ge),Ae===null?re=ue:Ae.sibling=ue,Ae=ue);return ke&&Xs(I,ge),re}for(ue=r(ue);ge<U.length;ge++)jt=L(ue,I,ge,U[ge],Y),jt!==null&&(e&&jt.alternate!==null&&ue.delete(jt.key===null?ge:jt.key),j=f(jt,j,ge),Ae===null?re=jt:Ae.sibling=jt,Ae=jt);return e&&ue.forEach(function(cs){return t(I,cs)}),ke&&Xs(I,ge),re}function me(I,j,U,Y){if(U==null)throw Error(i(151));for(var re=null,Ae=null,ue=j,ge=j=0,jt=null,Oe=U.next();ue!==null&&!Oe.done;ge++,Oe=U.next()){ue.index>ge?(jt=ue,ue=null):jt=ue.sibling;var cs=P(I,ue,Oe.value,Y);if(cs===null){ue===null&&(ue=jt);break}e&&ue&&cs.alternate===null&&t(I,ue),j=f(cs,j,ge),Ae===null?re=cs:Ae.sibling=cs,Ae=cs,ue=jt}if(Oe.done)return a(I,ue),ke&&Xs(I,ge),re;if(ue===null){for(;!Oe.done;ge++,Oe=U.next())Oe=X(I,Oe.value,Y),Oe!==null&&(j=f(Oe,j,ge),Ae===null?re=Oe:Ae.sibling=Oe,Ae=Oe);return ke&&Xs(I,ge),re}for(ue=r(ue);!Oe.done;ge++,Oe=U.next())Oe=L(ue,I,ge,Oe.value,Y),Oe!==null&&(e&&Oe.alternate!==null&&ue.delete(Oe.key===null?ge:Oe.key),j=f(Oe,j,ge),Ae===null?re=Oe:Ae.sibling=Oe,Ae=Oe);return e&&ue.forEach(function(sb){return t(I,sb)}),ke&&Xs(I,ge),re}function Fe(I,j,U,Y){if(typeof U=="object"&&U!==null&&U.type===$&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case O:e:{for(var re=U.key;j!==null;){if(j.key===re){if(re=U.type,re===$){if(j.tag===7){a(I,j.sibling),Y=c(j,U.props.children),Y.return=I,I=Y;break e}}else if(j.elementType===re||typeof re=="object"&&re!==null&&re.$$typeof===E&&$m(re)===j.type){a(I,j.sibling),Y=c(j,U.props),ml(Y,U),Y.return=I,I=Y;break e}a(I,j);break}else t(I,j);j=j.sibling}U.type===$?(Y=Ys(U.props.children,I.mode,Y,U.key),Y.return=I,I=Y):(Y=ko(U.type,U.key,U.props,null,I.mode,Y),ml(Y,U),Y.return=I,I=Y)}return x(I);case G:e:{for(re=U.key;j!==null;){if(j.key===re)if(j.tag===4&&j.stateNode.containerInfo===U.containerInfo&&j.stateNode.implementation===U.implementation){a(I,j.sibling),Y=c(j,U.children||[]),Y.return=I,I=Y;break e}else{a(I,j);break}else t(I,j);j=j.sibling}Y=Gc(U,I.mode,Y),Y.return=I,I=Y}return x(I);case E:return re=U._init,U=re(U._payload),Fe(I,j,U,Y)}if(it(U))return xe(I,j,U,Y);if(M(U)){if(re=M(U),typeof re!="function")throw Error(i(150));return U=re.call(U),me(I,j,U,Y)}if(typeof U.then=="function")return Fe(I,j,Wo(U),Y);if(U.$$typeof===oe)return Fe(I,j,Lo(I,U),Y);eu(I,U)}return typeof U=="string"&&U!==""||typeof U=="number"||typeof U=="bigint"?(U=""+U,j!==null&&j.tag===6?(a(I,j.sibling),Y=c(j,U),Y.return=I,I=Y):(a(I,j),Y=Bc(U,I.mode,Y),Y.return=I,I=Y),x(I)):a(I,j)}return function(I,j,U,Y){try{fl=0;var re=Fe(I,j,U,Y);return Ki=null,re}catch(ue){if(ue===sl||ue===Bo)throw ue;var Ae=nn(29,ue,null,I.mode);return Ae.lanes=Y,Ae.return=I,Ae}finally{}}}var Xi=Wm(!0),eg=Wm(!1),bn=Re(null),Qn=null;function Xa(e){var t=e.alternate;pe(Tt,Tt.current&1),pe(bn,e),Qn===null&&(t===null||Hi.current!==null||t.memoizedState!==null)&&(Qn=e)}function tg(e){if(e.tag===22){if(pe(Tt,Tt.current),pe(bn,e),Qn===null){var t=e.alternate;t!==null&&t.memoizedState!==null&&(Qn=e)}}else Za()}function Za(){pe(Tt,Tt.current),pe(bn,bn.current)}function wa(e){_e(bn),Qn===e&&(Qn=null),_e(Tt)}var Tt=Re(0);function tu(e){for(var t=e;t!==null;){if(t.tag===13){var a=t.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||a.data==="$?"||hd(a)))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if((t.flags&128)!==0)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}function Th(e,t,a,r){t=e.memoizedState,a=a(r,t),a=a==null?t:w({},t,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var wh={enqueueSetState:function(e,t,a){e=e._reactInternals;var r=ln(),c=Fa(r);c.payload=t,a!=null&&(c.callback=a),t=Ya(e,c,r),t!==null&&(on(t,e,r),rl(t,e,r))},enqueueReplaceState:function(e,t,a){e=e._reactInternals;var r=ln(),c=Fa(r);c.tag=1,c.payload=t,a!=null&&(c.callback=a),t=Ya(e,c,r),t!==null&&(on(t,e,r),rl(t,e,r))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var a=ln(),r=Fa(a);r.tag=2,t!=null&&(r.callback=t),t=Ya(e,r,a),t!==null&&(on(t,e,a),rl(t,e,a))}};function ng(e,t,a,r,c,f,x){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,f,x):t.prototype&&t.prototype.isPureReactComponent?!Zr(a,r)||!Zr(c,f):!0}function ag(e,t,a,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(a,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(a,r),t.state!==e&&wh.enqueueReplaceState(t,t.state,null)}function ni(e,t){var a=t;if("ref"in t){a={};for(var r in t)r!=="ref"&&(a[r]=t[r])}if(e=e.defaultProps){a===t&&(a=w({},a));for(var c in e)a[c]===void 0&&(a[c]=e[c])}return a}var nu=typeof reportError=="function"?reportError:function(e){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var t=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof e=="object"&&e!==null&&typeof e.message=="string"?String(e.message):String(e),error:e});if(!window.dispatchEvent(t))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",e);return}console.error(e)};function sg(e){nu(e)}function ig(e){console.error(e)}function rg(e){nu(e)}function au(e,t){try{var a=e.onUncaughtError;a(t.value,{componentStack:t.stack})}catch(r){setTimeout(function(){throw r})}}function lg(e,t,a){try{var r=e.onCaughtError;r(a.value,{componentStack:a.stack,errorBoundary:t.tag===1?t.stateNode:null})}catch(c){setTimeout(function(){throw c})}}function Eh(e,t,a){return a=Fa(a),a.tag=3,a.payload={element:null},a.callback=function(){au(e,t)},a}function og(e){return e=Fa(e),e.tag=3,e}function ug(e,t,a,r){var c=a.type.getDerivedStateFromError;if(typeof c=="function"){var f=r.value;e.payload=function(){return c(f)},e.callback=function(){lg(t,a,r)}}var x=a.stateNode;x!==null&&typeof x.componentDidCatch=="function"&&(e.callback=function(){lg(t,a,r),typeof c!="function"&&(ns===null?ns=new Set([this]):ns.add(this));var v=r.stack;this.componentDidCatch(r.value,{componentStack:v!==null?v:""})})}function sv(e,t,a,r,c){if(a.flags|=32768,r!==null&&typeof r=="object"&&typeof r.then=="function"){if(t=a.alternate,t!==null&&tl(t,a,c,!0),a=bn.current,a!==null){switch(a.tag){case 13:return Qn===null?Kh():a.alternate===null&&st===0&&(st=3),a.flags&=-257,a.flags|=65536,a.lanes=c,r===Wc?a.flags|=16384:(t=a.updateQueue,t===null?a.updateQueue=new Set([r]):t.add(r),Zh(e,r,c)),!1;case 22:return a.flags|=65536,r===Wc?a.flags|=16384:(t=a.updateQueue,t===null?(t={transitions:null,markerInstances:null,retryQueue:new Set([r])},a.updateQueue=t):(a=t.retryQueue,a===null?t.retryQueue=new Set([r]):a.add(r)),Zh(e,r,c)),!1}throw Error(i(435,a.tag))}return Zh(e,r,c),Kh(),!1}if(ke)return t=bn.current,t!==null?((t.flags&65536)===0&&(t.flags|=256),t.flags|=65536,t.lanes=c,r!==Fc&&(e=Error(i(422),{cause:r}),el(pn(e,a)))):(r!==Fc&&(t=Error(i(423),{cause:r}),el(pn(t,a))),e=e.current.alternate,e.flags|=65536,c&=-c,e.lanes|=c,r=pn(r,a),c=Eh(e.stateNode,r,c),nh(e,c),st!==4&&(st=2)),!1;var f=Error(i(520),{cause:r});if(f=pn(f,a),_l===null?_l=[f]:_l.push(f),st!==4&&(st=2),t===null)return!0;r=pn(r,a),a=t;do{switch(a.tag){case 3:return a.flags|=65536,e=c&-c,a.lanes|=e,e=Eh(a.stateNode,r,e),nh(a,e),!1;case 1:if(t=a.type,f=a.stateNode,(a.flags&128)===0&&(typeof t.getDerivedStateFromError=="function"||f!==null&&typeof f.componentDidCatch=="function"&&(ns===null||!ns.has(f))))return a.flags|=65536,c&=-c,a.lanes|=c,c=og(c),ug(c,e,a,r),nh(a,c),!1}a=a.return}while(a!==null);return!1}var cg=Error(i(461)),Nt=!1;function Mt(e,t,a,r){t.child=e===null?eg(t,null,a,r):Xi(t,e.child,a,r)}function hg(e,t,a,r,c){a=a.render;var f=t.ref;if("ref"in r){var x={};for(var v in r)v!=="ref"&&(x[v]=r[v])}else x=r;return Ws(t),r=lh(e,t,a,x,f,c),v=oh(),e!==null&&!Nt?(uh(e,t,c),Ea(e,t,c)):(ke&&v&&Hc(t),t.flags|=1,Mt(e,t,r,c),t.child)}function dg(e,t,a,r,c){if(e===null){var f=a.type;return typeof f=="function"&&!qc(f)&&f.defaultProps===void 0&&a.compare===null?(t.tag=15,t.type=f,fg(e,t,f,r,c)):(e=ko(a.type,null,r,t,t.mode,c),e.ref=t.ref,e.return=t,t.child=e)}if(f=e.child,!Dh(e,c)){var x=f.memoizedProps;if(a=a.compare,a=a!==null?a:Zr,a(x,r)&&e.ref===t.ref)return Ea(e,t,c)}return t.flags|=1,e=ya(f,r),e.ref=t.ref,e.return=t,t.child=e}function fg(e,t,a,r,c){if(e!==null){var f=e.memoizedProps;if(Zr(f,r)&&e.ref===t.ref)if(Nt=!1,t.pendingProps=r=f,Dh(e,c))(e.flags&131072)!==0&&(Nt=!0);else return t.lanes=e.lanes,Ea(e,t,c)}return Ah(e,t,a,r,c)}function mg(e,t,a){var r=t.pendingProps,c=r.children,f=e!==null?e.memoizedState:null;if(r.mode==="hidden"){if((t.flags&128)!==0){if(r=f!==null?f.baseLanes|a:a,e!==null){for(c=t.child=e.child,f=0;c!==null;)f=f|c.lanes|c.childLanes,c=c.sibling;t.childLanes=f&~r}else t.childLanes=0,t.child=null;return gg(e,t,r,a)}if((a&536870912)!==0)t.memoizedState={baseLanes:0,cachePool:null},e!==null&&qo(t,f!==null?f.cachePool:null),f!==null?fm(t,f):sh(),tg(t);else return t.lanes=t.childLanes=536870912,gg(e,t,f!==null?f.baseLanes|a:a,a)}else f!==null?(qo(t,f.cachePool),fm(t,f),Za(),t.memoizedState=null):(e!==null&&qo(t,null),sh(),Za());return Mt(e,t,c,a),t.child}function gg(e,t,a,r){var c=$c();return c=c===null?null:{parent:_t._currentValue,pool:c},t.memoizedState={baseLanes:a,cachePool:c},e!==null&&qo(t,null),sh(),tg(t),e!==null&&tl(e,t,r,!0),null}function su(e,t){var a=t.ref;if(a===null)e!==null&&e.ref!==null&&(t.flags|=4194816);else{if(typeof a!="function"&&typeof a!="object")throw Error(i(284));(e===null||e.ref!==a)&&(t.flags|=4194816)}}function Ah(e,t,a,r,c){return Ws(t),a=lh(e,t,a,r,void 0,c),r=oh(),e!==null&&!Nt?(uh(e,t,c),Ea(e,t,c)):(ke&&r&&Hc(t),t.flags|=1,Mt(e,t,a,c),t.child)}function pg(e,t,a,r,c,f){return Ws(t),t.updateQueue=null,a=gm(t,r,a,c),mm(e),r=oh(),e!==null&&!Nt?(uh(e,t,f),Ea(e,t,f)):(ke&&r&&Hc(t),t.flags|=1,Mt(e,t,a,f),t.child)}function yg(e,t,a,r,c){if(Ws(t),t.stateNode===null){var f=Pi,x=a.contextType;typeof x=="object"&&x!==null&&(f=qt(x)),f=new a(r,f),t.memoizedState=f.state!==null&&f.state!==void 0?f.state:null,f.updater=wh,t.stateNode=f,f._reactInternals=t,f=t.stateNode,f.props=r,f.state=t.memoizedState,f.refs={},eh(t),x=a.contextType,f.context=typeof x=="object"&&x!==null?qt(x):Pi,f.state=t.memoizedState,x=a.getDerivedStateFromProps,typeof x=="function"&&(Th(t,a,x,r),f.state=t.memoizedState),typeof a.getDerivedStateFromProps=="function"||typeof f.getSnapshotBeforeUpdate=="function"||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(x=f.state,typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount(),x!==f.state&&wh.enqueueReplaceState(f,f.state,null),ol(t,r,f,c),ll(),f.state=t.memoizedState),typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!0}else if(e===null){f=t.stateNode;var v=t.memoizedProps,A=ni(a,v);f.props=A;var z=f.context,H=a.contextType;x=Pi,typeof H=="object"&&H!==null&&(x=qt(H));var X=a.getDerivedStateFromProps;H=typeof X=="function"||typeof f.getSnapshotBeforeUpdate=="function",v=t.pendingProps!==v,H||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(v||z!==x)&&ag(t,f,r,x),Qa=!1;var P=t.memoizedState;f.state=P,ol(t,r,f,c),ll(),z=t.memoizedState,v||P!==z||Qa?(typeof X=="function"&&(Th(t,a,X,r),z=t.memoizedState),(A=Qa||ng(t,a,A,r,P,z,x))?(H||typeof f.UNSAFE_componentWillMount!="function"&&typeof f.componentWillMount!="function"||(typeof f.componentWillMount=="function"&&f.componentWillMount(),typeof f.UNSAFE_componentWillMount=="function"&&f.UNSAFE_componentWillMount()),typeof f.componentDidMount=="function"&&(t.flags|=4194308)):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=z),f.props=r,f.state=z,f.context=x,r=A):(typeof f.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{f=t.stateNode,th(e,t),x=t.memoizedProps,H=ni(a,x),f.props=H,X=t.pendingProps,P=f.context,z=a.contextType,A=Pi,typeof z=="object"&&z!==null&&(A=qt(z)),v=a.getDerivedStateFromProps,(z=typeof v=="function"||typeof f.getSnapshotBeforeUpdate=="function")||typeof f.UNSAFE_componentWillReceiveProps!="function"&&typeof f.componentWillReceiveProps!="function"||(x!==X||P!==A)&&ag(t,f,r,A),Qa=!1,P=t.memoizedState,f.state=P,ol(t,r,f,c),ll();var L=t.memoizedState;x!==X||P!==L||Qa||e!==null&&e.dependencies!==null&&Po(e.dependencies)?(typeof v=="function"&&(Th(t,a,v,r),L=t.memoizedState),(H=Qa||ng(t,a,H,r,P,L,A)||e!==null&&e.dependencies!==null&&Po(e.dependencies))?(z||typeof f.UNSAFE_componentWillUpdate!="function"&&typeof f.componentWillUpdate!="function"||(typeof f.componentWillUpdate=="function"&&f.componentWillUpdate(r,L,A),typeof f.UNSAFE_componentWillUpdate=="function"&&f.UNSAFE_componentWillUpdate(r,L,A)),typeof f.componentDidUpdate=="function"&&(t.flags|=4),typeof f.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=L),f.props=r,f.state=L,f.context=A,r=H):(typeof f.componentDidUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=4),typeof f.getSnapshotBeforeUpdate!="function"||x===e.memoizedProps&&P===e.memoizedState||(t.flags|=1024),r=!1)}return f=r,su(e,t),r=(t.flags&128)!==0,f||r?(f=t.stateNode,a=r&&typeof a.getDerivedStateFromError!="function"?null:f.render(),t.flags|=1,e!==null&&r?(t.child=Xi(t,e.child,null,c),t.child=Xi(t,null,a,c)):Mt(e,t,a,c),t.memoizedState=f.state,e=t.child):e=Ea(e,t,c),e}function xg(e,t,a,r){return Wr(),t.flags|=256,Mt(e,t,a,r),t.child}var Sh={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function Nh(e){return{baseLanes:e,cachePool:im()}}function Rh(e,t,a){return e=e!==null?e.childLanes&~a:0,t&&(e|=_n),e}function vg(e,t,a){var r=t.pendingProps,c=!1,f=(t.flags&128)!==0,x;if((x=f)||(x=e!==null&&e.memoizedState===null?!1:(Tt.current&2)!==0),x&&(c=!0,t.flags&=-129),x=(t.flags&32)!==0,t.flags&=-33,e===null){if(ke){if(c?Xa(t):Za(),ke){var v=at,A;if(A=v){e:{for(A=v,v=Hn;A.nodeType!==8;){if(!v){v=null;break e}if(A=Vn(A.nextSibling),A===null){v=null;break e}}v=A}v!==null?(t.memoizedState={dehydrated:v,treeContext:Ks!==null?{id:xa,overflow:va}:null,retryLane:536870912,hydrationErrors:null},A=nn(18,null,null,0),A.stateNode=v,A.return=t,t.child=A,Kt=t,at=null,A=!0):A=!1}A||Js(t)}if(v=t.memoizedState,v!==null&&(v=v.dehydrated,v!==null))return hd(v)?t.lanes=32:t.lanes=536870912,null;wa(t)}return v=r.children,r=r.fallback,c?(Za(),c=t.mode,v=iu({mode:"hidden",children:v},c),r=Ys(r,c,a,null),v.return=t,r.return=t,v.sibling=r,t.child=v,c=t.child,c.memoizedState=Nh(a),c.childLanes=Rh(e,x,a),t.memoizedState=Sh,r):(Xa(t),jh(t,v))}if(A=e.memoizedState,A!==null&&(v=A.dehydrated,v!==null)){if(f)t.flags&256?(Xa(t),t.flags&=-257,t=Ch(e,t,a)):t.memoizedState!==null?(Za(),t.child=e.child,t.flags|=128,t=null):(Za(),c=r.fallback,v=t.mode,r=iu({mode:"visible",children:r.children},v),c=Ys(c,v,a,null),c.flags|=2,r.return=t,c.return=t,r.sibling=c,t.child=r,Xi(t,e.child,null,a),r=t.child,r.memoizedState=Nh(a),r.childLanes=Rh(e,x,a),t.memoizedState=Sh,t=c);else if(Xa(t),hd(v)){if(x=v.nextSibling&&v.nextSibling.dataset,x)var z=x.dgst;x=z,r=Error(i(419)),r.stack="",r.digest=x,el({value:r,source:null,stack:null}),t=Ch(e,t,a)}else if(Nt||tl(e,t,a,!1),x=(a&e.childLanes)!==0,Nt||x){if(x=Ke,x!==null&&(r=a&-a,r=(r&42)!==0?1:Ua(r),r=(r&(x.suspendedLanes|a))!==0?0:r,r!==0&&r!==A.retryLane))throw A.retryLane=r,zi(e,r),on(x,e,r),cg;v.data==="$?"||Kh(),t=Ch(e,t,a)}else v.data==="$?"?(t.flags|=192,t.child=e.child,t=null):(e=A.treeContext,at=Vn(v.nextSibling),Kt=t,ke=!0,Zs=null,Hn=!1,e!==null&&(xn[vn++]=xa,xn[vn++]=va,xn[vn++]=Ks,xa=e.id,va=e.overflow,Ks=t),t=jh(t,r.children),t.flags|=4096);return t}return c?(Za(),c=r.fallback,v=t.mode,A=e.child,z=A.sibling,r=ya(A,{mode:"hidden",children:r.children}),r.subtreeFlags=A.subtreeFlags&65011712,z!==null?c=ya(z,c):(c=Ys(c,v,a,null),c.flags|=2),c.return=t,r.return=t,r.sibling=c,t.child=r,r=c,c=t.child,v=e.child.memoizedState,v===null?v=Nh(a):(A=v.cachePool,A!==null?(z=_t._currentValue,A=A.parent!==z?{parent:z,pool:z}:A):A=im(),v={baseLanes:v.baseLanes|a,cachePool:A}),c.memoizedState=v,c.childLanes=Rh(e,x,a),t.memoizedState=Sh,r):(Xa(t),a=e.child,e=a.sibling,a=ya(a,{mode:"visible",children:r.children}),a.return=t,a.sibling=null,e!==null&&(x=t.deletions,x===null?(t.deletions=[e],t.flags|=16):x.push(e)),t.child=a,t.memoizedState=null,a)}function jh(e,t){return t=iu({mode:"visible",children:t},e.mode),t.return=e,e.child=t}function iu(e,t){return e=nn(22,e,null,t),e.lanes=0,e.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null},e}function Ch(e,t,a){return Xi(t,e.child,null,a),e=jh(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function bg(e,t,a){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Kc(e.return,t,a)}function Vh(e,t,a,r,c){var f=e.memoizedState;f===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:a,tailMode:c}:(f.isBackwards=t,f.rendering=null,f.renderingStartTime=0,f.last=r,f.tail=a,f.tailMode=c)}function _g(e,t,a){var r=t.pendingProps,c=r.revealOrder,f=r.tail;if(Mt(e,t,r.children,a),r=Tt.current,(r&2)!==0)r=r&1|2,t.flags|=128;else{if(e!==null&&(e.flags&128)!==0)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&bg(e,a,t);else if(e.tag===19)bg(e,a,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}switch(pe(Tt,r),c){case"forwards":for(a=t.child,c=null;a!==null;)e=a.alternate,e!==null&&tu(e)===null&&(c=a),a=a.sibling;a=c,a===null?(c=t.child,t.child=null):(c=a.sibling,a.sibling=null),Vh(t,!1,c,a,f);break;case"backwards":for(a=null,c=t.child,t.child=null;c!==null;){if(e=c.alternate,e!==null&&tu(e)===null){t.child=c;break}e=c.sibling,c.sibling=a,a=c,c=e}Vh(t,!0,a,null,f);break;case"together":Vh(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ea(e,t,a){if(e!==null&&(t.dependencies=e.dependencies),ts|=t.lanes,(a&t.childLanes)===0)if(e!==null){if(tl(e,t,a,!1),(a&t.childLanes)===0)return null}else return null;if(e!==null&&t.child!==e.child)throw Error(i(153));if(t.child!==null){for(e=t.child,a=ya(e,e.pendingProps),t.child=a,a.return=t;e.sibling!==null;)e=e.sibling,a=a.sibling=ya(e,e.pendingProps),a.return=t;a.sibling=null}return t.child}function Dh(e,t){return(e.lanes&t)!==0?!0:(e=e.dependencies,!!(e!==null&&Po(e)))}function iv(e,t,a){switch(t.tag){case 3:Ma(t,t.stateNode.containerInfo),Ha(t,_t,e.memoizedState.cache),Wr();break;case 27:case 5:ka(t);break;case 4:Ma(t,t.stateNode.containerInfo);break;case 10:Ha(t,t.type,t.memoizedProps.value);break;case 13:var r=t.memoizedState;if(r!==null)return r.dehydrated!==null?(Xa(t),t.flags|=128,null):(a&t.child.childLanes)!==0?vg(e,t,a):(Xa(t),e=Ea(e,t,a),e!==null?e.sibling:null);Xa(t);break;case 19:var c=(e.flags&128)!==0;if(r=(a&t.childLanes)!==0,r||(tl(e,t,a,!1),r=(a&t.childLanes)!==0),c){if(r)return _g(e,t,a);t.flags|=128}if(c=t.memoizedState,c!==null&&(c.rendering=null,c.tail=null,c.lastEffect=null),pe(Tt,Tt.current),r)break;return null;case 22:case 23:return t.lanes=0,mg(e,t,a);case 24:Ha(t,_t,e.memoizedState.cache)}return Ea(e,t,a)}function Tg(e,t,a){if(e!==null)if(e.memoizedProps!==t.pendingProps)Nt=!0;else{if(!Dh(e,a)&&(t.flags&128)===0)return Nt=!1,iv(e,t,a);Nt=(e.flags&131072)!==0}else Nt=!1,ke&&(t.flags&1048576)!==0&&$f(t,zo,t.index);switch(t.lanes=0,t.tag){case 16:e:{e=t.pendingProps;var r=t.elementType,c=r._init;if(r=c(r._payload),t.type=r,typeof r=="function")qc(r)?(e=ni(r,e),t.tag=1,t=yg(null,t,r,e,a)):(t.tag=0,t=Ah(null,t,r,e,a));else{if(r!=null){if(c=r.$$typeof,c===ve){t.tag=11,t=hg(null,t,r,e,a);break e}else if(c===V){t.tag=14,t=dg(null,t,r,e,a);break e}}throw t=yt(r)||r,Error(i(306,t,""))}}return t;case 0:return Ah(e,t,t.type,t.pendingProps,a);case 1:return r=t.type,c=ni(r,t.pendingProps),yg(e,t,r,c,a);case 3:e:{if(Ma(t,t.stateNode.containerInfo),e===null)throw Error(i(387));r=t.pendingProps;var f=t.memoizedState;c=f.element,th(e,t),ol(t,r,null,a);var x=t.memoizedState;if(r=x.cache,Ha(t,_t,r),r!==f.cache&&Xc(t,[_t],a,!0),ll(),r=x.element,f.isDehydrated)if(f={element:r,isDehydrated:!1,cache:x.cache},t.updateQueue.baseState=f,t.memoizedState=f,t.flags&256){t=xg(e,t,r,a);break e}else if(r!==c){c=pn(Error(i(424)),t),el(c),t=xg(e,t,r,a);break e}else{switch(e=t.stateNode.containerInfo,e.nodeType){case 9:e=e.body;break;default:e=e.nodeName==="HTML"?e.ownerDocument.body:e}for(at=Vn(e.firstChild),Kt=t,ke=!0,Zs=null,Hn=!0,a=eg(t,null,r,a),t.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling}else{if(Wr(),r===c){t=Ea(e,t,a);break e}Mt(e,t,r,a)}t=t.child}return t;case 26:return su(e,t),e===null?(a=Sp(t.type,null,t.pendingProps,null))?t.memoizedState=a:ke||(a=t.type,e=t.pendingProps,r=vu(An.current).createElement(a),r[xt]=t,r[ht]=e,kt(r,a,e),rt(r),t.stateNode=r):t.memoizedState=Sp(t.type,e.memoizedProps,t.pendingProps,e.memoizedState),null;case 27:return ka(t),e===null&&ke&&(r=t.stateNode=wp(t.type,t.pendingProps,An.current),Kt=t,Hn=!0,c=at,is(t.type)?(dd=c,at=Vn(r.firstChild)):at=c),Mt(e,t,t.pendingProps.children,a),su(e,t),e===null&&(t.flags|=4194304),t.child;case 5:return e===null&&ke&&((c=r=at)&&(r=Iv(r,t.type,t.pendingProps,Hn),r!==null?(t.stateNode=r,Kt=t,at=Vn(r.firstChild),Hn=!1,c=!0):c=!1),c||Js(t)),ka(t),c=t.type,f=t.pendingProps,x=e!==null?e.memoizedProps:null,r=f.children,od(c,f)?r=null:x!==null&&od(c,x)&&(t.flags|=32),t.memoizedState!==null&&(c=lh(e,t,Jx,null,null,a),Cl._currentValue=c),su(e,t),Mt(e,t,r,a),t.child;case 6:return e===null&&ke&&((e=a=at)&&(a=Mv(a,t.pendingProps,Hn),a!==null?(t.stateNode=a,Kt=t,at=null,e=!0):e=!1),e||Js(t)),null;case 13:return vg(e,t,a);case 4:return Ma(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Xi(t,null,r,a):Mt(e,t,r,a),t.child;case 11:return hg(e,t,t.type,t.pendingProps,a);case 7:return Mt(e,t,t.pendingProps,a),t.child;case 8:return Mt(e,t,t.pendingProps.children,a),t.child;case 12:return Mt(e,t,t.pendingProps.children,a),t.child;case 10:return r=t.pendingProps,Ha(t,t.type,r.value),Mt(e,t,r.children,a),t.child;case 9:return c=t.type._context,r=t.pendingProps.children,Ws(t),c=qt(c),r=r(c),t.flags|=1,Mt(e,t,r,a),t.child;case 14:return dg(e,t,t.type,t.pendingProps,a);case 15:return fg(e,t,t.type,t.pendingProps,a);case 19:return _g(e,t,a);case 31:return r=t.pendingProps,a=t.mode,r={mode:r.mode,children:r.children},e===null?(a=iu(r,a),a.ref=t.ref,t.child=a,a.return=t,t=a):(a=ya(e.child,r),a.ref=t.ref,t.child=a,a.return=t,t=a),t;case 22:return mg(e,t,a);case 24:return Ws(t),r=qt(_t),e===null?(c=$c(),c===null&&(c=Ke,f=Zc(),c.pooledCache=f,f.refCount++,f!==null&&(c.pooledCacheLanes|=a),c=f),t.memoizedState={parent:r,cache:c},eh(t),Ha(t,_t,c)):((e.lanes&a)!==0&&(th(e,t),ol(t,null,null,a),ll()),c=e.memoizedState,f=t.memoizedState,c.parent!==r?(c={parent:r,cache:r},t.memoizedState=c,t.lanes===0&&(t.memoizedState=t.updateQueue.baseState=c),Ha(t,_t,r)):(r=f.cache,Ha(t,_t,r),r!==c.cache&&Xc(t,[_t],a,!0))),Mt(e,t,t.pendingProps.children,a),t.child;case 29:throw t.pendingProps}throw Error(i(156,t.tag))}function Aa(e){e.flags|=4}function wg(e,t){if(t.type!=="stylesheet"||(t.state.loading&4)!==0)e.flags&=-16777217;else if(e.flags|=16777216,!Vp(t)){if(t=bn.current,t!==null&&((Ie&4194048)===Ie?Qn!==null:(Ie&62914560)!==Ie&&(Ie&536870912)===0||t!==Qn))throw il=Wc,rm;e.flags|=8192}}function ru(e,t){t!==null&&(e.flags|=4),e.flags&16384&&(t=e.tag!==22?Dr():536870912,e.lanes|=t,Wi|=t)}function gl(e,t){if(!ke)switch(e.tailMode){case"hidden":t=e.tail;for(var a=null;t!==null;)t.alternate!==null&&(a=t),t=t.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var r=null;a!==null;)a.alternate!==null&&(r=a),a=a.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function $e(e){var t=e.alternate!==null&&e.alternate.child===e.child,a=0,r=0;if(t)for(var c=e.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags&65011712,r|=c.flags&65011712,c.return=e,c=c.sibling;else for(c=e.child;c!==null;)a|=c.lanes|c.childLanes,r|=c.subtreeFlags,r|=c.flags,c.return=e,c=c.sibling;return e.subtreeFlags|=r,e.childLanes=a,t}function rv(e,t,a){var r=t.pendingProps;switch(Qc(t),t.tag){case 31:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $e(t),null;case 1:return $e(t),null;case 3:return a=t.stateNode,r=null,e!==null&&(r=e.memoizedState.cache),t.memoizedState.cache!==r&&(t.flags|=2048),_a(_t),Oa(),a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),(e===null||e.child===null)&&($r(t)?Aa(t):e===null||e.memoizedState.isDehydrated&&(t.flags&256)===0||(t.flags|=1024,tm())),$e(t),null;case 26:return a=t.memoizedState,e===null?(Aa(t),a!==null?($e(t),wg(t,a)):($e(t),t.flags&=-16777217)):a?a!==e.memoizedState?(Aa(t),$e(t),wg(t,a)):($e(t),t.flags&=-16777217):(e.memoizedProps!==r&&Aa(t),$e(t),t.flags&=-16777217),null;case 27:sa(t),a=An.current;var c=t.type;if(e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Aa(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return $e(t),null}e=Pe.current,$r(t)?Wf(t):(e=wp(c,r,a),t.stateNode=e,Aa(t))}return $e(t),null;case 5:if(sa(t),a=t.type,e!==null&&t.stateNode!=null)e.memoizedProps!==r&&Aa(t);else{if(!r){if(t.stateNode===null)throw Error(i(166));return $e(t),null}if(e=Pe.current,$r(t))Wf(t);else{switch(c=vu(An.current),e){case 1:e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case 2:e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;default:switch(a){case"svg":e=c.createElementNS("http://www.w3.org/2000/svg",a);break;case"math":e=c.createElementNS("http://www.w3.org/1998/Math/MathML",a);break;case"script":e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild);break;case"select":e=typeof r.is=="string"?c.createElement("select",{is:r.is}):c.createElement("select"),r.multiple?e.multiple=!0:r.size&&(e.size=r.size);break;default:e=typeof r.is=="string"?c.createElement(a,{is:r.is}):c.createElement(a)}}e[xt]=t,e[ht]=r;e:for(c=t.child;c!==null;){if(c.tag===5||c.tag===6)e.appendChild(c.stateNode);else if(c.tag!==4&&c.tag!==27&&c.child!==null){c.child.return=c,c=c.child;continue}if(c===t)break e;for(;c.sibling===null;){if(c.return===null||c.return===t)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}t.stateNode=e;e:switch(kt(e,a,r),a){case"button":case"input":case"select":case"textarea":e=!!r.autoFocus;break e;case"img":e=!0;break e;default:e=!1}e&&Aa(t)}}return $e(t),t.flags&=-16777217,null;case 6:if(e&&t.stateNode!=null)e.memoizedProps!==r&&Aa(t);else{if(typeof r!="string"&&t.stateNode===null)throw Error(i(166));if(e=An.current,$r(t)){if(e=t.stateNode,a=t.memoizedProps,r=null,c=Kt,c!==null)switch(c.tag){case 27:case 5:r=c.memoizedProps}e[xt]=t,e=!!(e.nodeValue===a||r!==null&&r.suppressHydrationWarning===!0||pp(e.nodeValue,a)),e||Js(t)}else e=vu(e).createTextNode(r),e[xt]=t,t.stateNode=e}return $e(t),null;case 13:if(r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(c=$r(t),r!==null&&r.dehydrated!==null){if(e===null){if(!c)throw Error(i(318));if(c=t.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(i(317));c[xt]=t}else Wr(),(t.flags&128)===0&&(t.memoizedState=null),t.flags|=4;$e(t),c=!1}else c=tm(),e!==null&&e.memoizedState!==null&&(e.memoizedState.hydrationErrors=c),c=!0;if(!c)return t.flags&256?(wa(t),t):(wa(t),null)}if(wa(t),(t.flags&128)!==0)return t.lanes=a,t;if(a=r!==null,e=e!==null&&e.memoizedState!==null,a){r=t.child,c=null,r.alternate!==null&&r.alternate.memoizedState!==null&&r.alternate.memoizedState.cachePool!==null&&(c=r.alternate.memoizedState.cachePool.pool);var f=null;r.memoizedState!==null&&r.memoizedState.cachePool!==null&&(f=r.memoizedState.cachePool.pool),f!==c&&(r.flags|=2048)}return a!==e&&a&&(t.child.flags|=8192),ru(t,t.updateQueue),$e(t),null;case 4:return Oa(),e===null&&ad(t.stateNode.containerInfo),$e(t),null;case 10:return _a(t.type),$e(t),null;case 19:if(_e(Tt),c=t.memoizedState,c===null)return $e(t),null;if(r=(t.flags&128)!==0,f=c.rendering,f===null)if(r)gl(c,!1);else{if(st!==0||e!==null&&(e.flags&128)!==0)for(e=t.child;e!==null;){if(f=tu(e),f!==null){for(t.flags|=128,gl(c,!1),e=f.updateQueue,t.updateQueue=e,ru(t,e),t.subtreeFlags=0,e=a,a=t.child;a!==null;)Jf(a,e),a=a.sibling;return pe(Tt,Tt.current&1|2),t.child}e=e.sibling}c.tail!==null&&cn()>uu&&(t.flags|=128,r=!0,gl(c,!1),t.lanes=4194304)}else{if(!r)if(e=tu(f),e!==null){if(t.flags|=128,r=!0,e=e.updateQueue,t.updateQueue=e,ru(t,e),gl(c,!0),c.tail===null&&c.tailMode==="hidden"&&!f.alternate&&!ke)return $e(t),null}else 2*cn()-c.renderingStartTime>uu&&a!==536870912&&(t.flags|=128,r=!0,gl(c,!1),t.lanes=4194304);c.isBackwards?(f.sibling=t.child,t.child=f):(e=c.last,e!==null?e.sibling=f:t.child=f,c.last=f)}return c.tail!==null?(t=c.tail,c.rendering=t,c.tail=t.sibling,c.renderingStartTime=cn(),t.sibling=null,e=Tt.current,pe(Tt,r?e&1|2:e&1),t):($e(t),null);case 22:case 23:return wa(t),ih(),r=t.memoizedState!==null,e!==null?e.memoizedState!==null!==r&&(t.flags|=8192):r&&(t.flags|=8192),r?(a&536870912)!==0&&(t.flags&128)===0&&($e(t),t.subtreeFlags&6&&(t.flags|=8192)):$e(t),a=t.updateQueue,a!==null&&ru(t,a.retryQueue),a=null,e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),r=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(r=t.memoizedState.cachePool.pool),r!==a&&(t.flags|=2048),e!==null&&_e(ei),null;case 24:return a=null,e!==null&&(a=e.memoizedState.cache),t.memoizedState.cache!==a&&(t.flags|=2048),_a(_t),$e(t),null;case 25:return null;case 30:return null}throw Error(i(156,t.tag))}function lv(e,t){switch(Qc(t),t.tag){case 1:return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return _a(_t),Oa(),e=t.flags,(e&65536)!==0&&(e&128)===0?(t.flags=e&-65537|128,t):null;case 26:case 27:case 5:return sa(t),null;case 13:if(wa(t),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(i(340));Wr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return _e(Tt),null;case 4:return Oa(),null;case 10:return _a(t.type),null;case 22:case 23:return wa(t),ih(),e!==null&&_e(ei),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 24:return _a(_t),null;case 25:return null;default:return null}}function Eg(e,t){switch(Qc(t),t.tag){case 3:_a(_t),Oa();break;case 26:case 27:case 5:sa(t);break;case 4:Oa();break;case 13:wa(t);break;case 19:_e(Tt);break;case 10:_a(t.type);break;case 22:case 23:wa(t),ih(),e!==null&&_e(ei);break;case 24:_a(_t)}}function pl(e,t){try{var a=t.updateQueue,r=a!==null?a.lastEffect:null;if(r!==null){var c=r.next;a=c;do{if((a.tag&e)===e){r=void 0;var f=a.create,x=a.inst;r=f(),x.destroy=r}a=a.next}while(a!==c)}}catch(v){Ye(t,t.return,v)}}function Ja(e,t,a){try{var r=t.updateQueue,c=r!==null?r.lastEffect:null;if(c!==null){var f=c.next;r=f;do{if((r.tag&e)===e){var x=r.inst,v=x.destroy;if(v!==void 0){x.destroy=void 0,c=t;var A=a,z=v;try{z()}catch(H){Ye(c,A,H)}}}r=r.next}while(r!==f)}}catch(H){Ye(t,t.return,H)}}function Ag(e){var t=e.updateQueue;if(t!==null){var a=e.stateNode;try{dm(t,a)}catch(r){Ye(e,e.return,r)}}}function Sg(e,t,a){a.props=ni(e.type,e.memoizedProps),a.state=e.memoizedState;try{a.componentWillUnmount()}catch(r){Ye(e,t,r)}}function yl(e,t){try{var a=e.ref;if(a!==null){switch(e.tag){case 26:case 27:case 5:var r=e.stateNode;break;case 30:r=e.stateNode;break;default:r=e.stateNode}typeof a=="function"?e.refCleanup=a(r):a.current=r}}catch(c){Ye(e,t,c)}}function Fn(e,t){var a=e.ref,r=e.refCleanup;if(a!==null)if(typeof r=="function")try{r()}catch(c){Ye(e,t,c)}finally{e.refCleanup=null,e=e.alternate,e!=null&&(e.refCleanup=null)}else if(typeof a=="function")try{a(null)}catch(c){Ye(e,t,c)}else a.current=null}function Ng(e){var t=e.type,a=e.memoizedProps,r=e.stateNode;try{e:switch(t){case"button":case"input":case"select":case"textarea":a.autoFocus&&r.focus();break e;case"img":a.src?r.src=a.src:a.srcSet&&(r.srcset=a.srcSet)}}catch(c){Ye(e,e.return,c)}}function Ih(e,t,a){try{var r=e.stateNode;Rv(r,e.type,a,t),r[ht]=t}catch(c){Ye(e,e.return,c)}}function Rg(e){return e.tag===5||e.tag===3||e.tag===26||e.tag===27&&is(e.type)||e.tag===4}function Mh(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Rg(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.tag===27&&is(e.type)||e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Oh(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?(a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a).insertBefore(e,t):(t=a.nodeType===9?a.body:a.nodeName==="HTML"?a.ownerDocument.body:a,t.appendChild(e),a=a._reactRootContainer,a!=null||t.onclick!==null||(t.onclick=xu));else if(r!==4&&(r===27&&is(e.type)&&(a=e.stateNode,t=null),e=e.child,e!==null))for(Oh(e,t,a),e=e.sibling;e!==null;)Oh(e,t,a),e=e.sibling}function lu(e,t,a){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?a.insertBefore(e,t):a.appendChild(e);else if(r!==4&&(r===27&&is(e.type)&&(a=e.stateNode),e=e.child,e!==null))for(lu(e,t,a),e=e.sibling;e!==null;)lu(e,t,a),e=e.sibling}function jg(e){var t=e.stateNode,a=e.memoizedProps;try{for(var r=e.type,c=t.attributes;c.length;)t.removeAttributeNode(c[0]);kt(t,r,a),t[xt]=e,t[ht]=a}catch(f){Ye(e,e.return,f)}}var Sa=!1,ot=!1,kh=!1,Cg=typeof WeakSet=="function"?WeakSet:Set,Rt=null;function ov(e,t){if(e=e.containerInfo,rd=Au,e=qf(e),Mc(e)){if("selectionStart"in e)var a={start:e.selectionStart,end:e.selectionEnd};else e:{a=(a=e.ownerDocument)&&a.defaultView||window;var r=a.getSelection&&a.getSelection();if(r&&r.rangeCount!==0){a=r.anchorNode;var c=r.anchorOffset,f=r.focusNode;r=r.focusOffset;try{a.nodeType,f.nodeType}catch{a=null;break e}var x=0,v=-1,A=-1,z=0,H=0,X=e,P=null;t:for(;;){for(var L;X!==a||c!==0&&X.nodeType!==3||(v=x+c),X!==f||r!==0&&X.nodeType!==3||(A=x+r),X.nodeType===3&&(x+=X.nodeValue.length),(L=X.firstChild)!==null;)P=X,X=L;for(;;){if(X===e)break t;if(P===a&&++z===c&&(v=x),P===f&&++H===r&&(A=x),(L=X.nextSibling)!==null)break;X=P,P=X.parentNode}X=L}a=v===-1||A===-1?null:{start:v,end:A}}else a=null}a=a||{start:0,end:0}}else a=null;for(ld={focusedElem:e,selectionRange:a},Au=!1,Rt=t;Rt!==null;)if(t=Rt,e=t.child,(t.subtreeFlags&1024)!==0&&e!==null)e.return=t,Rt=e;else for(;Rt!==null;){switch(t=Rt,f=t.alternate,e=t.flags,t.tag){case 0:break;case 11:case 15:break;case 1:if((e&1024)!==0&&f!==null){e=void 0,a=t,c=f.memoizedProps,f=f.memoizedState,r=a.stateNode;try{var xe=ni(a.type,c,a.elementType===a.type);e=r.getSnapshotBeforeUpdate(xe,f),r.__reactInternalSnapshotBeforeUpdate=e}catch(me){Ye(a,a.return,me)}}break;case 3:if((e&1024)!==0){if(e=t.stateNode.containerInfo,a=e.nodeType,a===9)cd(e);else if(a===1)switch(e.nodeName){case"HEAD":case"HTML":case"BODY":cd(e);break;default:e.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((e&1024)!==0)throw Error(i(163))}if(e=t.sibling,e!==null){e.return=t.return,Rt=e;break}Rt=t.return}}function Vg(e,t,a){var r=a.flags;switch(a.tag){case 0:case 11:case 15:$a(e,a),r&4&&pl(5,a);break;case 1:if($a(e,a),r&4)if(e=a.stateNode,t===null)try{e.componentDidMount()}catch(x){Ye(a,a.return,x)}else{var c=ni(a.type,t.memoizedProps);t=t.memoizedState;try{e.componentDidUpdate(c,t,e.__reactInternalSnapshotBeforeUpdate)}catch(x){Ye(a,a.return,x)}}r&64&&Ag(a),r&512&&yl(a,a.return);break;case 3:if($a(e,a),r&64&&(e=a.updateQueue,e!==null)){if(t=null,a.child!==null)switch(a.child.tag){case 27:case 5:t=a.child.stateNode;break;case 1:t=a.child.stateNode}try{dm(e,t)}catch(x){Ye(a,a.return,x)}}break;case 27:t===null&&r&4&&jg(a);case 26:case 5:$a(e,a),t===null&&r&4&&Ng(a),r&512&&yl(a,a.return);break;case 12:$a(e,a);break;case 13:$a(e,a),r&4&&Mg(e,a),r&64&&(e=a.memoizedState,e!==null&&(e=e.dehydrated,e!==null&&(a=yv.bind(null,a),Ov(e,a))));break;case 22:if(r=a.memoizedState!==null||Sa,!r){t=t!==null&&t.memoizedState!==null||ot,c=Sa;var f=ot;Sa=r,(ot=t)&&!f?Wa(e,a,(a.subtreeFlags&8772)!==0):$a(e,a),Sa=c,ot=f}break;case 30:break;default:$a(e,a)}}function Dg(e){var t=e.alternate;t!==null&&(e.alternate=null,Dg(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&La(t)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}var Je=null,Zt=!1;function Na(e,t,a){for(a=a.child;a!==null;)Ig(e,t,a),a=a.sibling}function Ig(e,t,a){if(Le&&typeof Le.onCommitFiberUnmount=="function")try{Le.onCommitFiberUnmount(nt,a)}catch{}switch(a.tag){case 26:ot||Fn(a,t),Na(e,t,a),a.memoizedState?a.memoizedState.count--:a.stateNode&&(a=a.stateNode,a.parentNode.removeChild(a));break;case 27:ot||Fn(a,t);var r=Je,c=Zt;is(a.type)&&(Je=a.stateNode,Zt=!1),Na(e,t,a),Sl(a.stateNode),Je=r,Zt=c;break;case 5:ot||Fn(a,t);case 6:if(r=Je,c=Zt,Je=null,Na(e,t,a),Je=r,Zt=c,Je!==null)if(Zt)try{(Je.nodeType===9?Je.body:Je.nodeName==="HTML"?Je.ownerDocument.body:Je).removeChild(a.stateNode)}catch(f){Ye(a,t,f)}else try{Je.removeChild(a.stateNode)}catch(f){Ye(a,t,f)}break;case 18:Je!==null&&(Zt?(e=Je,_p(e.nodeType===9?e.body:e.nodeName==="HTML"?e.ownerDocument.body:e,a.stateNode),Ml(e)):_p(Je,a.stateNode));break;case 4:r=Je,c=Zt,Je=a.stateNode.containerInfo,Zt=!0,Na(e,t,a),Je=r,Zt=c;break;case 0:case 11:case 14:case 15:ot||Ja(2,a,t),ot||Ja(4,a,t),Na(e,t,a);break;case 1:ot||(Fn(a,t),r=a.stateNode,typeof r.componentWillUnmount=="function"&&Sg(a,t,r)),Na(e,t,a);break;case 21:Na(e,t,a);break;case 22:ot=(r=ot)||a.memoizedState!==null,Na(e,t,a),ot=r;break;default:Na(e,t,a)}}function Mg(e,t){if(t.memoizedState===null&&(e=t.alternate,e!==null&&(e=e.memoizedState,e!==null&&(e=e.dehydrated,e!==null))))try{Ml(e)}catch(a){Ye(t,t.return,a)}}function uv(e){switch(e.tag){case 13:case 19:var t=e.stateNode;return t===null&&(t=e.stateNode=new Cg),t;case 22:return e=e.stateNode,t=e._retryCache,t===null&&(t=e._retryCache=new Cg),t;default:throw Error(i(435,e.tag))}}function Uh(e,t){var a=uv(e);t.forEach(function(r){var c=xv.bind(null,e,r);a.has(r)||(a.add(r),r.then(c,c))})}function an(e,t){var a=t.deletions;if(a!==null)for(var r=0;r<a.length;r++){var c=a[r],f=e,x=t,v=x;e:for(;v!==null;){switch(v.tag){case 27:if(is(v.type)){Je=v.stateNode,Zt=!1;break e}break;case 5:Je=v.stateNode,Zt=!1;break e;case 3:case 4:Je=v.stateNode.containerInfo,Zt=!0;break e}v=v.return}if(Je===null)throw Error(i(160));Ig(f,x,c),Je=null,Zt=!1,f=c.alternate,f!==null&&(f.return=null),c.return=null}if(t.subtreeFlags&13878)for(t=t.child;t!==null;)Og(t,e),t=t.sibling}var Cn=null;function Og(e,t){var a=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:an(t,e),sn(e),r&4&&(Ja(3,e,e.return),pl(3,e),Ja(5,e,e.return));break;case 1:an(t,e),sn(e),r&512&&(ot||a===null||Fn(a,a.return)),r&64&&Sa&&(e=e.updateQueue,e!==null&&(r=e.callbacks,r!==null&&(a=e.shared.hiddenCallbacks,e.shared.hiddenCallbacks=a===null?r:a.concat(r))));break;case 26:var c=Cn;if(an(t,e),sn(e),r&512&&(ot||a===null||Fn(a,a.return)),r&4){var f=a!==null?a.memoizedState:null;if(r=e.memoizedState,a===null)if(r===null)if(e.stateNode===null){e:{r=e.type,a=e.memoizedProps,c=c.ownerDocument||c;t:switch(r){case"title":f=c.getElementsByTagName("title")[0],(!f||f[Vs]||f[xt]||f.namespaceURI==="http://www.w3.org/2000/svg"||f.hasAttribute("itemprop"))&&(f=c.createElement(r),c.head.insertBefore(f,c.querySelector("head > title"))),kt(f,r,a),f[xt]=e,rt(f),r=f;break e;case"link":var x=jp("link","href",c).get(r+(a.href||""));if(x){for(var v=0;v<x.length;v++)if(f=x[v],f.getAttribute("href")===(a.href==null||a.href===""?null:a.href)&&f.getAttribute("rel")===(a.rel==null?null:a.rel)&&f.getAttribute("title")===(a.title==null?null:a.title)&&f.getAttribute("crossorigin")===(a.crossOrigin==null?null:a.crossOrigin)){x.splice(v,1);break t}}f=c.createElement(r),kt(f,r,a),c.head.appendChild(f);break;case"meta":if(x=jp("meta","content",c).get(r+(a.content||""))){for(v=0;v<x.length;v++)if(f=x[v],f.getAttribute("content")===(a.content==null?null:""+a.content)&&f.getAttribute("name")===(a.name==null?null:a.name)&&f.getAttribute("property")===(a.property==null?null:a.property)&&f.getAttribute("http-equiv")===(a.httpEquiv==null?null:a.httpEquiv)&&f.getAttribute("charset")===(a.charSet==null?null:a.charSet)){x.splice(v,1);break t}}f=c.createElement(r),kt(f,r,a),c.head.appendChild(f);break;default:throw Error(i(468,r))}f[xt]=e,rt(f),r=f}e.stateNode=r}else Cp(c,e.type,e.stateNode);else e.stateNode=Rp(c,r,e.memoizedProps);else f!==r?(f===null?a.stateNode!==null&&(a=a.stateNode,a.parentNode.removeChild(a)):f.count--,r===null?Cp(c,e.type,e.stateNode):Rp(c,r,e.memoizedProps)):r===null&&e.stateNode!==null&&Ih(e,e.memoizedProps,a.memoizedProps)}break;case 27:an(t,e),sn(e),r&512&&(ot||a===null||Fn(a,a.return)),a!==null&&r&4&&Ih(e,e.memoizedProps,a.memoizedProps);break;case 5:if(an(t,e),sn(e),r&512&&(ot||a===null||Fn(a,a.return)),e.flags&32){c=e.stateNode;try{dn(c,"")}catch(L){Ye(e,e.return,L)}}r&4&&e.stateNode!=null&&(c=e.memoizedProps,Ih(e,c,a!==null?a.memoizedProps:c)),r&1024&&(kh=!0);break;case 6:if(an(t,e),sn(e),r&4){if(e.stateNode===null)throw Error(i(162));r=e.memoizedProps,a=e.stateNode;try{a.nodeValue=r}catch(L){Ye(e,e.return,L)}}break;case 3:if(Tu=null,c=Cn,Cn=bu(t.containerInfo),an(t,e),Cn=c,sn(e),r&4&&a!==null&&a.memoizedState.isDehydrated)try{Ml(t.containerInfo)}catch(L){Ye(e,e.return,L)}kh&&(kh=!1,kg(e));break;case 4:r=Cn,Cn=bu(e.stateNode.containerInfo),an(t,e),sn(e),Cn=r;break;case 12:an(t,e),sn(e);break;case 13:an(t,e),sn(e),e.child.flags&8192&&e.memoizedState!==null!=(a!==null&&a.memoizedState!==null)&&(Gh=cn()),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Uh(e,r)));break;case 22:c=e.memoizedState!==null;var A=a!==null&&a.memoizedState!==null,z=Sa,H=ot;if(Sa=z||c,ot=H||A,an(t,e),ot=H,Sa=z,sn(e),r&8192)e:for(t=e.stateNode,t._visibility=c?t._visibility&-2:t._visibility|1,c&&(a===null||A||Sa||ot||ai(e)),a=null,t=e;;){if(t.tag===5||t.tag===26){if(a===null){A=a=t;try{if(f=A.stateNode,c)x=f.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none";else{v=A.stateNode;var X=A.memoizedProps.style,P=X!=null&&X.hasOwnProperty("display")?X.display:null;v.style.display=P==null||typeof P=="boolean"?"":(""+P).trim()}}catch(L){Ye(A,A.return,L)}}}else if(t.tag===6){if(a===null){A=t;try{A.stateNode.nodeValue=c?"":A.memoizedProps}catch(L){Ye(A,A.return,L)}}}else if((t.tag!==22&&t.tag!==23||t.memoizedState===null||t===e)&&t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;a===t&&(a=null),t=t.return}a===t&&(a=null),t.sibling.return=t.return,t=t.sibling}r&4&&(r=e.updateQueue,r!==null&&(a=r.retryQueue,a!==null&&(r.retryQueue=null,Uh(e,a))));break;case 19:an(t,e),sn(e),r&4&&(r=e.updateQueue,r!==null&&(e.updateQueue=null,Uh(e,r)));break;case 30:break;case 21:break;default:an(t,e),sn(e)}}function sn(e){var t=e.flags;if(t&2){try{for(var a,r=e.return;r!==null;){if(Rg(r)){a=r;break}r=r.return}if(a==null)throw Error(i(160));switch(a.tag){case 27:var c=a.stateNode,f=Mh(e);lu(e,f,c);break;case 5:var x=a.stateNode;a.flags&32&&(dn(x,""),a.flags&=-33);var v=Mh(e);lu(e,v,x);break;case 3:case 4:var A=a.stateNode.containerInfo,z=Mh(e);Oh(e,z,A);break;default:throw Error(i(161))}}catch(H){Ye(e,e.return,H)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kg(e){if(e.subtreeFlags&1024)for(e=e.child;e!==null;){var t=e;kg(t),t.tag===5&&t.flags&1024&&t.stateNode.reset(),e=e.sibling}}function $a(e,t){if(t.subtreeFlags&8772)for(t=t.child;t!==null;)Vg(e,t.alternate,t),t=t.sibling}function ai(e){for(e=e.child;e!==null;){var t=e;switch(t.tag){case 0:case 11:case 14:case 15:Ja(4,t,t.return),ai(t);break;case 1:Fn(t,t.return);var a=t.stateNode;typeof a.componentWillUnmount=="function"&&Sg(t,t.return,a),ai(t);break;case 27:Sl(t.stateNode);case 26:case 5:Fn(t,t.return),ai(t);break;case 22:t.memoizedState===null&&ai(t);break;case 30:ai(t);break;default:ai(t)}e=e.sibling}}function Wa(e,t,a){for(a=a&&(t.subtreeFlags&8772)!==0,t=t.child;t!==null;){var r=t.alternate,c=e,f=t,x=f.flags;switch(f.tag){case 0:case 11:case 15:Wa(c,f,a),pl(4,f);break;case 1:if(Wa(c,f,a),r=f,c=r.stateNode,typeof c.componentDidMount=="function")try{c.componentDidMount()}catch(z){Ye(r,r.return,z)}if(r=f,c=r.updateQueue,c!==null){var v=r.stateNode;try{var A=c.shared.hiddenCallbacks;if(A!==null)for(c.shared.hiddenCallbacks=null,c=0;c<A.length;c++)hm(A[c],v)}catch(z){Ye(r,r.return,z)}}a&&x&64&&Ag(f),yl(f,f.return);break;case 27:jg(f);case 26:case 5:Wa(c,f,a),a&&r===null&&x&4&&Ng(f),yl(f,f.return);break;case 12:Wa(c,f,a);break;case 13:Wa(c,f,a),a&&x&4&&Mg(c,f);break;case 22:f.memoizedState===null&&Wa(c,f,a),yl(f,f.return);break;case 30:break;default:Wa(c,f,a)}t=t.sibling}}function zh(e,t){var a=null;e!==null&&e.memoizedState!==null&&e.memoizedState.cachePool!==null&&(a=e.memoizedState.cachePool.pool),e=null,t.memoizedState!==null&&t.memoizedState.cachePool!==null&&(e=t.memoizedState.cachePool.pool),e!==a&&(e!=null&&e.refCount++,a!=null&&nl(a))}function Ph(e,t){e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&nl(e))}function Yn(e,t,a,r){if(t.subtreeFlags&10256)for(t=t.child;t!==null;)Ug(e,t,a,r),t=t.sibling}function Ug(e,t,a,r){var c=t.flags;switch(t.tag){case 0:case 11:case 15:Yn(e,t,a,r),c&2048&&pl(9,t);break;case 1:Yn(e,t,a,r);break;case 3:Yn(e,t,a,r),c&2048&&(e=null,t.alternate!==null&&(e=t.alternate.memoizedState.cache),t=t.memoizedState.cache,t!==e&&(t.refCount++,e!=null&&nl(e)));break;case 12:if(c&2048){Yn(e,t,a,r),e=t.stateNode;try{var f=t.memoizedProps,x=f.id,v=f.onPostCommit;typeof v=="function"&&v(x,t.alternate===null?"mount":"update",e.passiveEffectDuration,-0)}catch(A){Ye(t,t.return,A)}}else Yn(e,t,a,r);break;case 13:Yn(e,t,a,r);break;case 23:break;case 22:f=t.stateNode,x=t.alternate,t.memoizedState!==null?f._visibility&2?Yn(e,t,a,r):xl(e,t):f._visibility&2?Yn(e,t,a,r):(f._visibility|=2,Zi(e,t,a,r,(t.subtreeFlags&10256)!==0)),c&2048&&zh(x,t);break;case 24:Yn(e,t,a,r),c&2048&&Ph(t.alternate,t);break;default:Yn(e,t,a,r)}}function Zi(e,t,a,r,c){for(c=c&&(t.subtreeFlags&10256)!==0,t=t.child;t!==null;){var f=e,x=t,v=a,A=r,z=x.flags;switch(x.tag){case 0:case 11:case 15:Zi(f,x,v,A,c),pl(8,x);break;case 23:break;case 22:var H=x.stateNode;x.memoizedState!==null?H._visibility&2?Zi(f,x,v,A,c):xl(f,x):(H._visibility|=2,Zi(f,x,v,A,c)),c&&z&2048&&zh(x.alternate,x);break;case 24:Zi(f,x,v,A,c),c&&z&2048&&Ph(x.alternate,x);break;default:Zi(f,x,v,A,c)}t=t.sibling}}function xl(e,t){if(t.subtreeFlags&10256)for(t=t.child;t!==null;){var a=e,r=t,c=r.flags;switch(r.tag){case 22:xl(a,r),c&2048&&zh(r.alternate,r);break;case 24:xl(a,r),c&2048&&Ph(r.alternate,r);break;default:xl(a,r)}t=t.sibling}}var vl=8192;function Ji(e){if(e.subtreeFlags&vl)for(e=e.child;e!==null;)zg(e),e=e.sibling}function zg(e){switch(e.tag){case 26:Ji(e),e.flags&vl&&e.memoizedState!==null&&Kv(Cn,e.memoizedState,e.memoizedProps);break;case 5:Ji(e);break;case 3:case 4:var t=Cn;Cn=bu(e.stateNode.containerInfo),Ji(e),Cn=t;break;case 22:e.memoizedState===null&&(t=e.alternate,t!==null&&t.memoizedState!==null?(t=vl,vl=16777216,Ji(e),vl=t):Ji(e));break;default:Ji(e)}}function Pg(e){var t=e.alternate;if(t!==null&&(e=t.child,e!==null)){t.child=null;do t=e.sibling,e.sibling=null,e=t;while(e!==null)}}function bl(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];Rt=r,qg(r,e)}Pg(e)}if(e.subtreeFlags&10256)for(e=e.child;e!==null;)Lg(e),e=e.sibling}function Lg(e){switch(e.tag){case 0:case 11:case 15:bl(e),e.flags&2048&&Ja(9,e,e.return);break;case 3:bl(e);break;case 12:bl(e);break;case 22:var t=e.stateNode;e.memoizedState!==null&&t._visibility&2&&(e.return===null||e.return.tag!==13)?(t._visibility&=-3,ou(e)):bl(e);break;default:bl(e)}}function ou(e){var t=e.deletions;if((e.flags&16)!==0){if(t!==null)for(var a=0;a<t.length;a++){var r=t[a];Rt=r,qg(r,e)}Pg(e)}for(e=e.child;e!==null;){switch(t=e,t.tag){case 0:case 11:case 15:Ja(8,t,t.return),ou(t);break;case 22:a=t.stateNode,a._visibility&2&&(a._visibility&=-3,ou(t));break;default:ou(t)}e=e.sibling}}function qg(e,t){for(;Rt!==null;){var a=Rt;switch(a.tag){case 0:case 11:case 15:Ja(8,a,t);break;case 23:case 22:if(a.memoizedState!==null&&a.memoizedState.cachePool!==null){var r=a.memoizedState.cachePool.pool;r!=null&&r.refCount++}break;case 24:nl(a.memoizedState.cache)}if(r=a.child,r!==null)r.return=a,Rt=r;else e:for(a=e;Rt!==null;){r=Rt;var c=r.sibling,f=r.return;if(Dg(r),r===a){Rt=null;break e}if(c!==null){c.return=f,Rt=c;break e}Rt=f}}}var cv={getCacheForType:function(e){var t=qt(_t),a=t.data.get(e);return a===void 0&&(a=e(),t.data.set(e,a)),a}},hv=typeof WeakMap=="function"?WeakMap:Map,qe=0,Ke=null,Se=null,Ie=0,Be=0,rn=null,es=!1,$i=!1,Lh=!1,Ra=0,st=0,ts=0,si=0,qh=0,_n=0,Wi=0,_l=null,Jt=null,Bh=!1,Gh=0,uu=1/0,cu=null,ns=null,Ot=0,as=null,er=null,tr=0,Hh=0,Qh=null,Bg=null,Tl=0,Fh=null;function ln(){if((qe&2)!==0&&Ie!==0)return Ie&-Ie;if(Q.T!==null){var e=Bi;return e!==0?e:Wh()}return za()}function Gg(){_n===0&&(_n=(Ie&536870912)===0||ke?Vr():536870912);var e=bn.current;return e!==null&&(e.flags|=32),_n}function on(e,t,a){(e===Ke&&(Be===2||Be===9)||e.cancelPendingCommit!==null)&&(nr(e,0),ss(e,Ie,_n,!1)),ra(e,a),((qe&2)===0||e!==Ke)&&(e===Ke&&((qe&2)===0&&(si|=a),st===4&&ss(e,Ie,_n,!1)),Kn(e))}function Hg(e,t,a){if((qe&6)!==0)throw Error(i(327));var r=!a&&(t&124)===0&&(t&e.expiredLanes)===0||Cs(e,t),c=r?mv(e,t):Xh(e,t,!0),f=r;do{if(c===0){$i&&!r&&ss(e,t,0,!1);break}else{if(a=e.current.alternate,f&&!dv(a)){c=Xh(e,t,!1),f=!1;continue}if(c===2){if(f=t,e.errorRecoveryDisabledLanes&f)var x=0;else x=e.pendingLanes&-536870913,x=x!==0?x:x&536870912?536870912:0;if(x!==0){t=x;e:{var v=e;c=_l;var A=v.current.memoizedState.isDehydrated;if(A&&(nr(v,x).flags|=256),x=Xh(v,x,!1),x!==2){if(Lh&&!A){v.errorRecoveryDisabledLanes|=f,si|=f,c=4;break e}f=Jt,Jt=c,f!==null&&(Jt===null?Jt=f:Jt.push.apply(Jt,f))}c=x}if(f=!1,c!==2)continue}}if(c===1){nr(e,0),ss(e,t,0,!0);break}e:{switch(r=e,f=c,f){case 0:case 1:throw Error(i(345));case 4:if((t&4194048)!==t)break;case 6:ss(r,t,_n,!es);break e;case 2:Jt=null;break;case 3:case 5:break;default:throw Error(i(329))}if((t&62914560)===t&&(c=Gh+300-cn(),10<c)){if(ss(r,t,_n,!es),vi(r,0,!0)!==0)break e;r.timeoutHandle=vp(Qg.bind(null,r,a,Jt,cu,Bh,t,_n,si,Wi,es,f,2,-0,0),c);break e}Qg(r,a,Jt,cu,Bh,t,_n,si,Wi,es,f,0,-0,0)}}break}while(!0);Kn(e)}function Qg(e,t,a,r,c,f,x,v,A,z,H,X,P,L){if(e.timeoutHandle=-1,X=t.subtreeFlags,(X&8192||(X&16785408)===16785408)&&(jl={stylesheets:null,count:0,unsuspend:Yv},zg(t),X=Xv(),X!==null)){e.cancelPendingCommit=X($g.bind(null,e,t,f,a,r,c,x,v,A,H,1,P,L)),ss(e,f,x,!z);return}$g(e,t,f,a,r,c,x,v,A)}function dv(e){for(var t=e;;){var a=t.tag;if((a===0||a===11||a===15)&&t.flags&16384&&(a=t.updateQueue,a!==null&&(a=a.stores,a!==null)))for(var r=0;r<a.length;r++){var c=a[r],f=c.getSnapshot;c=c.value;try{if(!tn(f(),c))return!1}catch{return!1}}if(a=t.child,t.subtreeFlags&16384&&a!==null)a.return=t,t=a;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ss(e,t,a,r){t&=~qh,t&=~si,e.suspendedLanes|=t,e.pingedLanes&=~t,r&&(e.warmLanes|=t),r=e.expirationTimes;for(var c=t;0<c;){var f=31-Lt(c),x=1<<f;r[f]=-1,c&=~x}a!==0&&In(e,a,t)}function hu(){return(qe&6)===0?(wl(0),!1):!0}function Yh(){if(Se!==null){if(Be===0)var e=Se.return;else e=Se,ba=$s=null,ch(e),Ki=null,fl=0,e=Se;for(;e!==null;)Eg(e.alternate,e),e=e.return;Se=null}}function nr(e,t){var a=e.timeoutHandle;a!==-1&&(e.timeoutHandle=-1,Cv(a)),a=e.cancelPendingCommit,a!==null&&(e.cancelPendingCommit=null,a()),Yh(),Ke=e,Se=a=ya(e.current,null),Ie=t,Be=0,rn=null,es=!1,$i=Cs(e,t),Lh=!1,Wi=_n=qh=si=ts=st=0,Jt=_l=null,Bh=!1,(t&8)!==0&&(t|=t&32);var r=e.entangledLanes;if(r!==0)for(e=e.entanglements,r&=t;0<r;){var c=31-Lt(r),f=1<<c;t|=e[c],r&=~f}return Ra=t,Io(),a}function Fg(e,t){Ee=null,Q.H=$o,t===sl||t===Bo?(t=um(),Be=3):t===rm?(t=um(),Be=4):Be=t===cg?8:t!==null&&typeof t=="object"&&typeof t.then=="function"?6:1,rn=t,Se===null&&(st=1,au(e,pn(t,e.current)))}function Yg(){var e=Q.H;return Q.H=$o,e===null?$o:e}function Kg(){var e=Q.A;return Q.A=cv,e}function Kh(){st=4,es||(Ie&4194048)!==Ie&&bn.current!==null||($i=!0),(ts&134217727)===0&&(si&134217727)===0||Ke===null||ss(Ke,Ie,_n,!1)}function Xh(e,t,a){var r=qe;qe|=2;var c=Yg(),f=Kg();(Ke!==e||Ie!==t)&&(cu=null,nr(e,t)),t=!1;var x=st;e:do try{if(Be!==0&&Se!==null){var v=Se,A=rn;switch(Be){case 8:Yh(),x=6;break e;case 3:case 2:case 9:case 6:bn.current===null&&(t=!0);var z=Be;if(Be=0,rn=null,ar(e,v,A,z),a&&$i){x=0;break e}break;default:z=Be,Be=0,rn=null,ar(e,v,A,z)}}fv(),x=st;break}catch(H){Fg(e,H)}while(!0);return t&&e.shellSuspendCounter++,ba=$s=null,qe=r,Q.H=c,Q.A=f,Se===null&&(Ke=null,Ie=0,Io()),x}function fv(){for(;Se!==null;)Xg(Se)}function mv(e,t){var a=qe;qe|=2;var r=Yg(),c=Kg();Ke!==e||Ie!==t?(cu=null,uu=cn()+500,nr(e,t)):$i=Cs(e,t);e:do try{if(Be!==0&&Se!==null){t=Se;var f=rn;t:switch(Be){case 1:Be=0,rn=null,ar(e,t,f,1);break;case 2:case 9:if(lm(f)){Be=0,rn=null,Zg(t);break}t=function(){Be!==2&&Be!==9||Ke!==e||(Be=7),Kn(e)},f.then(t,t);break e;case 3:Be=7;break e;case 4:Be=5;break e;case 7:lm(f)?(Be=0,rn=null,Zg(t)):(Be=0,rn=null,ar(e,t,f,7));break;case 5:var x=null;switch(Se.tag){case 26:x=Se.memoizedState;case 5:case 27:var v=Se;if(!x||Vp(x)){Be=0,rn=null;var A=v.sibling;if(A!==null)Se=A;else{var z=v.return;z!==null?(Se=z,du(z)):Se=null}break t}}Be=0,rn=null,ar(e,t,f,5);break;case 6:Be=0,rn=null,ar(e,t,f,6);break;case 8:Yh(),st=6;break e;default:throw Error(i(462))}}gv();break}catch(H){Fg(e,H)}while(!0);return ba=$s=null,Q.H=r,Q.A=c,qe=a,Se!==null?0:(Ke=null,Ie=0,Io(),st)}function gv(){for(;Se!==null&&!Nr();)Xg(Se)}function Xg(e){var t=Tg(e.alternate,e,Ra);e.memoizedProps=e.pendingProps,t===null?du(e):Se=t}function Zg(e){var t=e,a=t.alternate;switch(t.tag){case 15:case 0:t=pg(a,t,t.pendingProps,t.type,void 0,Ie);break;case 11:t=pg(a,t,t.pendingProps,t.type.render,t.ref,Ie);break;case 5:ch(t);default:Eg(a,t),t=Se=Jf(t,Ra),t=Tg(a,t,Ra)}e.memoizedProps=e.pendingProps,t===null?du(e):Se=t}function ar(e,t,a,r){ba=$s=null,ch(t),Ki=null,fl=0;var c=t.return;try{if(sv(e,c,t,a,Ie)){st=1,au(e,pn(a,e.current)),Se=null;return}}catch(f){if(c!==null)throw Se=c,f;st=1,au(e,pn(a,e.current)),Se=null;return}t.flags&32768?(ke||r===1?e=!0:$i||(Ie&536870912)!==0?e=!1:(es=e=!0,(r===2||r===9||r===3||r===6)&&(r=bn.current,r!==null&&r.tag===13&&(r.flags|=16384))),Jg(t,e)):du(t)}function du(e){var t=e;do{if((t.flags&32768)!==0){Jg(t,es);return}e=t.return;var a=rv(t.alternate,t,Ra);if(a!==null){Se=a;return}if(t=t.sibling,t!==null){Se=t;return}Se=t=e}while(t!==null);st===0&&(st=5)}function Jg(e,t){do{var a=lv(e.alternate,e);if(a!==null){a.flags&=32767,Se=a;return}if(a=e.return,a!==null&&(a.flags|=32768,a.subtreeFlags=0,a.deletions=null),!t&&(e=e.sibling,e!==null)){Se=e;return}Se=e=a}while(e!==null);st=6,Se=null}function $g(e,t,a,r,c,f,x,v,A){e.cancelPendingCommit=null;do fu();while(Ot!==0);if((qe&6)!==0)throw Error(i(327));if(t!==null){if(t===e.current)throw Error(i(177));if(f=t.lanes|t.childLanes,f|=Pc,Ir(e,a,f,x,v,A),e===Ke&&(Se=Ke=null,Ie=0),er=t,as=e,tr=a,Hh=f,Qh=c,Bg=r,(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?(e.callbackNode=null,e.callbackPriority=0,vv(Ss,function(){return ap(),null})):(e.callbackNode=null,e.callbackPriority=0),r=(t.flags&13878)!==0,(t.subtreeFlags&13878)!==0||r){r=Q.T,Q.T=null,c=J.p,J.p=2,x=qe,qe|=4;try{ov(e,t,a)}finally{qe=x,J.p=c,Q.T=r}}Ot=1,Wg(),ep(),tp()}}function Wg(){if(Ot===1){Ot=0;var e=as,t=er,a=(t.flags&13878)!==0;if((t.subtreeFlags&13878)!==0||a){a=Q.T,Q.T=null;var r=J.p;J.p=2;var c=qe;qe|=4;try{Og(t,e);var f=ld,x=qf(e.containerInfo),v=f.focusedElem,A=f.selectionRange;if(x!==v&&v&&v.ownerDocument&&Lf(v.ownerDocument.documentElement,v)){if(A!==null&&Mc(v)){var z=A.start,H=A.end;if(H===void 0&&(H=z),"selectionStart"in v)v.selectionStart=z,v.selectionEnd=Math.min(H,v.value.length);else{var X=v.ownerDocument||document,P=X&&X.defaultView||window;if(P.getSelection){var L=P.getSelection(),xe=v.textContent.length,me=Math.min(A.start,xe),Fe=A.end===void 0?me:Math.min(A.end,xe);!L.extend&&me>Fe&&(x=Fe,Fe=me,me=x);var I=Pf(v,me),j=Pf(v,Fe);if(I&&j&&(L.rangeCount!==1||L.anchorNode!==I.node||L.anchorOffset!==I.offset||L.focusNode!==j.node||L.focusOffset!==j.offset)){var U=X.createRange();U.setStart(I.node,I.offset),L.removeAllRanges(),me>Fe?(L.addRange(U),L.extend(j.node,j.offset)):(U.setEnd(j.node,j.offset),L.addRange(U))}}}}for(X=[],L=v;L=L.parentNode;)L.nodeType===1&&X.push({element:L,left:L.scrollLeft,top:L.scrollTop});for(typeof v.focus=="function"&&v.focus(),v=0;v<X.length;v++){var Y=X[v];Y.element.scrollLeft=Y.left,Y.element.scrollTop=Y.top}}Au=!!rd,ld=rd=null}finally{qe=c,J.p=r,Q.T=a}}e.current=t,Ot=2}}function ep(){if(Ot===2){Ot=0;var e=as,t=er,a=(t.flags&8772)!==0;if((t.subtreeFlags&8772)!==0||a){a=Q.T,Q.T=null;var r=J.p;J.p=2;var c=qe;qe|=4;try{Vg(e,t.alternate,t)}finally{qe=c,J.p=r,Q.T=a}}Ot=3}}function tp(){if(Ot===4||Ot===3){Ot=0,lo();var e=as,t=er,a=tr,r=Bg;(t.subtreeFlags&10256)!==0||(t.flags&10256)!==0?Ot=5:(Ot=0,er=as=null,np(e,e.pendingLanes));var c=e.pendingLanes;if(c===0&&(ns=null),bi(a),t=t.stateNode,Le&&typeof Le.onCommitFiberRoot=="function")try{Le.onCommitFiberRoot(nt,t,void 0,(t.current.flags&128)===128)}catch{}if(r!==null){t=Q.T,c=J.p,J.p=2,Q.T=null;try{for(var f=e.onRecoverableError,x=0;x<r.length;x++){var v=r[x];f(v.value,{componentStack:v.stack})}}finally{Q.T=t,J.p=c}}(tr&3)!==0&&fu(),Kn(e),c=e.pendingLanes,(a&4194090)!==0&&(c&42)!==0?e===Fh?Tl++:(Tl=0,Fh=e):Tl=0,wl(0)}}function np(e,t){(e.pooledCacheLanes&=t)===0&&(t=e.pooledCache,t!=null&&(e.pooledCache=null,nl(t)))}function fu(e){return Wg(),ep(),tp(),ap()}function ap(){if(Ot!==5)return!1;var e=as,t=Hh;Hh=0;var a=bi(tr),r=Q.T,c=J.p;try{J.p=32>a?32:a,Q.T=null,a=Qh,Qh=null;var f=as,x=tr;if(Ot=0,er=as=null,tr=0,(qe&6)!==0)throw Error(i(331));var v=qe;if(qe|=4,Lg(f.current),Ug(f,f.current,x,a),qe=v,wl(0,!1),Le&&typeof Le.onPostCommitFiberRoot=="function")try{Le.onPostCommitFiberRoot(nt,f)}catch{}return!0}finally{J.p=c,Q.T=r,np(e,t)}}function sp(e,t,a){t=pn(a,t),t=Eh(e.stateNode,t,2),e=Ya(e,t,2),e!==null&&(ra(e,2),Kn(e))}function Ye(e,t,a){if(e.tag===3)sp(e,e,a);else for(;t!==null;){if(t.tag===3){sp(t,e,a);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ns===null||!ns.has(r))){e=pn(a,e),a=og(2),r=Ya(t,a,2),r!==null&&(ug(a,r,t,e),ra(r,2),Kn(r));break}}t=t.return}}function Zh(e,t,a){var r=e.pingCache;if(r===null){r=e.pingCache=new hv;var c=new Set;r.set(t,c)}else c=r.get(t),c===void 0&&(c=new Set,r.set(t,c));c.has(a)||(Lh=!0,c.add(a),e=pv.bind(null,e,t,a),t.then(e,e))}function pv(e,t,a){var r=e.pingCache;r!==null&&r.delete(t),e.pingedLanes|=e.suspendedLanes&a,e.warmLanes&=~a,Ke===e&&(Ie&a)===a&&(st===4||st===3&&(Ie&62914560)===Ie&&300>cn()-Gh?(qe&2)===0&&nr(e,0):qh|=a,Wi===Ie&&(Wi=0)),Kn(e)}function ip(e,t){t===0&&(t=Dr()),e=zi(e,t),e!==null&&(ra(e,t),Kn(e))}function yv(e){var t=e.memoizedState,a=0;t!==null&&(a=t.retryLane),ip(e,a)}function xv(e,t){var a=0;switch(e.tag){case 13:var r=e.stateNode,c=e.memoizedState;c!==null&&(a=c.retryLane);break;case 19:r=e.stateNode;break;case 22:r=e.stateNode._retryCache;break;default:throw Error(i(314))}r!==null&&r.delete(t),ip(e,a)}function vv(e,t){return Es(e,t)}var mu=null,sr=null,Jh=!1,gu=!1,$h=!1,ii=0;function Kn(e){e!==sr&&e.next===null&&(sr===null?mu=sr=e:sr=sr.next=e),gu=!0,Jh||(Jh=!0,_v())}function wl(e,t){if(!$h&&gu){$h=!0;do for(var a=!1,r=mu;r!==null;){if(e!==0){var c=r.pendingLanes;if(c===0)var f=0;else{var x=r.suspendedLanes,v=r.pingedLanes;f=(1<<31-Lt(42|e)+1)-1,f&=c&~(x&~v),f=f&201326741?f&201326741|1:f?f|2:0}f!==0&&(a=!0,up(r,f))}else f=Ie,f=vi(r,r===Ke?f:0,r.cancelPendingCommit!==null||r.timeoutHandle!==-1),(f&3)===0||Cs(r,f)||(a=!0,up(r,f));r=r.next}while(a);$h=!1}}function bv(){rp()}function rp(){gu=Jh=!1;var e=0;ii!==0&&(jv()&&(e=ii),ii=0);for(var t=cn(),a=null,r=mu;r!==null;){var c=r.next,f=lp(r,t);f===0?(r.next=null,a===null?mu=c:a.next=c,c===null&&(sr=a)):(a=r,(e!==0||(f&3)!==0)&&(gu=!0)),r=c}wl(e)}function lp(e,t){for(var a=e.suspendedLanes,r=e.pingedLanes,c=e.expirationTimes,f=e.pendingLanes&-62914561;0<f;){var x=31-Lt(f),v=1<<x,A=c[x];A===-1?((v&a)===0||(v&r)!==0)&&(c[x]=Cr(v,t)):A<=t&&(e.expiredLanes|=v),f&=~v}if(t=Ke,a=Ie,a=vi(e,e===t?a:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r=e.callbackNode,a===0||e===t&&(Be===2||Be===9)||e.cancelPendingCommit!==null)return r!==null&&r!==null&&As(r),e.callbackNode=null,e.callbackPriority=0;if((a&3)===0||Cs(e,a)){if(t=a&-a,t===e.callbackPriority)return t;switch(r!==null&&As(r),bi(a)){case 2:case 8:a=yi;break;case 32:a=Ss;break;case 268435456:a=xi;break;default:a=Ss}return r=op.bind(null,e),a=Es(a,r),e.callbackPriority=t,e.callbackNode=a,t}return r!==null&&r!==null&&As(r),e.callbackPriority=2,e.callbackNode=null,2}function op(e,t){if(Ot!==0&&Ot!==5)return e.callbackNode=null,e.callbackPriority=0,null;var a=e.callbackNode;if(fu()&&e.callbackNode!==a)return null;var r=Ie;return r=vi(e,e===Ke?r:0,e.cancelPendingCommit!==null||e.timeoutHandle!==-1),r===0?null:(Hg(e,r,t),lp(e,cn()),e.callbackNode!=null&&e.callbackNode===a?op.bind(null,e):null)}function up(e,t){if(fu())return null;Hg(e,t,!0)}function _v(){Vv(function(){(qe&6)!==0?Es(Rr,bv):rp()})}function Wh(){return ii===0&&(ii=Vr()),ii}function cp(e){return e==null||typeof e=="symbol"||typeof e=="boolean"?null:typeof e=="function"?e:Si(""+e)}function hp(e,t){var a=t.ownerDocument.createElement("input");return a.name=t.name,a.value=t.value,e.id&&a.setAttribute("form",e.id),t.parentNode.insertBefore(a,t),e=new FormData(e),a.parentNode.removeChild(a),e}function Tv(e,t,a,r,c){if(t==="submit"&&a&&a.stateNode===c){var f=cp((c[ht]||null).action),x=r.submitter;x&&(t=(t=x[ht]||null)?cp(t.formAction):x.getAttribute("formAction"),t!==null&&(f=t,x=null));var v=new Ni("action","action",null,r,c);e.push({event:v,listeners:[{instance:null,listener:function(){if(r.defaultPrevented){if(ii!==0){var A=x?hp(c,x):new FormData(c);vh(a,{pending:!0,data:A,method:c.method,action:f},null,A)}}else typeof f=="function"&&(v.preventDefault(),A=x?hp(c,x):new FormData(c),vh(a,{pending:!0,data:A,method:c.method,action:f},f,A))},currentTarget:c}]})}}for(var ed=0;ed<zc.length;ed++){var td=zc[ed],wv=td.toLowerCase(),Ev=td[0].toUpperCase()+td.slice(1);jn(wv,"on"+Ev)}jn(Hf,"onAnimationEnd"),jn(Qf,"onAnimationIteration"),jn(Ff,"onAnimationStart"),jn("dblclick","onDoubleClick"),jn("focusin","onFocus"),jn("focusout","onBlur"),jn(qx,"onTransitionRun"),jn(Bx,"onTransitionStart"),jn(Gx,"onTransitionCancel"),jn(Yf,"onTransitionEnd"),oa("onMouseEnter",["mouseout","mouseover"]),oa("onMouseLeave",["mouseout","mouseover"]),oa("onPointerEnter",["pointerout","pointerover"]),oa("onPointerLeave",["pointerout","pointerover"]),Nn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),Nn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),Nn("onBeforeInput",["compositionend","keypress","textInput","paste"]),Nn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),Nn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var El="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Av=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(El));function dp(e,t){t=(t&4)!==0;for(var a=0;a<e.length;a++){var r=e[a],c=r.event;r=r.listeners;e:{var f=void 0;if(t)for(var x=r.length-1;0<=x;x--){var v=r[x],A=v.instance,z=v.currentTarget;if(v=v.listener,A!==f&&c.isPropagationStopped())break e;f=v,c.currentTarget=z;try{f(c)}catch(H){nu(H)}c.currentTarget=null,f=A}else for(x=0;x<r.length;x++){if(v=r[x],A=v.instance,z=v.currentTarget,v=v.listener,A!==f&&c.isPropagationStopped())break e;f=v,c.currentTarget=z;try{f(c)}catch(H){nu(H)}c.currentTarget=null,f=A}}}}function Ne(e,t){var a=t[Or];a===void 0&&(a=t[Or]=new Set);var r=e+"__bubble";a.has(r)||(fp(t,e,2,!1),a.add(r))}function nd(e,t,a){var r=0;t&&(r|=4),fp(a,e,r,t)}var pu="_reactListening"+Math.random().toString(36).slice(2);function ad(e){if(!e[pu]){e[pu]=!0,kr.forEach(function(a){a!=="selectionchange"&&(Av.has(a)||nd(a,!1,e),nd(a,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[pu]||(t[pu]=!0,nd("selectionchange",!1,t))}}function fp(e,t,a,r){switch(Up(t)){case 2:var c=$v;break;case 8:c=Wv;break;default:c=yd}a=c.bind(null,t,a,e),c=void 0,!mn||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(c=!0),r?c!==void 0?e.addEventListener(t,a,{capture:!0,passive:c}):e.addEventListener(t,a,!0):c!==void 0?e.addEventListener(t,a,{passive:c}):e.addEventListener(t,a,!1)}function sd(e,t,a,r,c){var f=r;if((t&1)===0&&(t&2)===0&&r!==null)e:for(;;){if(r===null)return;var x=r.tag;if(x===3||x===4){var v=r.stateNode.containerInfo;if(v===c)break;if(x===4)for(x=r.return;x!==null;){var A=x.tag;if((A===3||A===4)&&x.stateNode.containerInfo===c)return;x=x.return}for(;v!==null;){if(x=la(v),x===null)return;if(A=x.tag,A===5||A===6||A===26||A===27){r=f=x;continue e}v=v.parentNode}}r=r.return}xo(function(){var z=f,H=fn(a),X=[];e:{var P=Kf.get(e);if(P!==void 0){var L=Ni,xe=e;switch(e){case"keypress":if(Pn(a)===0)break e;case"keydown":case"keyup":L=Ii;break;case"focusin":xe="focus",L=Ci;break;case"focusout":xe="blur",L=Ci;break;case"beforeblur":case"afterblur":L=Ci;break;case"click":if(a.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":L=gn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":L=Cc;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":L=So;break;case Hf:case Qf:case Ff:L=Vi;break;case Yf:L=Ro;break;case"scroll":case"scrollend":L=vo;break;case"wheel":L=Mi;break;case"copy":case"cut":case"paste":L=Di;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":L=Kr;break;case"toggle":case"beforetoggle":L=Co}var me=(t&4)!==0,Fe=!me&&(e==="scroll"||e==="scrollend"),I=me?P!==null?P+"Capture":null:P;me=[];for(var j=z,U;j!==null;){var Y=j;if(U=Y.stateNode,Y=Y.tag,Y!==5&&Y!==26&&Y!==27||U===null||I===null||(Y=zs(j,I),Y!=null&&me.push(Al(j,Y,U))),Fe)break;j=j.return}0<me.length&&(P=new L(P,xe,null,a,H),X.push({event:P,listeners:me}))}}if((t&7)===0){e:{if(P=e==="mouseover"||e==="pointerover",L=e==="mouseout"||e==="pointerout",P&&a!==ha&&(xe=a.relatedTarget||a.fromElement)&&(la(xe)||xe[hn]))break e;if((L||P)&&(P=H.window===H?H:(P=H.ownerDocument)?P.defaultView||P.parentWindow:window,L?(xe=a.relatedTarget||a.toElement,L=z,xe=xe?la(xe):null,xe!==null&&(Fe=h(xe),me=xe.tag,xe!==Fe||me!==5&&me!==27&&me!==6)&&(xe=null)):(L=null,xe=z),L!==xe)){if(me=gn,Y="onMouseLeave",I="onMouseEnter",j="mouse",(e==="pointerout"||e==="pointerover")&&(me=Kr,Y="onPointerLeave",I="onPointerEnter",j="pointer"),Fe=L==null?P:On(L),U=xe==null?P:On(xe),P=new me(Y,j+"leave",L,a,H),P.target=Fe,P.relatedTarget=U,Y=null,la(H)===z&&(me=new me(I,j+"enter",xe,a,H),me.target=U,me.relatedTarget=Fe,Y=me),Fe=Y,L&&xe)t:{for(me=L,I=xe,j=0,U=me;U;U=ir(U))j++;for(U=0,Y=I;Y;Y=ir(Y))U++;for(;0<j-U;)me=ir(me),j--;for(;0<U-j;)I=ir(I),U--;for(;j--;){if(me===I||I!==null&&me===I.alternate)break t;me=ir(me),I=ir(I)}me=null}else me=null;L!==null&&mp(X,P,L,me,!1),xe!==null&&Fe!==null&&mp(X,Fe,xe,me,!0)}}e:{if(P=z?On(z):window,L=P.nodeName&&P.nodeName.toLowerCase(),L==="select"||L==="input"&&P.type==="file")var re=If;else if(bt(P))if(Mf)re=zx;else{re=kx;var Ae=Ox}else L=P.nodeName,!L||L.toLowerCase()!=="input"||P.type!=="checkbox"&&P.type!=="radio"?z&&qr(z.elementType)&&(re=If):re=Ux;if(re&&(re=re(e,z))){pa(X,re,a,H);break e}Ae&&Ae(e,P,z),e==="focusout"&&z&&P.type==="number"&&z.memoizedProps.value!=null&&Ba(P,"number",P.value)}switch(Ae=z?On(z):window,e){case"focusin":(bt(Ae)||Ae.contentEditable==="true")&&(Oi=Ae,Oc=z,Jr=null);break;case"focusout":Jr=Oc=Oi=null;break;case"mousedown":kc=!0;break;case"contextmenu":case"mouseup":case"dragend":kc=!1,Bf(X,a,H);break;case"selectionchange":if(Lx)break;case"keydown":case"keyup":Bf(X,a,H)}var ue;if(Bn)e:{switch(e){case"compositionstart":var ge="onCompositionStart";break e;case"compositionend":ge="onCompositionEnd";break e;case"compositionupdate":ge="onCompositionUpdate";break e}ge=void 0}else Ve?q(e,a)&&(ge="onCompositionEnd"):e==="keydown"&&a.keyCode===229&&(ge="onCompositionStart");ge&&(p&&a.locale!=="ko"&&(Ve||ge!=="onCompositionStart"?ge==="onCompositionEnd"&&Ve&&(ue=Gr()):(zn=H,Ga="value"in zn?zn.value:zn.textContent,Ve=!0)),Ae=yu(z,ge),0<Ae.length&&(ge=new Fr(ge,e,null,a,H),X.push({event:ge,listeners:Ae}),ue?ge.data=ue:(ue=ne(a),ue!==null&&(ge.data=ue)))),(ue=m?vt(e,a):De(e,a))&&(ge=yu(z,"onBeforeInput"),0<ge.length&&(Ae=new Fr("onBeforeInput","beforeinput",null,a,H),X.push({event:Ae,listeners:ge}),Ae.data=ue)),Tv(X,e,z,a,H)}dp(X,t)})}function Al(e,t,a){return{instance:e,listener:t,currentTarget:a}}function yu(e,t){for(var a=t+"Capture",r=[];e!==null;){var c=e,f=c.stateNode;if(c=c.tag,c!==5&&c!==26&&c!==27||f===null||(c=zs(e,a),c!=null&&r.unshift(Al(e,c,f)),c=zs(e,t),c!=null&&r.push(Al(e,c,f))),e.tag===3)return r;e=e.return}return[]}function ir(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5&&e.tag!==27);return e||null}function mp(e,t,a,r,c){for(var f=t._reactName,x=[];a!==null&&a!==r;){var v=a,A=v.alternate,z=v.stateNode;if(v=v.tag,A!==null&&A===r)break;v!==5&&v!==26&&v!==27||z===null||(A=z,c?(z=zs(a,f),z!=null&&x.unshift(Al(a,z,A))):c||(z=zs(a,f),z!=null&&x.push(Al(a,z,A)))),a=a.return}x.length!==0&&e.push({event:t,listeners:x})}var Sv=/\r\n?/g,Nv=/\u0000|\uFFFD/g;function gp(e){return(typeof e=="string"?e:""+e).replace(Sv,`
`).replace(Nv,"")}function pp(e,t){return t=gp(t),gp(e)===t}function xu(){}function Qe(e,t,a,r,c,f){switch(a){case"children":typeof r=="string"?t==="body"||t==="textarea"&&r===""||dn(e,r):(typeof r=="number"||typeof r=="bigint")&&t!=="body"&&dn(e,""+r);break;case"className":kn(e,"class",r);break;case"tabIndex":kn(e,"tabindex",r);break;case"dir":case"role":case"viewBox":case"width":case"height":kn(e,a,r);break;case"style":Lr(e,r,f);break;case"data":if(t!=="object"){kn(e,"data",r);break}case"src":case"href":if(r===""&&(t!=="a"||a!=="href")){e.removeAttribute(a);break}if(r==null||typeof r=="function"||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Si(""+r),e.setAttribute(a,r);break;case"action":case"formAction":if(typeof r=="function"){e.setAttribute(a,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof f=="function"&&(a==="formAction"?(t!=="input"&&Qe(e,t,"name",c.name,c,null),Qe(e,t,"formEncType",c.formEncType,c,null),Qe(e,t,"formMethod",c.formMethod,c,null),Qe(e,t,"formTarget",c.formTarget,c,null)):(Qe(e,t,"encType",c.encType,c,null),Qe(e,t,"method",c.method,c,null),Qe(e,t,"target",c.target,c,null)));if(r==null||typeof r=="symbol"||typeof r=="boolean"){e.removeAttribute(a);break}r=Si(""+r),e.setAttribute(a,r);break;case"onClick":r!=null&&(e.onclick=xu);break;case"onScroll":r!=null&&Ne("scroll",e);break;case"onScrollEnd":r!=null&&Ne("scrollend",e);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"multiple":e.multiple=r&&typeof r!="function"&&typeof r!="symbol";break;case"muted":e.muted=r&&typeof r!="function"&&typeof r!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(r==null||typeof r=="function"||typeof r=="boolean"||typeof r=="symbol"){e.removeAttribute("xlink:href");break}a=Si(""+r),e.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",a);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""+r):e.removeAttribute(a);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":r&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,""):e.removeAttribute(a);break;case"capture":case"download":r===!0?e.setAttribute(a,""):r!==!1&&r!=null&&typeof r!="function"&&typeof r!="symbol"?e.setAttribute(a,r):e.removeAttribute(a);break;case"cols":case"rows":case"size":case"span":r!=null&&typeof r!="function"&&typeof r!="symbol"&&!isNaN(r)&&1<=r?e.setAttribute(a,r):e.removeAttribute(a);break;case"rowSpan":case"start":r==null||typeof r=="function"||typeof r=="symbol"||isNaN(r)?e.removeAttribute(a):e.setAttribute(a,r);break;case"popover":Ne("beforetoggle",e),Ne("toggle",e),qa(e,"popover",r);break;case"xlinkActuate":Dt(e,"http://www.w3.org/1999/xlink","xlink:actuate",r);break;case"xlinkArcrole":Dt(e,"http://www.w3.org/1999/xlink","xlink:arcrole",r);break;case"xlinkRole":Dt(e,"http://www.w3.org/1999/xlink","xlink:role",r);break;case"xlinkShow":Dt(e,"http://www.w3.org/1999/xlink","xlink:show",r);break;case"xlinkTitle":Dt(e,"http://www.w3.org/1999/xlink","xlink:title",r);break;case"xlinkType":Dt(e,"http://www.w3.org/1999/xlink","xlink:type",r);break;case"xmlBase":Dt(e,"http://www.w3.org/XML/1998/namespace","xml:base",r);break;case"xmlLang":Dt(e,"http://www.w3.org/XML/1998/namespace","xml:lang",r);break;case"xmlSpace":Dt(e,"http://www.w3.org/XML/1998/namespace","xml:space",r);break;case"is":qa(e,"is",r);break;case"innerText":case"textContent":break;default:(!(2<a.length)||a[0]!=="o"&&a[0]!=="O"||a[1]!=="n"&&a[1]!=="N")&&(a=Rc.get(a)||a,qa(e,a,r))}}function id(e,t,a,r,c,f){switch(a){case"style":Lr(e,r,f);break;case"dangerouslySetInnerHTML":if(r!=null){if(typeof r!="object"||!("__html"in r))throw Error(i(61));if(a=r.__html,a!=null){if(c.children!=null)throw Error(i(60));e.innerHTML=a}}break;case"children":typeof r=="string"?dn(e,r):(typeof r=="number"||typeof r=="bigint")&&dn(e,""+r);break;case"onScroll":r!=null&&Ne("scroll",e);break;case"onScrollEnd":r!=null&&Ne("scrollend",e);break;case"onClick":r!=null&&(e.onclick=xu);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!_i.hasOwnProperty(a))e:{if(a[0]==="o"&&a[1]==="n"&&(c=a.endsWith("Capture"),t=a.slice(2,c?a.length-7:void 0),f=e[ht]||null,f=f!=null?f[a]:null,typeof f=="function"&&e.removeEventListener(t,f,c),typeof r=="function")){typeof f!="function"&&f!==null&&(a in e?e[a]=null:e.hasAttribute(a)&&e.removeAttribute(a)),e.addEventListener(t,r,c);break e}a in e?e[a]=r:r===!0?e.setAttribute(a,""):qa(e,a,r)}}}function kt(e,t,a){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":Ne("error",e),Ne("load",e);var r=!1,c=!1,f;for(f in a)if(a.hasOwnProperty(f)){var x=a[f];if(x!=null)switch(f){case"src":r=!0;break;case"srcSet":c=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Qe(e,t,f,x,a,null)}}c&&Qe(e,t,"srcSet",a.srcSet,a,null),r&&Qe(e,t,"src",a.src,a,null);return;case"input":Ne("invalid",e);var v=f=x=c=null,A=null,z=null;for(r in a)if(a.hasOwnProperty(r)){var H=a[r];if(H!=null)switch(r){case"name":c=H;break;case"type":x=H;break;case"checked":A=H;break;case"defaultChecked":z=H;break;case"value":f=H;break;case"defaultValue":v=H;break;case"children":case"dangerouslySetInnerHTML":if(H!=null)throw Error(i(137,t));break;default:Qe(e,t,r,H,a,null)}}Os(e,f,v,A,z,x,c,!1),Ai(e);return;case"select":Ne("invalid",e),r=x=f=null;for(c in a)if(a.hasOwnProperty(c)&&(v=a[c],v!=null))switch(c){case"value":f=v;break;case"defaultValue":x=v;break;case"multiple":r=v;default:Qe(e,t,c,v,a,null)}t=f,a=x,e.multiple=!!r,t!=null?ca(e,!!r,t,!1):a!=null&&ca(e,!!r,a,!0);return;case"textarea":Ne("invalid",e),f=c=r=null;for(x in a)if(a.hasOwnProperty(x)&&(v=a[x],v!=null))switch(x){case"value":r=v;break;case"defaultValue":c=v;break;case"children":f=v;break;case"dangerouslySetInnerHTML":if(v!=null)throw Error(i(91));break;default:Qe(e,t,x,v,a,null)}ks(e,r,c,f),Ai(e);return;case"option":for(A in a)if(a.hasOwnProperty(A)&&(r=a[A],r!=null))switch(A){case"selected":e.selected=r&&typeof r!="function"&&typeof r!="symbol";break;default:Qe(e,t,A,r,a,null)}return;case"dialog":Ne("beforetoggle",e),Ne("toggle",e),Ne("cancel",e),Ne("close",e);break;case"iframe":case"object":Ne("load",e);break;case"video":case"audio":for(r=0;r<El.length;r++)Ne(El[r],e);break;case"image":Ne("error",e),Ne("load",e);break;case"details":Ne("toggle",e);break;case"embed":case"source":case"link":Ne("error",e),Ne("load",e);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(z in a)if(a.hasOwnProperty(z)&&(r=a[z],r!=null))switch(z){case"children":case"dangerouslySetInnerHTML":throw Error(i(137,t));default:Qe(e,t,z,r,a,null)}return;default:if(qr(t)){for(H in a)a.hasOwnProperty(H)&&(r=a[H],r!==void 0&&id(e,t,H,r,a,void 0));return}}for(v in a)a.hasOwnProperty(v)&&(r=a[v],r!=null&&Qe(e,t,v,r,a,null))}function Rv(e,t,a,r){switch(t){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var c=null,f=null,x=null,v=null,A=null,z=null,H=null;for(L in a){var X=a[L];if(a.hasOwnProperty(L)&&X!=null)switch(L){case"checked":break;case"value":break;case"defaultValue":A=X;default:r.hasOwnProperty(L)||Qe(e,t,L,null,r,X)}}for(var P in r){var L=r[P];if(X=a[P],r.hasOwnProperty(P)&&(L!=null||X!=null))switch(P){case"type":f=L;break;case"name":c=L;break;case"checked":z=L;break;case"defaultChecked":H=L;break;case"value":x=L;break;case"defaultValue":v=L;break;case"children":case"dangerouslySetInnerHTML":if(L!=null)throw Error(i(137,t));break;default:L!==X&&Qe(e,t,P,L,r,X)}}en(e,x,v,A,z,H,f,c);return;case"select":L=x=v=P=null;for(f in a)if(A=a[f],a.hasOwnProperty(f)&&A!=null)switch(f){case"value":break;case"multiple":L=A;default:r.hasOwnProperty(f)||Qe(e,t,f,null,r,A)}for(c in r)if(f=r[c],A=a[c],r.hasOwnProperty(c)&&(f!=null||A!=null))switch(c){case"value":P=f;break;case"defaultValue":v=f;break;case"multiple":x=f;default:f!==A&&Qe(e,t,c,f,r,A)}t=v,a=x,r=L,P!=null?ca(e,!!a,P,!1):!!r!=!!a&&(t!=null?ca(e,!!a,t,!0):ca(e,!!a,a?[]:"",!1));return;case"textarea":L=P=null;for(v in a)if(c=a[v],a.hasOwnProperty(v)&&c!=null&&!r.hasOwnProperty(v))switch(v){case"value":break;case"children":break;default:Qe(e,t,v,null,r,c)}for(x in r)if(c=r[x],f=a[x],r.hasOwnProperty(x)&&(c!=null||f!=null))switch(x){case"value":P=c;break;case"defaultValue":L=c;break;case"children":break;case"dangerouslySetInnerHTML":if(c!=null)throw Error(i(91));break;default:c!==f&&Qe(e,t,x,c,r,f)}Ge(e,P,L);return;case"option":for(var xe in a)if(P=a[xe],a.hasOwnProperty(xe)&&P!=null&&!r.hasOwnProperty(xe))switch(xe){case"selected":e.selected=!1;break;default:Qe(e,t,xe,null,r,P)}for(A in r)if(P=r[A],L=a[A],r.hasOwnProperty(A)&&P!==L&&(P!=null||L!=null))switch(A){case"selected":e.selected=P&&typeof P!="function"&&typeof P!="symbol";break;default:Qe(e,t,A,P,r,L)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var me in a)P=a[me],a.hasOwnProperty(me)&&P!=null&&!r.hasOwnProperty(me)&&Qe(e,t,me,null,r,P);for(z in r)if(P=r[z],L=a[z],r.hasOwnProperty(z)&&P!==L&&(P!=null||L!=null))switch(z){case"children":case"dangerouslySetInnerHTML":if(P!=null)throw Error(i(137,t));break;default:Qe(e,t,z,P,r,L)}return;default:if(qr(t)){for(var Fe in a)P=a[Fe],a.hasOwnProperty(Fe)&&P!==void 0&&!r.hasOwnProperty(Fe)&&id(e,t,Fe,void 0,r,P);for(H in r)P=r[H],L=a[H],!r.hasOwnProperty(H)||P===L||P===void 0&&L===void 0||id(e,t,H,P,r,L);return}}for(var I in a)P=a[I],a.hasOwnProperty(I)&&P!=null&&!r.hasOwnProperty(I)&&Qe(e,t,I,null,r,P);for(X in r)P=r[X],L=a[X],!r.hasOwnProperty(X)||P===L||P==null&&L==null||Qe(e,t,X,P,r,L)}var rd=null,ld=null;function vu(e){return e.nodeType===9?e:e.ownerDocument}function yp(e){switch(e){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function xp(e,t){if(e===0)switch(t){case"svg":return 1;case"math":return 2;default:return 0}return e===1&&t==="foreignObject"?0:e}function od(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.children=="bigint"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ud=null;function jv(){var e=window.event;return e&&e.type==="popstate"?e===ud?!1:(ud=e,!0):(ud=null,!1)}var vp=typeof setTimeout=="function"?setTimeout:void 0,Cv=typeof clearTimeout=="function"?clearTimeout:void 0,bp=typeof Promise=="function"?Promise:void 0,Vv=typeof queueMicrotask=="function"?queueMicrotask:typeof bp<"u"?function(e){return bp.resolve(null).then(e).catch(Dv)}:vp;function Dv(e){setTimeout(function(){throw e})}function is(e){return e==="head"}function _p(e,t){var a=t,r=0,c=0;do{var f=a.nextSibling;if(e.removeChild(a),f&&f.nodeType===8)if(a=f.data,a==="/$"){if(0<r&&8>r){a=r;var x=e.ownerDocument;if(a&1&&Sl(x.documentElement),a&2&&Sl(x.body),a&4)for(a=x.head,Sl(a),x=a.firstChild;x;){var v=x.nextSibling,A=x.nodeName;x[Vs]||A==="SCRIPT"||A==="STYLE"||A==="LINK"&&x.rel.toLowerCase()==="stylesheet"||a.removeChild(x),x=v}}if(c===0){e.removeChild(f),Ml(t);return}c--}else a==="$"||a==="$?"||a==="$!"?c++:r=a.charCodeAt(0)-48;else r=0;a=f}while(a);Ml(t)}function cd(e){var t=e.firstChild;for(t&&t.nodeType===10&&(t=t.nextSibling);t;){var a=t;switch(t=t.nextSibling,a.nodeName){case"HTML":case"HEAD":case"BODY":cd(a),La(a);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(a.rel.toLowerCase()==="stylesheet")continue}e.removeChild(a)}}function Iv(e,t,a,r){for(;e.nodeType===1;){var c=a;if(e.nodeName.toLowerCase()!==t.toLowerCase()){if(!r&&(e.nodeName!=="INPUT"||e.type!=="hidden"))break}else if(r){if(!e[Vs])switch(t){case"meta":if(!e.hasAttribute("itemprop"))break;return e;case"link":if(f=e.getAttribute("rel"),f==="stylesheet"&&e.hasAttribute("data-precedence"))break;if(f!==c.rel||e.getAttribute("href")!==(c.href==null||c.href===""?null:c.href)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin)||e.getAttribute("title")!==(c.title==null?null:c.title))break;return e;case"style":if(e.hasAttribute("data-precedence"))break;return e;case"script":if(f=e.getAttribute("src"),(f!==(c.src==null?null:c.src)||e.getAttribute("type")!==(c.type==null?null:c.type)||e.getAttribute("crossorigin")!==(c.crossOrigin==null?null:c.crossOrigin))&&f&&e.hasAttribute("async")&&!e.hasAttribute("itemprop"))break;return e;default:return e}}else if(t==="input"&&e.type==="hidden"){var f=c.name==null?null:""+c.name;if(c.type==="hidden"&&e.getAttribute("name")===f)return e}else return e;if(e=Vn(e.nextSibling),e===null)break}return null}function Mv(e,t,a){if(t==="")return null;for(;e.nodeType!==3;)if((e.nodeType!==1||e.nodeName!=="INPUT"||e.type!=="hidden")&&!a||(e=Vn(e.nextSibling),e===null))return null;return e}function hd(e){return e.data==="$!"||e.data==="$?"&&e.ownerDocument.readyState==="complete"}function Ov(e,t){var a=e.ownerDocument;if(e.data!=="$?"||a.readyState==="complete")t();else{var r=function(){t(),a.removeEventListener("DOMContentLoaded",r)};a.addEventListener("DOMContentLoaded",r),e._reactRetry=r}}function Vn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?"||t==="F!"||t==="F")break;if(t==="/$")return null}}return e}var dd=null;function Tp(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var a=e.data;if(a==="$"||a==="$!"||a==="$?"){if(t===0)return e;t--}else a==="/$"&&t++}e=e.previousSibling}return null}function wp(e,t,a){switch(t=vu(a),e){case"html":if(e=t.documentElement,!e)throw Error(i(452));return e;case"head":if(e=t.head,!e)throw Error(i(453));return e;case"body":if(e=t.body,!e)throw Error(i(454));return e;default:throw Error(i(451))}}function Sl(e){for(var t=e.attributes;t.length;)e.removeAttributeNode(t[0]);La(e)}var Tn=new Map,Ep=new Set;function bu(e){return typeof e.getRootNode=="function"?e.getRootNode():e.nodeType===9?e:e.ownerDocument}var ja=J.d;J.d={f:kv,r:Uv,D:zv,C:Pv,L:Lv,m:qv,X:Gv,S:Bv,M:Hv};function kv(){var e=ja.f(),t=hu();return e||t}function Uv(e){var t=Mn(e);t!==null&&t.tag===5&&t.type==="form"?Hm(t):ja.r(e)}var rr=typeof document>"u"?null:document;function Ap(e,t,a){var r=rr;if(r&&typeof t=="string"&&t){var c=dt(t);c='link[rel="'+e+'"][href="'+c+'"]',typeof a=="string"&&(c+='[crossorigin="'+a+'"]'),Ep.has(c)||(Ep.add(c),e={rel:e,crossOrigin:a,href:t},r.querySelector(c)===null&&(t=r.createElement("link"),kt(t,"link",e),rt(t),r.head.appendChild(t)))}}function zv(e){ja.D(e),Ap("dns-prefetch",e,null)}function Pv(e,t){ja.C(e,t),Ap("preconnect",e,t)}function Lv(e,t,a){ja.L(e,t,a);var r=rr;if(r&&e&&t){var c='link[rel="preload"][as="'+dt(t)+'"]';t==="image"&&a&&a.imageSrcSet?(c+='[imagesrcset="'+dt(a.imageSrcSet)+'"]',typeof a.imageSizes=="string"&&(c+='[imagesizes="'+dt(a.imageSizes)+'"]')):c+='[href="'+dt(e)+'"]';var f=c;switch(t){case"style":f=lr(e);break;case"script":f=or(e)}Tn.has(f)||(e=w({rel:"preload",href:t==="image"&&a&&a.imageSrcSet?void 0:e,as:t},a),Tn.set(f,e),r.querySelector(c)!==null||t==="style"&&r.querySelector(Nl(f))||t==="script"&&r.querySelector(Rl(f))||(t=r.createElement("link"),kt(t,"link",e),rt(t),r.head.appendChild(t)))}}function qv(e,t){ja.m(e,t);var a=rr;if(a&&e){var r=t&&typeof t.as=="string"?t.as:"script",c='link[rel="modulepreload"][as="'+dt(r)+'"][href="'+dt(e)+'"]',f=c;switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":f=or(e)}if(!Tn.has(f)&&(e=w({rel:"modulepreload",href:e},t),Tn.set(f,e),a.querySelector(c)===null)){switch(r){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(a.querySelector(Rl(f)))return}r=a.createElement("link"),kt(r,"link",e),rt(r),a.head.appendChild(r)}}}function Bv(e,t,a){ja.S(e,t,a);var r=rr;if(r&&e){var c=Qt(r).hoistableStyles,f=lr(e);t=t||"default";var x=c.get(f);if(!x){var v={loading:0,preload:null};if(x=r.querySelector(Nl(f)))v.loading=5;else{e=w({rel:"stylesheet",href:e,"data-precedence":t},a),(a=Tn.get(f))&&fd(e,a);var A=x=r.createElement("link");rt(A),kt(A,"link",e),A._p=new Promise(function(z,H){A.onload=z,A.onerror=H}),A.addEventListener("load",function(){v.loading|=1}),A.addEventListener("error",function(){v.loading|=2}),v.loading|=4,_u(x,t,r)}x={type:"stylesheet",instance:x,count:1,state:v},c.set(f,x)}}}function Gv(e,t){ja.X(e,t);var a=rr;if(a&&e){var r=Qt(a).hoistableScripts,c=or(e),f=r.get(c);f||(f=a.querySelector(Rl(c)),f||(e=w({src:e,async:!0},t),(t=Tn.get(c))&&md(e,t),f=a.createElement("script"),rt(f),kt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function Hv(e,t){ja.M(e,t);var a=rr;if(a&&e){var r=Qt(a).hoistableScripts,c=or(e),f=r.get(c);f||(f=a.querySelector(Rl(c)),f||(e=w({src:e,async:!0,type:"module"},t),(t=Tn.get(c))&&md(e,t),f=a.createElement("script"),rt(f),kt(f,"link",e),a.head.appendChild(f)),f={type:"script",instance:f,count:1,state:null},r.set(c,f))}}function Sp(e,t,a,r){var c=(c=An.current)?bu(c):null;if(!c)throw Error(i(446));switch(e){case"meta":case"title":return null;case"style":return typeof a.precedence=="string"&&typeof a.href=="string"?(t=lr(a.href),a=Qt(c).hoistableStyles,r=a.get(t),r||(r={type:"style",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};case"link":if(a.rel==="stylesheet"&&typeof a.href=="string"&&typeof a.precedence=="string"){e=lr(a.href);var f=Qt(c).hoistableStyles,x=f.get(e);if(x||(c=c.ownerDocument||c,x={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},f.set(e,x),(f=c.querySelector(Nl(e)))&&!f._p&&(x.instance=f,x.state.loading=5),Tn.has(e)||(a={rel:"preload",as:"style",href:a.href,crossOrigin:a.crossOrigin,integrity:a.integrity,media:a.media,hrefLang:a.hrefLang,referrerPolicy:a.referrerPolicy},Tn.set(e,a),f||Qv(c,e,a,x.state))),t&&r===null)throw Error(i(528,""));return x}if(t&&r!==null)throw Error(i(529,""));return null;case"script":return t=a.async,a=a.src,typeof a=="string"&&t&&typeof t!="function"&&typeof t!="symbol"?(t=or(a),a=Qt(c).hoistableScripts,r=a.get(t),r||(r={type:"script",instance:null,count:0,state:null},a.set(t,r)),r):{type:"void",instance:null,count:0,state:null};default:throw Error(i(444,e))}}function lr(e){return'href="'+dt(e)+'"'}function Nl(e){return'link[rel="stylesheet"]['+e+"]"}function Np(e){return w({},e,{"data-precedence":e.precedence,precedence:null})}function Qv(e,t,a,r){e.querySelector('link[rel="preload"][as="style"]['+t+"]")?r.loading=1:(t=e.createElement("link"),r.preload=t,t.addEventListener("load",function(){return r.loading|=1}),t.addEventListener("error",function(){return r.loading|=2}),kt(t,"link",a),rt(t),e.head.appendChild(t))}function or(e){return'[src="'+dt(e)+'"]'}function Rl(e){return"script[async]"+e}function Rp(e,t,a){if(t.count++,t.instance===null)switch(t.type){case"style":var r=e.querySelector('style[data-href~="'+dt(a.href)+'"]');if(r)return t.instance=r,rt(r),r;var c=w({},a,{"data-href":a.href,"data-precedence":a.precedence,href:null,precedence:null});return r=(e.ownerDocument||e).createElement("style"),rt(r),kt(r,"style",c),_u(r,a.precedence,e),t.instance=r;case"stylesheet":c=lr(a.href);var f=e.querySelector(Nl(c));if(f)return t.state.loading|=4,t.instance=f,rt(f),f;r=Np(a),(c=Tn.get(c))&&fd(r,c),f=(e.ownerDocument||e).createElement("link"),rt(f);var x=f;return x._p=new Promise(function(v,A){x.onload=v,x.onerror=A}),kt(f,"link",r),t.state.loading|=4,_u(f,a.precedence,e),t.instance=f;case"script":return f=or(a.src),(c=e.querySelector(Rl(f)))?(t.instance=c,rt(c),c):(r=a,(c=Tn.get(f))&&(r=w({},a),md(r,c)),e=e.ownerDocument||e,c=e.createElement("script"),rt(c),kt(c,"link",r),e.head.appendChild(c),t.instance=c);case"void":return null;default:throw Error(i(443,t.type))}else t.type==="stylesheet"&&(t.state.loading&4)===0&&(r=t.instance,t.state.loading|=4,_u(r,a.precedence,e));return t.instance}function _u(e,t,a){for(var r=a.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),c=r.length?r[r.length-1]:null,f=c,x=0;x<r.length;x++){var v=r[x];if(v.dataset.precedence===t)f=v;else if(f!==c)break}f?f.parentNode.insertBefore(e,f.nextSibling):(t=a.nodeType===9?a.head:a,t.insertBefore(e,t.firstChild))}function fd(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.title==null&&(e.title=t.title)}function md(e,t){e.crossOrigin==null&&(e.crossOrigin=t.crossOrigin),e.referrerPolicy==null&&(e.referrerPolicy=t.referrerPolicy),e.integrity==null&&(e.integrity=t.integrity)}var Tu=null;function jp(e,t,a){if(Tu===null){var r=new Map,c=Tu=new Map;c.set(a,r)}else c=Tu,r=c.get(a),r||(r=new Map,c.set(a,r));if(r.has(e))return r;for(r.set(e,null),a=a.getElementsByTagName(e),c=0;c<a.length;c++){var f=a[c];if(!(f[Vs]||f[xt]||e==="link"&&f.getAttribute("rel")==="stylesheet")&&f.namespaceURI!=="http://www.w3.org/2000/svg"){var x=f.getAttribute(t)||"";x=e+x;var v=r.get(x);v?v.push(f):r.set(x,[f])}}return r}function Cp(e,t,a){e=e.ownerDocument||e,e.head.insertBefore(a,t==="title"?e.querySelector("head > title"):null)}function Fv(e,t,a){if(a===1||t.itemProp!=null)return!1;switch(e){case"meta":case"title":return!0;case"style":if(typeof t.precedence!="string"||typeof t.href!="string"||t.href==="")break;return!0;case"link":if(typeof t.rel!="string"||typeof t.href!="string"||t.href===""||t.onLoad||t.onError)break;switch(t.rel){case"stylesheet":return e=t.disabled,typeof t.precedence=="string"&&e==null;default:return!0}case"script":if(t.async&&typeof t.async!="function"&&typeof t.async!="symbol"&&!t.onLoad&&!t.onError&&t.src&&typeof t.src=="string")return!0}return!1}function Vp(e){return!(e.type==="stylesheet"&&(e.state.loading&3)===0)}var jl=null;function Yv(){}function Kv(e,t,a){if(jl===null)throw Error(i(475));var r=jl;if(t.type==="stylesheet"&&(typeof a.media!="string"||matchMedia(a.media).matches!==!1)&&(t.state.loading&4)===0){if(t.instance===null){var c=lr(a.href),f=e.querySelector(Nl(c));if(f){e=f._p,e!==null&&typeof e=="object"&&typeof e.then=="function"&&(r.count++,r=wu.bind(r),e.then(r,r)),t.state.loading|=4,t.instance=f,rt(f);return}f=e.ownerDocument||e,a=Np(a),(c=Tn.get(c))&&fd(a,c),f=f.createElement("link"),rt(f);var x=f;x._p=new Promise(function(v,A){x.onload=v,x.onerror=A}),kt(f,"link",a),t.instance=f}r.stylesheets===null&&(r.stylesheets=new Map),r.stylesheets.set(t,e),(e=t.state.preload)&&(t.state.loading&3)===0&&(r.count++,t=wu.bind(r),e.addEventListener("load",t),e.addEventListener("error",t))}}function Xv(){if(jl===null)throw Error(i(475));var e=jl;return e.stylesheets&&e.count===0&&gd(e,e.stylesheets),0<e.count?function(t){var a=setTimeout(function(){if(e.stylesheets&&gd(e,e.stylesheets),e.unsuspend){var r=e.unsuspend;e.unsuspend=null,r()}},6e4);return e.unsuspend=t,function(){e.unsuspend=null,clearTimeout(a)}}:null}function wu(){if(this.count--,this.count===0){if(this.stylesheets)gd(this,this.stylesheets);else if(this.unsuspend){var e=this.unsuspend;this.unsuspend=null,e()}}}var Eu=null;function gd(e,t){e.stylesheets=null,e.unsuspend!==null&&(e.count++,Eu=new Map,t.forEach(Zv,e),Eu=null,wu.call(e))}function Zv(e,t){if(!(t.state.loading&4)){var a=Eu.get(e);if(a)var r=a.get(null);else{a=new Map,Eu.set(e,a);for(var c=e.querySelectorAll("link[data-precedence],style[data-precedence]"),f=0;f<c.length;f++){var x=c[f];(x.nodeName==="LINK"||x.getAttribute("media")!=="not all")&&(a.set(x.dataset.precedence,x),r=x)}r&&a.set(null,r)}c=t.instance,x=c.getAttribute("data-precedence"),f=a.get(x)||r,f===r&&a.set(null,c),a.set(x,c),this.count++,r=wu.bind(this),c.addEventListener("load",r),c.addEventListener("error",r),f?f.parentNode.insertBefore(c,f.nextSibling):(e=e.nodeType===9?e.head:e,e.insertBefore(c,e.firstChild)),t.state.loading|=4}}var Cl={$$typeof:oe,Provider:null,Consumer:null,_currentValue:B,_currentValue2:B,_threadCount:0};function Jv(e,t,a,r,c,f,x,v){this.tag=1,this.containerInfo=e,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ia(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ia(0),this.hiddenUpdates=ia(null),this.identifierPrefix=r,this.onUncaughtError=c,this.onCaughtError=f,this.onRecoverableError=x,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=v,this.incompleteTransitions=new Map}function Dp(e,t,a,r,c,f,x,v,A,z,H,X){return e=new Jv(e,t,a,x,v,A,z,X),t=1,f===!0&&(t|=24),f=nn(3,null,null,t),e.current=f,f.stateNode=e,t=Zc(),t.refCount++,e.pooledCache=t,t.refCount++,f.memoizedState={element:r,isDehydrated:a,cache:t},eh(f),e}function Ip(e){return e?(e=Pi,e):Pi}function Mp(e,t,a,r,c,f){c=Ip(c),r.context===null?r.context=c:r.pendingContext=c,r=Fa(t),r.payload={element:a},f=f===void 0?null:f,f!==null&&(r.callback=f),a=Ya(e,r,t),a!==null&&(on(a,e,t),rl(a,e,t))}function Op(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<t?a:t}}function pd(e,t){Op(e,t),(e=e.alternate)&&Op(e,t)}function kp(e){if(e.tag===13){var t=zi(e,67108864);t!==null&&on(t,e,67108864),pd(e,67108864)}}var Au=!0;function $v(e,t,a,r){var c=Q.T;Q.T=null;var f=J.p;try{J.p=2,yd(e,t,a,r)}finally{J.p=f,Q.T=c}}function Wv(e,t,a,r){var c=Q.T;Q.T=null;var f=J.p;try{J.p=8,yd(e,t,a,r)}finally{J.p=f,Q.T=c}}function yd(e,t,a,r){if(Au){var c=xd(r);if(c===null)sd(e,t,r,Su,a),zp(e,r);else if(tb(c,e,t,a,r))r.stopPropagation();else if(zp(e,r),t&4&&-1<eb.indexOf(e)){for(;c!==null;){var f=Mn(c);if(f!==null)switch(f.tag){case 3:if(f=f.stateNode,f.current.memoizedState.isDehydrated){var x=Sn(f.pendingLanes);if(x!==0){var v=f;for(v.pendingLanes|=2,v.entangledLanes|=2;x;){var A=1<<31-Lt(x);v.entanglements[1]|=A,x&=~A}Kn(f),(qe&6)===0&&(uu=cn()+500,wl(0))}}break;case 13:v=zi(f,2),v!==null&&on(v,f,2),hu(),pd(f,2)}if(f=xd(r),f===null&&sd(e,t,r,Su,a),f===c)break;c=f}c!==null&&r.stopPropagation()}else sd(e,t,r,null,a)}}function xd(e){return e=fn(e),vd(e)}var Su=null;function vd(e){if(Su=null,e=la(e),e!==null){var t=h(e);if(t===null)e=null;else{var a=t.tag;if(a===13){if(e=g(t),e!==null)return e;e=null}else if(a===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null)}}return Su=e,null}function Up(e){switch(e){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tc()){case Rr:return 2;case yi:return 8;case Ss:case wc:return 32;case xi:return 268435456;default:return 32}default:return 32}}var bd=!1,rs=null,ls=null,os=null,Vl=new Map,Dl=new Map,us=[],eb="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function zp(e,t){switch(e){case"focusin":case"focusout":rs=null;break;case"dragenter":case"dragleave":ls=null;break;case"mouseover":case"mouseout":os=null;break;case"pointerover":case"pointerout":Vl.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Dl.delete(t.pointerId)}}function Il(e,t,a,r,c,f){return e===null||e.nativeEvent!==f?(e={blockedOn:t,domEventName:a,eventSystemFlags:r,nativeEvent:f,targetContainers:[c]},t!==null&&(t=Mn(t),t!==null&&kp(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,c!==null&&t.indexOf(c)===-1&&t.push(c),e)}function tb(e,t,a,r,c){switch(t){case"focusin":return rs=Il(rs,e,t,a,r,c),!0;case"dragenter":return ls=Il(ls,e,t,a,r,c),!0;case"mouseover":return os=Il(os,e,t,a,r,c),!0;case"pointerover":var f=c.pointerId;return Vl.set(f,Il(Vl.get(f)||null,e,t,a,r,c)),!0;case"gotpointercapture":return f=c.pointerId,Dl.set(f,Il(Dl.get(f)||null,e,t,a,r,c)),!0}return!1}function Pp(e){var t=la(e.target);if(t!==null){var a=h(t);if(a!==null){if(t=a.tag,t===13){if(t=g(a),t!==null){e.blockedOn=t,co(e.priority,function(){if(a.tag===13){var r=ln();r=Ua(r);var c=zi(a,r);c!==null&&on(c,a,r),pd(a,r)}});return}}else if(t===3&&a.stateNode.current.memoizedState.isDehydrated){e.blockedOn=a.tag===3?a.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Nu(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var a=xd(e.nativeEvent);if(a===null){a=e.nativeEvent;var r=new a.constructor(a.type,a);ha=r,a.target.dispatchEvent(r),ha=null}else return t=Mn(a),t!==null&&kp(t),e.blockedOn=a,!1;t.shift()}return!0}function Lp(e,t,a){Nu(e)&&a.delete(t)}function nb(){bd=!1,rs!==null&&Nu(rs)&&(rs=null),ls!==null&&Nu(ls)&&(ls=null),os!==null&&Nu(os)&&(os=null),Vl.forEach(Lp),Dl.forEach(Lp)}function Ru(e,t){e.blockedOn===t&&(e.blockedOn=null,bd||(bd=!0,l.unstable_scheduleCallback(l.unstable_NormalPriority,nb)))}var ju=null;function qp(e){ju!==e&&(ju=e,l.unstable_scheduleCallback(l.unstable_NormalPriority,function(){ju===e&&(ju=null);for(var t=0;t<e.length;t+=3){var a=e[t],r=e[t+1],c=e[t+2];if(typeof r!="function"){if(vd(r||a)===null)continue;break}var f=Mn(a);f!==null&&(e.splice(t,3),t-=3,vh(f,{pending:!0,data:c,method:a.method,action:r},r,c))}}))}function Ml(e){function t(A){return Ru(A,e)}rs!==null&&Ru(rs,e),ls!==null&&Ru(ls,e),os!==null&&Ru(os,e),Vl.forEach(t),Dl.forEach(t);for(var a=0;a<us.length;a++){var r=us[a];r.blockedOn===e&&(r.blockedOn=null)}for(;0<us.length&&(a=us[0],a.blockedOn===null);)Pp(a),a.blockedOn===null&&us.shift();if(a=(e.ownerDocument||e).$$reactFormReplay,a!=null)for(r=0;r<a.length;r+=3){var c=a[r],f=a[r+1],x=c[ht]||null;if(typeof f=="function")x||qp(a);else if(x){var v=null;if(f&&f.hasAttribute("formAction")){if(c=f,x=f[ht]||null)v=x.formAction;else if(vd(c)!==null)continue}else v=x.action;typeof v=="function"?a[r+1]=v:(a.splice(r,3),r-=3),qp(a)}}}function _d(e){this._internalRoot=e}Cu.prototype.render=_d.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(i(409));var a=t.current,r=ln();Mp(a,r,e,t,null,null)},Cu.prototype.unmount=_d.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Mp(e.current,2,null,e,null,null),hu(),t[hn]=null}};function Cu(e){this._internalRoot=e}Cu.prototype.unstable_scheduleHydration=function(e){if(e){var t=za();e={blockedOn:null,target:e,priority:t};for(var a=0;a<us.length&&t!==0&&t<us[a].priority;a++);us.splice(a,0,e),a===0&&Pp(e)}};var Bp=n.version;if(Bp!=="19.1.1")throw Error(i(527,Bp,"19.1.1"));J.findDOMNode=function(e){var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=_(t),e=e!==null?b(e):null,e=e===null?null:e.stateNode,e};var ab={bundleType:0,version:"19.1.1",rendererPackageName:"react-dom",currentDispatcherRef:Q,reconcilerVersion:"19.1.1"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Vu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Vu.isDisabled&&Vu.supportsFiber)try{nt=Vu.inject(ab),Le=Vu}catch{}}return kl.createRoot=function(e,t){if(!u(e))throw Error(i(299));var a=!1,r="",c=sg,f=ig,x=rg,v=null;return t!=null&&(t.unstable_strictMode===!0&&(a=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onUncaughtError!==void 0&&(c=t.onUncaughtError),t.onCaughtError!==void 0&&(f=t.onCaughtError),t.onRecoverableError!==void 0&&(x=t.onRecoverableError),t.unstable_transitionCallbacks!==void 0&&(v=t.unstable_transitionCallbacks)),t=Dp(e,1,!1,null,null,a,r,c,f,x,v,null),e[hn]=t.current,ad(e),new _d(t)},kl.hydrateRoot=function(e,t,a){if(!u(e))throw Error(i(299));var r=!1,c="",f=sg,x=ig,v=rg,A=null,z=null;return a!=null&&(a.unstable_strictMode===!0&&(r=!0),a.identifierPrefix!==void 0&&(c=a.identifierPrefix),a.onUncaughtError!==void 0&&(f=a.onUncaughtError),a.onCaughtError!==void 0&&(x=a.onCaughtError),a.onRecoverableError!==void 0&&(v=a.onRecoverableError),a.unstable_transitionCallbacks!==void 0&&(A=a.unstable_transitionCallbacks),a.formState!==void 0&&(z=a.formState)),t=Dp(e,1,!0,t,a??null,r,c,f,x,v,A,z),t.context=Ip(null),a=t.current,r=ln(),r=Ua(r),c=Fa(r),c.callback=null,Ya(a,c,r),a=r,t.current.lanes=a,ra(t,a),Kn(t),e[hn]=t.current,ad(e),new Cu(t)},kl.version="19.1.1",kl}var e0;function i_(){if(e0)return Ad.exports;e0=1;function l(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(l)}catch(n){console.error(n)}}return l(),Ad.exports=s_(),Ad.exports}var r_=i_(),t0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var fs,iy;(function(){var l;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function n(V,E){function N(){}N.prototype=E.prototype,V.D=E.prototype,V.prototype=new N,V.prototype.constructor=V,V.C=function(C,D,M){for(var S=Array(arguments.length-2),yt=2;yt<arguments.length;yt++)S[yt-2]=arguments[yt];return E.prototype[D].apply(C,S)}}function s(){this.blockSize=-1}function i(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}n(i,s),i.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function u(V,E,N){N||(N=0);var C=Array(16);if(typeof E=="string")for(var D=0;16>D;++D)C[D]=E.charCodeAt(N++)|E.charCodeAt(N++)<<8|E.charCodeAt(N++)<<16|E.charCodeAt(N++)<<24;else for(D=0;16>D;++D)C[D]=E[N++]|E[N++]<<8|E[N++]<<16|E[N++]<<24;E=V.g[0],N=V.g[1],D=V.g[2];var M=V.g[3],S=E+(M^N&(D^M))+C[0]+3614090360&4294967295;E=N+(S<<7&4294967295|S>>>25),S=M+(D^E&(N^D))+C[1]+3905402710&4294967295,M=E+(S<<12&4294967295|S>>>20),S=D+(N^M&(E^N))+C[2]+606105819&4294967295,D=M+(S<<17&4294967295|S>>>15),S=N+(E^D&(M^E))+C[3]+3250441966&4294967295,N=D+(S<<22&4294967295|S>>>10),S=E+(M^N&(D^M))+C[4]+4118548399&4294967295,E=N+(S<<7&4294967295|S>>>25),S=M+(D^E&(N^D))+C[5]+1200080426&4294967295,M=E+(S<<12&4294967295|S>>>20),S=D+(N^M&(E^N))+C[6]+2821735955&4294967295,D=M+(S<<17&4294967295|S>>>15),S=N+(E^D&(M^E))+C[7]+4249261313&4294967295,N=D+(S<<22&4294967295|S>>>10),S=E+(M^N&(D^M))+C[8]+1770035416&4294967295,E=N+(S<<7&4294967295|S>>>25),S=M+(D^E&(N^D))+C[9]+2336552879&4294967295,M=E+(S<<12&4294967295|S>>>20),S=D+(N^M&(E^N))+C[10]+4294925233&4294967295,D=M+(S<<17&4294967295|S>>>15),S=N+(E^D&(M^E))+C[11]+2304563134&4294967295,N=D+(S<<22&4294967295|S>>>10),S=E+(M^N&(D^M))+C[12]+1804603682&4294967295,E=N+(S<<7&4294967295|S>>>25),S=M+(D^E&(N^D))+C[13]+4254626195&4294967295,M=E+(S<<12&4294967295|S>>>20),S=D+(N^M&(E^N))+C[14]+2792965006&4294967295,D=M+(S<<17&4294967295|S>>>15),S=N+(E^D&(M^E))+C[15]+1236535329&4294967295,N=D+(S<<22&4294967295|S>>>10),S=E+(D^M&(N^D))+C[1]+4129170786&4294967295,E=N+(S<<5&4294967295|S>>>27),S=M+(N^D&(E^N))+C[6]+3225465664&4294967295,M=E+(S<<9&4294967295|S>>>23),S=D+(E^N&(M^E))+C[11]+643717713&4294967295,D=M+(S<<14&4294967295|S>>>18),S=N+(M^E&(D^M))+C[0]+3921069994&4294967295,N=D+(S<<20&4294967295|S>>>12),S=E+(D^M&(N^D))+C[5]+3593408605&4294967295,E=N+(S<<5&4294967295|S>>>27),S=M+(N^D&(E^N))+C[10]+38016083&4294967295,M=E+(S<<9&4294967295|S>>>23),S=D+(E^N&(M^E))+C[15]+3634488961&4294967295,D=M+(S<<14&4294967295|S>>>18),S=N+(M^E&(D^M))+C[4]+3889429448&4294967295,N=D+(S<<20&4294967295|S>>>12),S=E+(D^M&(N^D))+C[9]+568446438&4294967295,E=N+(S<<5&4294967295|S>>>27),S=M+(N^D&(E^N))+C[14]+3275163606&4294967295,M=E+(S<<9&4294967295|S>>>23),S=D+(E^N&(M^E))+C[3]+4107603335&4294967295,D=M+(S<<14&4294967295|S>>>18),S=N+(M^E&(D^M))+C[8]+1163531501&4294967295,N=D+(S<<20&4294967295|S>>>12),S=E+(D^M&(N^D))+C[13]+2850285829&4294967295,E=N+(S<<5&4294967295|S>>>27),S=M+(N^D&(E^N))+C[2]+4243563512&4294967295,M=E+(S<<9&4294967295|S>>>23),S=D+(E^N&(M^E))+C[7]+1735328473&4294967295,D=M+(S<<14&4294967295|S>>>18),S=N+(M^E&(D^M))+C[12]+2368359562&4294967295,N=D+(S<<20&4294967295|S>>>12),S=E+(N^D^M)+C[5]+4294588738&4294967295,E=N+(S<<4&4294967295|S>>>28),S=M+(E^N^D)+C[8]+2272392833&4294967295,M=E+(S<<11&4294967295|S>>>21),S=D+(M^E^N)+C[11]+1839030562&4294967295,D=M+(S<<16&4294967295|S>>>16),S=N+(D^M^E)+C[14]+4259657740&4294967295,N=D+(S<<23&4294967295|S>>>9),S=E+(N^D^M)+C[1]+2763975236&4294967295,E=N+(S<<4&4294967295|S>>>28),S=M+(E^N^D)+C[4]+1272893353&4294967295,M=E+(S<<11&4294967295|S>>>21),S=D+(M^E^N)+C[7]+4139469664&4294967295,D=M+(S<<16&4294967295|S>>>16),S=N+(D^M^E)+C[10]+3200236656&4294967295,N=D+(S<<23&4294967295|S>>>9),S=E+(N^D^M)+C[13]+681279174&4294967295,E=N+(S<<4&4294967295|S>>>28),S=M+(E^N^D)+C[0]+3936430074&4294967295,M=E+(S<<11&4294967295|S>>>21),S=D+(M^E^N)+C[3]+3572445317&4294967295,D=M+(S<<16&4294967295|S>>>16),S=N+(D^M^E)+C[6]+76029189&4294967295,N=D+(S<<23&4294967295|S>>>9),S=E+(N^D^M)+C[9]+3654602809&4294967295,E=N+(S<<4&4294967295|S>>>28),S=M+(E^N^D)+C[12]+3873151461&4294967295,M=E+(S<<11&4294967295|S>>>21),S=D+(M^E^N)+C[15]+530742520&4294967295,D=M+(S<<16&4294967295|S>>>16),S=N+(D^M^E)+C[2]+3299628645&4294967295,N=D+(S<<23&4294967295|S>>>9),S=E+(D^(N|~M))+C[0]+4096336452&4294967295,E=N+(S<<6&4294967295|S>>>26),S=M+(N^(E|~D))+C[7]+1126891415&4294967295,M=E+(S<<10&4294967295|S>>>22),S=D+(E^(M|~N))+C[14]+2878612391&4294967295,D=M+(S<<15&4294967295|S>>>17),S=N+(M^(D|~E))+C[5]+4237533241&4294967295,N=D+(S<<21&4294967295|S>>>11),S=E+(D^(N|~M))+C[12]+1700485571&4294967295,E=N+(S<<6&4294967295|S>>>26),S=M+(N^(E|~D))+C[3]+2399980690&4294967295,M=E+(S<<10&4294967295|S>>>22),S=D+(E^(M|~N))+C[10]+4293915773&4294967295,D=M+(S<<15&4294967295|S>>>17),S=N+(M^(D|~E))+C[1]+2240044497&4294967295,N=D+(S<<21&4294967295|S>>>11),S=E+(D^(N|~M))+C[8]+1873313359&4294967295,E=N+(S<<6&4294967295|S>>>26),S=M+(N^(E|~D))+C[15]+4264355552&4294967295,M=E+(S<<10&4294967295|S>>>22),S=D+(E^(M|~N))+C[6]+2734768916&4294967295,D=M+(S<<15&4294967295|S>>>17),S=N+(M^(D|~E))+C[13]+1309151649&4294967295,N=D+(S<<21&4294967295|S>>>11),S=E+(D^(N|~M))+C[4]+4149444226&4294967295,E=N+(S<<6&4294967295|S>>>26),S=M+(N^(E|~D))+C[11]+3174756917&4294967295,M=E+(S<<10&4294967295|S>>>22),S=D+(E^(M|~N))+C[2]+718787259&4294967295,D=M+(S<<15&4294967295|S>>>17),S=N+(M^(D|~E))+C[9]+3951481745&4294967295,V.g[0]=V.g[0]+E&4294967295,V.g[1]=V.g[1]+(D+(S<<21&4294967295|S>>>11))&4294967295,V.g[2]=V.g[2]+D&4294967295,V.g[3]=V.g[3]+M&4294967295}i.prototype.u=function(V,E){E===void 0&&(E=V.length);for(var N=E-this.blockSize,C=this.B,D=this.h,M=0;M<E;){if(D==0)for(;M<=N;)u(this,V,M),M+=this.blockSize;if(typeof V=="string"){for(;M<E;)if(C[D++]=V.charCodeAt(M++),D==this.blockSize){u(this,C),D=0;break}}else for(;M<E;)if(C[D++]=V[M++],D==this.blockSize){u(this,C),D=0;break}}this.h=D,this.o+=E},i.prototype.v=function(){var V=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);V[0]=128;for(var E=1;E<V.length-8;++E)V[E]=0;var N=8*this.o;for(E=V.length-8;E<V.length;++E)V[E]=N&255,N/=256;for(this.u(V),V=Array(16),E=N=0;4>E;++E)for(var C=0;32>C;C+=8)V[N++]=this.g[E]>>>C&255;return V};function h(V,E){var N=y;return Object.prototype.hasOwnProperty.call(N,V)?N[V]:N[V]=E(V)}function g(V,E){this.h=E;for(var N=[],C=!0,D=V.length-1;0<=D;D--){var M=V[D]|0;C&&M==E||(N[D]=M,C=!1)}this.g=N}var y={};function _(V){return-128<=V&&128>V?h(V,function(E){return new g([E|0],0>E?-1:0)}):new g([V|0],0>V?-1:0)}function b(V){if(isNaN(V)||!isFinite(V))return R;if(0>V)return K(b(-V));for(var E=[],N=1,C=0;V>=N;C++)E[C]=V/N|0,N*=4294967296;return new g(E,0)}function w(V,E){if(V.length==0)throw Error("number format error: empty string");if(E=E||10,2>E||36<E)throw Error("radix out of range: "+E);if(V.charAt(0)=="-")return K(w(V.substring(1),E));if(0<=V.indexOf("-"))throw Error('number format error: interior "-" character');for(var N=b(Math.pow(E,8)),C=R,D=0;D<V.length;D+=8){var M=Math.min(8,V.length-D),S=parseInt(V.substring(D,D+M),E);8>M?(M=b(Math.pow(E,M)),C=C.j(M).add(b(S))):(C=C.j(N),C=C.add(b(S)))}return C}var R=_(0),O=_(1),G=_(16777216);l=g.prototype,l.m=function(){if(F(this))return-K(this).m();for(var V=0,E=1,N=0;N<this.g.length;N++){var C=this.i(N);V+=(0<=C?C:4294967296+C)*E,E*=4294967296}return V},l.toString=function(V){if(V=V||10,2>V||36<V)throw Error("radix out of range: "+V);if($(this))return"0";if(F(this))return"-"+K(this).toString(V);for(var E=b(Math.pow(V,6)),N=this,C="";;){var D=ve(N,E).g;N=te(N,D.j(E));var M=((0<N.g.length?N.g[0]:N.h)>>>0).toString(V);if(N=D,$(N))return M+C;for(;6>M.length;)M="0"+M;C=M+C}},l.i=function(V){return 0>V?0:V<this.g.length?this.g[V]:this.h};function $(V){if(V.h!=0)return!1;for(var E=0;E<V.g.length;E++)if(V.g[E]!=0)return!1;return!0}function F(V){return V.h==-1}l.l=function(V){return V=te(this,V),F(V)?-1:$(V)?0:1};function K(V){for(var E=V.g.length,N=[],C=0;C<E;C++)N[C]=~V.g[C];return new g(N,~V.h).add(O)}l.abs=function(){return F(this)?K(this):this},l.add=function(V){for(var E=Math.max(this.g.length,V.g.length),N=[],C=0,D=0;D<=E;D++){var M=C+(this.i(D)&65535)+(V.i(D)&65535),S=(M>>>16)+(this.i(D)>>>16)+(V.i(D)>>>16);C=S>>>16,M&=65535,S&=65535,N[D]=S<<16|M}return new g(N,N[N.length-1]&-2147483648?-1:0)};function te(V,E){return V.add(K(E))}l.j=function(V){if($(this)||$(V))return R;if(F(this))return F(V)?K(this).j(K(V)):K(K(this).j(V));if(F(V))return K(this.j(K(V)));if(0>this.l(G)&&0>V.l(G))return b(this.m()*V.m());for(var E=this.g.length+V.g.length,N=[],C=0;C<2*E;C++)N[C]=0;for(C=0;C<this.g.length;C++)for(var D=0;D<V.g.length;D++){var M=this.i(C)>>>16,S=this.i(C)&65535,yt=V.i(D)>>>16,it=V.i(D)&65535;N[2*C+2*D]+=S*it,le(N,2*C+2*D),N[2*C+2*D+1]+=M*it,le(N,2*C+2*D+1),N[2*C+2*D+1]+=S*yt,le(N,2*C+2*D+1),N[2*C+2*D+2]+=M*yt,le(N,2*C+2*D+2)}for(C=0;C<E;C++)N[C]=N[2*C+1]<<16|N[2*C];for(C=E;C<2*E;C++)N[C]=0;return new g(N,0)};function le(V,E){for(;(V[E]&65535)!=V[E];)V[E+1]+=V[E]>>>16,V[E]&=65535,E++}function oe(V,E){this.g=V,this.h=E}function ve(V,E){if($(E))throw Error("division by zero");if($(V))return new oe(R,R);if(F(V))return E=ve(K(V),E),new oe(K(E.g),K(E.h));if(F(E))return E=ve(V,K(E)),new oe(K(E.g),E.h);if(30<V.g.length){if(F(V)||F(E))throw Error("slowDivide_ only works with positive integers.");for(var N=O,C=E;0>=C.l(V);)N=be(N),C=be(C);var D=fe(N,1),M=fe(C,1);for(C=fe(C,2),N=fe(N,2);!$(C);){var S=M.add(C);0>=S.l(V)&&(D=D.add(N),M=S),C=fe(C,1),N=fe(N,1)}return E=te(V,D.j(E)),new oe(D,E)}for(D=R;0<=V.l(E);){for(N=Math.max(1,Math.floor(V.m()/E.m())),C=Math.ceil(Math.log(N)/Math.LN2),C=48>=C?1:Math.pow(2,C-48),M=b(N),S=M.j(E);F(S)||0<S.l(V);)N-=C,M=b(N),S=M.j(E);$(M)&&(M=O),D=D.add(M),V=te(V,S)}return new oe(D,V)}l.A=function(V){return ve(this,V).h},l.and=function(V){for(var E=Math.max(this.g.length,V.g.length),N=[],C=0;C<E;C++)N[C]=this.i(C)&V.i(C);return new g(N,this.h&V.h)},l.or=function(V){for(var E=Math.max(this.g.length,V.g.length),N=[],C=0;C<E;C++)N[C]=this.i(C)|V.i(C);return new g(N,this.h|V.h)},l.xor=function(V){for(var E=Math.max(this.g.length,V.g.length),N=[],C=0;C<E;C++)N[C]=this.i(C)^V.i(C);return new g(N,this.h^V.h)};function be(V){for(var E=V.g.length+1,N=[],C=0;C<E;C++)N[C]=V.i(C)<<1|V.i(C-1)>>>31;return new g(N,V.h)}function fe(V,E){var N=E>>5;E%=32;for(var C=V.g.length-N,D=[],M=0;M<C;M++)D[M]=0<E?V.i(M+N)>>>E|V.i(M+N+1)<<32-E:V.i(M+N);return new g(D,V.h)}i.prototype.digest=i.prototype.v,i.prototype.reset=i.prototype.s,i.prototype.update=i.prototype.u,iy=i,g.prototype.add=g.prototype.add,g.prototype.multiply=g.prototype.j,g.prototype.modulo=g.prototype.A,g.prototype.compare=g.prototype.l,g.prototype.toNumber=g.prototype.m,g.prototype.toString=g.prototype.toString,g.prototype.getBits=g.prototype.i,g.fromNumber=b,g.fromString=w,fs=g}).apply(typeof t0<"u"?t0:typeof self<"u"?self:typeof window<"u"?window:{});var Iu=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ry,zl,ly,Bu,Ud,oy,uy,cy;(function(){var l,n=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,m,p){return o==Array.prototype||o==Object.prototype||(o[m]=p.value),o};function s(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof Iu=="object"&&Iu];for(var m=0;m<o.length;++m){var p=o[m];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var i=s(this);function u(o,m){if(m)e:{var p=i;o=o.split(".");for(var T=0;T<o.length-1;T++){var k=o[T];if(!(k in p))break e;p=p[k]}o=o[o.length-1],T=p[o],m=m(T),m!=T&&m!=null&&n(p,o,{configurable:!0,writable:!0,value:m})}}function h(o,m){o instanceof String&&(o+="");var p=0,T=!1,k={next:function(){if(!T&&p<o.length){var q=p++;return{value:m(q,o[q]),done:!1}}return T=!0,{done:!0,value:void 0}}};return k[Symbol.iterator]=function(){return k},k}u("Array.prototype.values",function(o){return o||function(){return h(this,function(m,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var g=g||{},y=this||self;function _(o){var m=typeof o;return m=m!="object"?m:o?Array.isArray(o)?"array":m:"null",m=="array"||m=="object"&&typeof o.length=="number"}function b(o){var m=typeof o;return m=="object"&&o!=null||m=="function"}function w(o,m,p){return o.call.apply(o.bind,arguments)}function R(o,m,p){if(!o)throw Error();if(2<arguments.length){var T=Array.prototype.slice.call(arguments,2);return function(){var k=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(k,T),o.apply(m,k)}}return function(){return o.apply(m,arguments)}}function O(o,m,p){return O=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,O.apply(null,arguments)}function G(o,m){var p=Array.prototype.slice.call(arguments,1);return function(){var T=p.slice();return T.push.apply(T,arguments),o.apply(this,T)}}function $(o,m){function p(){}p.prototype=m.prototype,o.aa=m.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(T,k,q){for(var ne=Array(arguments.length-2),Ve=2;Ve<arguments.length;Ve++)ne[Ve-2]=arguments[Ve];return m.prototype[k].apply(T,ne)}}function F(o){const m=o.length;if(0<m){const p=Array(m);for(let T=0;T<m;T++)p[T]=o[T];return p}return[]}function K(o,m){for(let p=1;p<arguments.length;p++){const T=arguments[p];if(_(T)){const k=o.length||0,q=T.length||0;o.length=k+q;for(let ne=0;ne<q;ne++)o[k+ne]=T[ne]}else o.push(T)}}class te{constructor(m,p){this.i=m,this.j=p,this.h=0,this.g=null}get(){let m;return 0<this.h?(this.h--,m=this.g,this.g=m.next,m.next=null):m=this.i(),m}}function le(o){return/^[\s\xa0]*$/.test(o)}function oe(){var o=y.navigator;return o&&(o=o.userAgent)?o:""}function ve(o){return ve[" "](o),o}ve[" "]=function(){};var be=oe().indexOf("Gecko")!=-1&&!(oe().toLowerCase().indexOf("webkit")!=-1&&oe().indexOf("Edge")==-1)&&!(oe().indexOf("Trident")!=-1||oe().indexOf("MSIE")!=-1)&&oe().indexOf("Edge")==-1;function fe(o,m,p){for(const T in o)m.call(p,o[T],T,o)}function V(o,m){for(const p in o)m.call(void 0,o[p],p,o)}function E(o){const m={};for(const p in o)m[p]=o[p];return m}const N="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function C(o,m){let p,T;for(let k=1;k<arguments.length;k++){T=arguments[k];for(p in T)o[p]=T[p];for(let q=0;q<N.length;q++)p=N[q],Object.prototype.hasOwnProperty.call(T,p)&&(o[p]=T[p])}}function D(o){var m=1;o=o.split(":");const p=[];for(;0<m&&o.length;)p.push(o.shift()),m--;return o.length&&p.push(o.join(":")),p}function M(o){y.setTimeout(()=>{throw o},0)}function S(){var o=ae;let m=null;return o.g&&(m=o.g,o.g=o.g.next,o.g||(o.h=null),m.next=null),m}class yt{constructor(){this.h=this.g=null}add(m,p){const T=it.get();T.set(m,p),this.h?this.h.next=T:this.g=T,this.h=T}}var it=new te(()=>new Q,o=>o.reset());class Q{constructor(){this.next=this.g=this.h=null}set(m,p){this.h=m,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let J,B=!1,ae=new yt,he=()=>{const o=y.Promise.resolve(void 0);J=()=>{o.then(Re)}};var Re=()=>{for(var o;o=S();){try{o.h.call(o.g)}catch(p){M(p)}var m=it;m.j(o),100>m.h&&(m.h++,o.next=m.g,m.g=o)}B=!1};function _e(){this.s=this.s,this.C=this.C}_e.prototype.s=!1,_e.prototype.ma=function(){this.s||(this.s=!0,this.N())},_e.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(o,m){this.type=o,this.g=this.target=m,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Pe=function(){if(!y.addEventListener||!Object.defineProperty)return!1;var o=!1,m=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};y.addEventListener("test",p,m),y.removeEventListener("test",p,m)}catch{}return o}();function ct(o,m){if(pe.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,T=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=m,m=o.relatedTarget){if(be){e:{try{ve(m.nodeName);var k=!0;break e}catch{}k=!1}k||(m=null)}}else p=="mouseover"?m=o.fromElement:p=="mouseout"&&(m=o.toElement);this.relatedTarget=m,T?(this.clientX=T.clientX!==void 0?T.clientX:T.pageX,this.clientY=T.clientY!==void 0?T.clientY:T.pageY,this.screenX=T.screenX||0,this.screenY=T.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:An[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&ct.aa.h.call(this)}}$(ct,pe);var An={2:"touch",3:"pen",4:"mouse"};ct.prototype.h=function(){ct.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var un="closure_listenable_"+(1e6*Math.random()|0),Ma=0;function Oa(o,m,p,T,k){this.listener=o,this.proxy=null,this.src=m,this.type=p,this.capture=!!T,this.ha=k,this.key=++Ma,this.da=this.fa=!1}function ka(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function sa(o){this.src=o,this.g={},this.h=0}sa.prototype.add=function(o,m,p,T,k){var q=o.toString();o=this.g[q],o||(o=this.g[q]=[],this.h++);var ne=Es(o,m,T,k);return-1<ne?(m=o[ne],p||(m.fa=!1)):(m=new Oa(m,this.src,q,!!T,k),m.fa=p,o.push(m)),m};function ws(o,m){var p=m.type;if(p in o.g){var T=o.g[p],k=Array.prototype.indexOf.call(T,m,void 0),q;(q=0<=k)&&Array.prototype.splice.call(T,k,1),q&&(ka(m),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Es(o,m,p,T){for(var k=0;k<o.length;++k){var q=o[k];if(!q.da&&q.listener==m&&q.capture==!!p&&q.ha==T)return k}return-1}var As="closure_lm_"+(1e6*Math.random()|0),Nr={};function lo(o,m,p,T,k){if(Array.isArray(m)){for(var q=0;q<m.length;q++)lo(o,m[q],p,T,k);return null}return p=oo(p),o&&o[un]?o.K(m,p,b(T)?!!T.capture:!1,k):cn(o,m,p,!1,T,k)}function cn(o,m,p,T,k,q){if(!m)throw Error("Invalid event type");var ne=b(k)?!!k.capture:!!k,Ve=xi(o);if(Ve||(o[As]=Ve=new sa(o)),p=Ve.add(m,p,T,ne,q),p.proxy)return p;if(T=Tc(),p.proxy=T,T.src=o,T.listener=p,o.addEventListener)Pe||(k=ne),k===void 0&&(k=!1),o.addEventListener(m.toString(),T,k);else if(o.attachEvent)o.attachEvent(Ss(m.toString()),T);else if(o.addListener&&o.removeListener)o.addListener(T);else throw Error("addEventListener and attachEvent are unavailable.");return p}function Tc(){function o(p){return m.call(o.src,o.listener,p)}const m=wc;return o}function Rr(o,m,p,T,k){if(Array.isArray(m))for(var q=0;q<m.length;q++)Rr(o,m[q],p,T,k);else T=b(T)?!!T.capture:!!T,p=oo(p),o&&o[un]?(o=o.i,m=String(m).toString(),m in o.g&&(q=o.g[m],p=Es(q,p,T,k),-1<p&&(ka(q[p]),Array.prototype.splice.call(q,p,1),q.length==0&&(delete o.g[m],o.h--)))):o&&(o=xi(o))&&(m=o.g[m.toString()],o=-1,m&&(o=Es(m,p,T,k)),(p=-1<o?m[o]:null)&&yi(p))}function yi(o){if(typeof o!="number"&&o&&!o.da){var m=o.src;if(m&&m[un])ws(m.i,o);else{var p=o.type,T=o.proxy;m.removeEventListener?m.removeEventListener(p,T,o.capture):m.detachEvent?m.detachEvent(Ss(p),T):m.addListener&&m.removeListener&&m.removeListener(T),(p=xi(m))?(ws(p,o),p.h==0&&(p.src=null,m[As]=null)):ka(o)}}}function Ss(o){return o in Nr?Nr[o]:Nr[o]="on"+o}function wc(o,m){if(o.da)o=!0;else{m=new ct(m,this);var p=o.listener,T=o.ha||o.src;o.fa&&yi(o),o=p.call(T,m)}return o}function xi(o){return o=o[As],o instanceof sa?o:null}var jr="__closure_events_fn_"+(1e9*Math.random()>>>0);function oo(o){return typeof o=="function"?o:(o[jr]||(o[jr]=function(m){return o.handleEvent(m)}),o[jr])}function nt(){_e.call(this),this.i=new sa(this),this.M=this,this.F=null}$(nt,_e),nt.prototype[un]=!0,nt.prototype.removeEventListener=function(o,m,p,T){Rr(this,o,m,p,T)};function Le(o,m){var p,T=o.F;if(T)for(p=[];T;T=T.F)p.push(T);if(o=o.M,T=m.type||m,typeof m=="string")m=new pe(m,o);else if(m instanceof pe)m.target=m.target||o;else{var k=m;m=new pe(T,o),C(m,k)}if(k=!0,p)for(var q=p.length-1;0<=q;q--){var ne=m.g=p[q];k=Wt(ne,T,!0,m)&&k}if(ne=m.g=o,k=Wt(ne,T,!0,m)&&k,k=Wt(ne,T,!1,m)&&k,p)for(q=0;q<p.length;q++)ne=m.g=p[q],k=Wt(ne,T,!1,m)&&k}nt.prototype.N=function(){if(nt.aa.N.call(this),this.i){var o=this.i,m;for(m in o.g){for(var p=o.g[m],T=0;T<p.length;T++)ka(p[T]);delete o.g[m],o.h--}}this.F=null},nt.prototype.K=function(o,m,p,T){return this.i.add(String(o),m,!1,p,T)},nt.prototype.L=function(o,m,p,T){return this.i.add(String(o),m,!0,p,T)};function Wt(o,m,p,T){if(m=o.i.g[String(m)],!m)return!0;m=m.concat();for(var k=!0,q=0;q<m.length;++q){var ne=m[q];if(ne&&!ne.da&&ne.capture==p){var Ve=ne.listener,vt=ne.ha||ne.src;ne.fa&&ws(o.i,ne),k=Ve.call(vt,T)!==!1&&k}}return k&&!T.defaultPrevented}function Lt(o,m,p){if(typeof o=="function")p&&(o=O(o,p));else if(o&&typeof o.handleEvent=="function")o=O(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(m)?-1:y.setTimeout(o,m||0)}function uo(o){o.g=Lt(()=>{o.g=null,o.i&&(o.i=!1,uo(o))},o.l);const m=o.h;o.h=null,o.m.apply(null,m)}class Ec extends _e{constructor(m,p){super(),this.m=m,this.l=p,this.h=null,this.i=!1,this.g=null}j(m){this.h=arguments,this.g?this.i=!0:uo(this)}N(){super.N(),this.g&&(y.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ns(o){_e.call(this),this.h=o,this.g={}}$(Ns,_e);var Rs=[];function js(o){fe(o.g,function(m,p){this.g.hasOwnProperty(p)&&yi(m)},o),o.g={}}Ns.prototype.N=function(){Ns.aa.N.call(this),js(this)},Ns.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Sn=y.JSON.stringify,vi=y.JSON.parse,Cs=class{stringify(o){return y.JSON.stringify(o,void 0)}parse(o){return y.JSON.parse(o,void 0)}};function Cr(){}Cr.prototype.h=null;function Vr(o){return o.h||(o.h=o.i())}function Dr(){}var ia={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ra(){pe.call(this,"d")}$(ra,pe);function Ir(){pe.call(this,"c")}$(Ir,pe);var In={},Mr=null;function Ua(){return Mr=Mr||new nt}In.La="serverreachability";function bi(o){pe.call(this,In.La,o)}$(bi,pe);function za(o){const m=Ua();Le(m,new bi(m))}In.STAT_EVENT="statevent";function co(o,m){pe.call(this,In.STAT_EVENT,o),this.stat=m}$(co,pe);function Ze(o){const m=Ua();Le(m,new co(m,o))}In.Ma="timingevent";function xt(o,m){pe.call(this,In.Ma,o),this.size=m}$(xt,pe);function ht(o,m){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return y.setTimeout(function(){o()},m)}function hn(){this.g=!0}hn.prototype.xa=function(){this.g=!1};function Or(o,m,p,T,k,q){o.info(function(){if(o.g)if(q)for(var ne="",Ve=q.split("&"),vt=0;vt<Ve.length;vt++){var De=Ve[vt].split("=");if(1<De.length){var St=De[0];De=De[1];var bt=St.split("_");ne=2<=bt.length&&bt[1]=="type"?ne+(St+"="+De+"&"):ne+(St+"=redacted&")}}else ne=null;else ne=q;return"XMLHTTP REQ ("+T+") [attempt "+k+"]: "+m+`
`+p+`
`+ne})}function Ac(o,m,p,T,k,q,ne){o.info(function(){return"XMLHTTP RESP ("+T+") [ attempt "+k+"]: "+m+`
`+p+`
`+q+" "+ne})}function Pa(o,m,p,T){o.info(function(){return"XMLHTTP TEXT ("+m+"): "+Vs(o,p)+(T?" "+T:"")})}function ho(o,m){o.info(function(){return"TIMEOUT: "+m})}hn.prototype.info=function(){};function Vs(o,m){if(!o.g)return m;if(!m)return null;try{var p=JSON.parse(m);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var T=p[o];if(!(2>T.length)){var k=T[1];if(Array.isArray(k)&&!(1>k.length)){var q=k[0];if(q!="noop"&&q!="stop"&&q!="close")for(var ne=1;ne<k.length;ne++)k[ne]=""}}}}return Sn(p)}catch{return m}}var La={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},la={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Mn;function On(){}$(On,Cr),On.prototype.g=function(){return new XMLHttpRequest},On.prototype.i=function(){return{}},Mn=new On;function Qt(o,m,p,T){this.j=o,this.i=m,this.l=p,this.R=T||1,this.U=new Ns(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new rt}function rt(){this.i=null,this.g="",this.h=!1}var kr={},_i={};function Nn(o,m,p){o.L=1,o.v=ks(en(m)),o.m=p,o.P=!0,oa(o,null)}function oa(o,m){o.F=Date.now(),Ds(o),o.A=en(o.v);var p=o.A,T=o.R;Array.isArray(T)||(T=[String(T)]),Br(p.i,"t",T),o.C=0,p=o.j.J,o.h=new rt,o.g=Ro(o.j,p?m:null,!o.m),0<o.O&&(o.M=new Ec(O(o.Y,o,o.g),o.O)),m=o.U,p=o.g,T=o.ca;var k="readystatechange";Array.isArray(k)||(k&&(Rs[0]=k.toString()),k=Rs);for(var q=0;q<k.length;q++){var ne=lo(p,k[q],T||m.handleEvent,!1,m.h||m);if(!ne)break;m.g[ne.key]=ne}m=o.H?E(o.H):{},o.m?(o.u||(o.u="POST"),m["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,m)):(o.u="GET",o.g.ea(o.A,o.u,null,m)),za(),Or(o.i,o.u,o.A,o.l,o.R,o.m)}Qt.prototype.ca=function(o){o=o.target;const m=this.M;m&&gn(o)==3?m.j():this.Y(o)},Qt.prototype.Y=function(o){try{if(o==this.g)e:{const bt=gn(this.g);var m=this.g.Ba();const pa=this.g.Z();if(!(3>bt)&&(bt!=3||this.g&&(this.h.h||this.g.oa()||bo(this.g)))){this.J||bt!=4||m==7||(m==8||0>=pa?za(3):za(2)),qa(this);var p=this.g.Z();this.X=p;t:if(fo(this)){var T=bo(this.g);o="";var k=T.length,q=gn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Dt(this),kn(this);var ne="";break t}this.h.i=new y.TextDecoder}for(m=0;m<k;m++)this.h.h=!0,o+=this.h.i.decode(T[m],{stream:!(q&&m==k-1)});T.length=0,this.h.g+=o,this.C=0,ne=this.h.g}else ne=this.g.oa();if(this.o=p==200,Ac(this.i,this.u,this.A,this.l,this.R,bt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Ve,vt=this.g;if((Ve=vt.g?vt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!le(Ve)){var De=Ve;break t}}De=null}if(p=De)Pa(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Is(this,p);else{this.o=!1,this.s=3,Ze(12),Dt(this),kn(this);break e}}if(this.P){p=!0;let It;for(;!this.J&&this.C<ne.length;)if(It=mo(this,ne),It==_i){bt==4&&(this.s=4,Ze(14),p=!1),Pa(this.i,this.l,null,"[Incomplete Response]");break}else if(It==kr){this.s=4,Ze(15),Pa(this.i,this.l,ne,"[Invalid Chunk]"),p=!1;break}else Pa(this.i,this.l,It,null),Is(this,It);if(fo(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),bt!=4||ne.length!=0||this.h.h||(this.s=1,Ze(16),p=!1),this.o=this.o&&p,!p)Pa(this.i,this.l,ne,"[Invalid Chunked Response]"),Dt(this),kn(this);else if(0<ne.length&&!this.W){this.W=!0;var St=this.j;St.g==this&&St.ba&&!St.M&&(St.j.info("Great, no buffering proxy detected. Bytes received: "+ne.length),Hs(St),St.M=!0,Ze(11))}}else Pa(this.i,this.l,ne,null),Is(this,ne);bt==4&&Dt(this),this.o&&!this.J&&(bt==4?Ao(this.j,this):(this.o=!1,Ds(this)))}else Cc(this.g),p==400&&0<ne.indexOf("Unknown SID")?(this.s=3,Ze(12)):(this.s=0,Ze(13)),Dt(this),kn(this)}}}catch{}finally{}};function fo(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function mo(o,m){var p=o.C,T=m.indexOf(`
`,p);return T==-1?_i:(p=Number(m.substring(p,T)),isNaN(p)?kr:(T+=1,T+p>m.length?_i:(m=m.slice(T,T+p),o.C=T+p,m)))}Qt.prototype.cancel=function(){this.J=!0,Dt(this)};function Ds(o){o.S=Date.now()+o.I,go(o,o.I)}function go(o,m){if(o.B!=null)throw Error("WatchDog timer not null");o.B=ht(O(o.ba,o),m)}function qa(o){o.B&&(y.clearTimeout(o.B),o.B=null)}Qt.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(ho(this.i,this.A),this.L!=2&&(za(),Ze(17)),Dt(this),this.s=2,kn(this)):go(this,this.S-o)};function kn(o){o.j.G==0||o.J||Ao(o.j,o)}function Dt(o){qa(o);var m=o.M;m&&typeof m.ma=="function"&&m.ma(),o.M=null,js(o.U),o.g&&(m=o.g,o.g=null,m.abort(),m.ma())}function Is(o,m){try{var p=o.j;if(p.G!=0&&(p.g==o||Ur(p.h,o))){if(!o.K&&Ur(p.h,o)&&p.G==3){try{var T=p.Da.g.parse(m)}catch{T=null}if(Array.isArray(T)&&T.length==3){var k=T;if(k[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Ii(p),Vi(p);else break e;Yr(p),Ze(18)}}else p.za=k[1],0<p.za-p.T&&37500>k[2]&&p.F&&p.v==0&&!p.C&&(p.C=ht(O(p.Za,p),6e3));if(1>=wi(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else ga(p,11)}else if((o.K||p.g==o)&&Ii(p),!le(m))for(k=p.Da.g.parse(m),m=0;m<k.length;m++){let De=k[m];if(p.T=De[0],De=De[1],p.G==2)if(De[0]=="c"){p.K=De[1],p.ia=De[2];const St=De[3];St!=null&&(p.la=St,p.j.info("VER="+p.la));const bt=De[4];bt!=null&&(p.Aa=bt,p.j.info("SVER="+p.Aa));const pa=De[5];pa!=null&&typeof pa=="number"&&0<pa&&(T=1.5*pa,p.L=T,p.j.info("backChannelRequestTimeoutMs_="+T)),T=p;const It=o.g;if(It){const Gn=It.g?It.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Gn){var q=T.h;q.g||Gn.indexOf("spdy")==-1&&Gn.indexOf("quic")==-1&&Gn.indexOf("h2")==-1||(q.j=q.l,q.g=new Set,q.h&&(Ei(q,q.h),q.h=null))}if(T.D){const Xr=It.g?It.g.getResponseHeader("X-HTTP-Session-Id"):null;Xr&&(T.ya=Xr,Ge(T.I,T.D,Xr))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),T=p;var ne=o;if(T.qa=No(T,T.J?T.ia:null,T.W),ne.K){Ft(T.h,ne);var Ve=ne,vt=T.L;vt&&(Ve.I=vt),Ve.B&&(qa(Ve),Ds(Ve)),T.g=ne}else wo(T);0<p.i.length&&Di(p)}else De[0]!="stop"&&De[0]!="close"||ga(p,7);else p.G==3&&(De[0]=="stop"||De[0]=="close"?De[0]=="stop"?ga(p,7):Qr(p):De[0]!="noop"&&p.l&&p.l.ta(De),p.v=0)}}za(4)}catch{}}var po=class{constructor(o,m){this.g=o,this.map=m}};function ua(o){this.l=o||10,y.PerformanceNavigationTiming?(o=y.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(y.chrome&&y.chrome.loadTimes&&y.chrome.loadTimes()&&y.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ti(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function wi(o){return o.h?1:o.g?o.g.size:0}function Ur(o,m){return o.h?o.h==m:o.g?o.g.has(m):!1}function Ei(o,m){o.g?o.g.add(m):o.h=m}function Ft(o,m){o.h&&o.h==m?o.h=null:o.g&&o.g.has(m)&&o.g.delete(m)}ua.prototype.cancel=function(){if(this.i=zr(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function zr(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let m=o.i;for(const p of o.g.values())m=m.concat(p.D);return m}return F(o.i)}function Sc(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(_(o)){for(var m=[],p=o.length,T=0;T<p;T++)m.push(o[T]);return m}m=[],p=0;for(T in o)m[p++]=o[T];return m}function Ai(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(_(o)||typeof o=="string"){var m=[];o=o.length;for(var p=0;p<o;p++)m.push(p);return m}m=[],p=0;for(const T in o)m[p++]=T;return m}}}function Pr(o,m){if(o.forEach&&typeof o.forEach=="function")o.forEach(m,void 0);else if(_(o)||typeof o=="string")Array.prototype.forEach.call(o,m,void 0);else for(var p=Ai(o),T=Sc(o),k=T.length,q=0;q<k;q++)m.call(void 0,T[q],p&&p[q],o)}var Ms=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nc(o,m){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var T=o[p].indexOf("="),k=null;if(0<=T){var q=o[p].substring(0,T);k=o[p].substring(T+1)}else q=o[p];m(q,k?decodeURIComponent(k.replace(/\+/g," ")):"")}}}function dt(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof dt){this.h=o.h,Os(this,o.j),this.o=o.o,this.g=o.g,Ba(this,o.s),this.l=o.l;var m=o.i,p=new ha;p.i=m.i,m.g&&(p.g=new Map(m.g),p.h=m.h),ca(this,p),this.m=o.m}else o&&(m=String(o).match(Ms))?(this.h=!1,Os(this,m[1]||"",!0),this.o=dn(m[2]||""),this.g=dn(m[3]||"",!0),Ba(this,m[4]),this.l=dn(m[5]||"",!0),ca(this,m[6]||"",!0),this.m=dn(m[7]||"")):(this.h=!1,this.i=new ha(null,this.h))}dt.prototype.toString=function(){var o=[],m=this.j;m&&o.push(Us(m,Lr,!0),":");var p=this.g;return(p||m=="file")&&(o.push("//"),(m=this.o)&&o.push(Us(m,Lr,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Us(p,p.charAt(0)=="/"?Rc:qr,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Us(p,Si)),o.join("")};function en(o){return new dt(o)}function Os(o,m,p){o.j=p?dn(m,!0):m,o.j&&(o.j=o.j.replace(/:$/,""))}function Ba(o,m){if(m){if(m=Number(m),isNaN(m)||0>m)throw Error("Bad port number "+m);o.s=m}else o.s=null}function ca(o,m,p){m instanceof ha?(o.i=m,xo(o.i,o.h)):(p||(m=Us(m,jc)),o.i=new ha(m,o.h))}function Ge(o,m,p){o.i.set(m,p)}function ks(o){return Ge(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function dn(o,m){return o?m?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Us(o,m,p){return typeof o=="string"?(o=encodeURI(o).replace(m,yo),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function yo(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Lr=/[#\/\?@]/g,qr=/[#\?:]/g,Rc=/[#\?]/g,jc=/[#\?@]/g,Si=/#/g;function ha(o,m){this.h=this.g=null,this.i=o||null,this.j=!!m}function fn(o){o.g||(o.g=new Map,o.h=0,o.i&&Nc(o.i,function(m,p){o.add(decodeURIComponent(m.replace(/\+/g," ")),p)}))}l=ha.prototype,l.add=function(o,m){fn(this),this.i=null,o=Un(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(m),this.h+=1,this};function da(o,m){fn(o),m=Un(o,m),o.g.has(m)&&(o.i=null,o.h-=o.g.get(m).length,o.g.delete(m))}function fa(o,m){return fn(o),m=Un(o,m),o.g.has(m)}l.forEach=function(o,m){fn(this),this.g.forEach(function(p,T){p.forEach(function(k){o.call(m,k,T,this)},this)},this)},l.na=function(){fn(this);const o=Array.from(this.g.values()),m=Array.from(this.g.keys()),p=[];for(let T=0;T<m.length;T++){const k=o[T];for(let q=0;q<k.length;q++)p.push(m[T])}return p},l.V=function(o){fn(this);let m=[];if(typeof o=="string")fa(this,o)&&(m=m.concat(this.g.get(Un(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)m=m.concat(o[p])}return m},l.set=function(o,m){return fn(this),this.i=null,o=Un(this,o),fa(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[m]),this.h+=1,this},l.get=function(o,m){return o?(o=this.V(o),0<o.length?String(o[0]):m):m};function Br(o,m,p){da(o,m),0<p.length&&(o.i=null,o.g.set(Un(o,m),F(p)),o.h+=p.length)}l.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],m=Array.from(this.g.keys());for(var p=0;p<m.length;p++){var T=m[p];const q=encodeURIComponent(String(T)),ne=this.V(T);for(T=0;T<ne.length;T++){var k=q;ne[T]!==""&&(k+="="+encodeURIComponent(String(ne[T]))),o.push(k)}}return this.i=o.join("&")};function Un(o,m){return m=String(m),o.j&&(m=m.toLowerCase()),m}function xo(o,m){m&&!o.j&&(fn(o),o.i=null,o.g.forEach(function(p,T){var k=T.toLowerCase();T!=k&&(da(this,T),Br(this,k,p))},o)),o.j=m}function zs(o,m){const p=new hn;if(y.Image){const T=new Image;T.onload=G(mn,p,"TestLoadImage: loaded",!0,m,T),T.onerror=G(mn,p,"TestLoadImage: error",!1,m,T),T.onabort=G(mn,p,"TestLoadImage: abort",!1,m,T),T.ontimeout=G(mn,p,"TestLoadImage: timeout",!1,m,T),y.setTimeout(function(){T.ontimeout&&T.ontimeout()},1e4),T.src=o}else m(!1)}function Rn(o,m){const p=new hn,T=new AbortController,k=setTimeout(()=>{T.abort(),mn(p,"TestPingServer: timeout",!1,m)},1e4);fetch(o,{signal:T.signal}).then(q=>{clearTimeout(k),q.ok?mn(p,"TestPingServer: ok",!0,m):mn(p,"TestPingServer: server error",!1,m)}).catch(()=>{clearTimeout(k),mn(p,"TestPingServer: error",!1,m)})}function mn(o,m,p,T,k){try{k&&(k.onload=null,k.onerror=null,k.onabort=null,k.ontimeout=null),T(p)}catch{}}function Ps(){this.g=new Cs}function zn(o,m,p){const T=p||"";try{Pr(o,function(k,q){let ne=k;b(k)&&(ne=Sn(k)),m.push(T+q+"="+encodeURIComponent(ne))})}catch(k){throw m.push(T+"type="+encodeURIComponent("_badmap")),k}}function Ga(o){this.l=o.Ub||null,this.j=o.eb||!1}$(Ga,Cr),Ga.prototype.g=function(){return new ma(this.l,this.j)},Ga.prototype.i=function(o){return function(){return o}}({});function ma(o,m){nt.call(this),this.D=o,this.o=m,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}$(ma,nt),l=ma.prototype,l.open=function(o,m){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=m,this.readyState=1,Ln(this)},l.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const m={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(m.body=o),(this.D||y).fetch(new Request(this.A,m)).then(this.Sa.bind(this),this.ga.bind(this))},l.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Pn(this)),this.readyState=0},l.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Ln(this)),this.g&&(this.readyState=3,Ln(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof y.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Gr(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Gr(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}l.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var m=o.value?o.value:new Uint8Array(0);(m=this.v.decode(m,{stream:!o.done}))&&(this.response=this.responseText+=m)}o.done?Pn(this):Ln(this),this.readyState==3&&Gr(this)}},l.Ra=function(o){this.g&&(this.response=this.responseText=o,Pn(this))},l.Qa=function(o){this.g&&(this.response=o,Pn(this))},l.ga=function(){this.g&&Pn(this)};function Pn(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Ln(o)}l.setRequestHeader=function(o,m){this.u.append(o,m)},l.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},l.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],m=this.h.entries();for(var p=m.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=m.next();return o.join(`\r
`)};function Ln(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Hr(o){let m="";return fe(o,function(p,T){m+=T,m+=":",m+=p,m+=`\r
`}),m}function At(o,m,p){e:{for(T in p){var T=!1;break e}T=!0}T||(p=Hr(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):Ge(o,m,p))}function Ue(o){nt.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}$(Ue,nt);var Ni=/^https?$/i,Ls=["POST","PUT"];l=Ue.prototype,l.Ha=function(o){this.J=o},l.ea=function(o,m,p,T){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);m=m?m.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Mn.g(),this.v=this.o?Vr(this.o):Vr(Mn),this.g.onreadystatechange=O(this.Ea,this);try{this.B=!0,this.g.open(m,String(o),!0),this.B=!1}catch(q){vo(this,q);return}if(o=p||"",p=new Map(this.headers),T)if(Object.getPrototypeOf(T)===Object.prototype)for(var k in T)p.set(k,T[k]);else if(typeof T.keys=="function"&&typeof T.get=="function")for(const q of T.keys())p.set(q,T.get(q));else throw Error("Unknown input type for opt_headers: "+String(T));T=Array.from(p.keys()).find(q=>q.toLowerCase()=="content-type"),k=y.FormData&&o instanceof y.FormData,!(0<=Array.prototype.indexOf.call(Ls,m,void 0))||T||k||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[q,ne]of p)this.g.setRequestHeader(q,ne);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{qs(this),this.u=!0,this.g.send(o),this.u=!1}catch(q){vo(this,q)}};function vo(o,m){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=m,o.m=5,Ri(o),qn(o)}function Ri(o){o.A||(o.A=!0,Le(o,"complete"),Le(o,"error"))}l.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Le(this,"complete"),Le(this,"abort"),qn(this))},l.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),qn(this,!0)),Ue.aa.N.call(this)},l.Ea=function(){this.s||(this.B||this.u||this.j?ji(this):this.bb())},l.bb=function(){ji(this)};function ji(o){if(o.h&&typeof g<"u"&&(!o.v[1]||gn(o)!=4||o.Z()!=2)){if(o.u&&gn(o)==4)Lt(o.Ea,0,o);else if(Le(o,"readystatechange"),gn(o)==4){o.h=!1;try{const ne=o.Z();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var m=!0;break e;default:m=!1}var p;if(!(p=m)){var T;if(T=ne===0){var k=String(o.D).match(Ms)[1]||null;!k&&y.self&&y.self.location&&(k=y.self.location.protocol.slice(0,-1)),T=!Ni.test(k?k.toLowerCase():"")}p=T}if(p)Le(o,"complete"),Le(o,"success");else{o.m=6;try{var q=2<gn(o)?o.g.statusText:""}catch{q=""}o.l=q+" ["+o.Z()+"]",Ri(o)}}finally{qn(o)}}}}function qn(o,m){if(o.g){qs(o);const p=o.g,T=o.v[0]?()=>{}:null;o.g=null,o.v=null,m||Le(o,"ready");try{p.onreadystatechange=T}catch{}}}function qs(o){o.I&&(y.clearTimeout(o.I),o.I=null)}l.isActive=function(){return!!this.g};function gn(o){return o.g?o.g.readyState:0}l.Z=function(){try{return 2<gn(this)?this.g.status:-1}catch{return-1}},l.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},l.Oa=function(o){if(this.g){var m=this.g.responseText;return o&&m.indexOf(o)==0&&(m=m.substring(o.length)),vi(m)}};function bo(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function Cc(o){const m={};o=(o.g&&2<=gn(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let T=0;T<o.length;T++){if(le(o[T]))continue;var p=D(o[T]);const k=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const q=m[k]||[];m[k]=q,q.push(p)}V(m,function(T){return T.join(", ")})}l.Ba=function(){return this.m},l.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Bs(o,m,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||m}function Ci(o){this.Aa=0,this.i=[],this.j=new hn,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Bs("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Bs("baseRetryDelayMs",5e3,o),this.cb=Bs("retryDelaySeedMs",1e4,o),this.Wa=Bs("forwardChannelMaxRetries",2,o),this.wa=Bs("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new ua(o&&o.concurrentRequestLimit),this.Da=new Ps,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}l=Ci.prototype,l.la=8,l.G=1,l.connect=function(o,m,p,T){Ze(0),this.W=o,this.H=m||{},p&&T!==void 0&&(this.H.OSID=p,this.H.OAID=T),this.F=this.X,this.I=No(this,null,this.W),Di(this)};function Qr(o){if(_o(o),o.G==3){var m=o.U++,p=en(o.I);if(Ge(p,"SID",o.K),Ge(p,"RID",m),Ge(p,"TYPE","terminate"),Gs(o,p),m=new Qt(o,o.j,m),m.L=2,m.v=ks(en(p)),p=!1,y.navigator&&y.navigator.sendBeacon)try{p=y.navigator.sendBeacon(m.v.toString(),"")}catch{}!p&&y.Image&&(new Image().src=m.v,p=!0),p||(m.g=Ro(m.j,null),m.g.ea(m.v)),m.F=Date.now(),Ds(m)}So(o)}function Vi(o){o.g&&(Hs(o),o.g.cancel(),o.g=null)}function _o(o){Vi(o),o.u&&(y.clearTimeout(o.u),o.u=null),Ii(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&y.clearTimeout(o.s),o.s=null)}function Di(o){if(!Ti(o.h)&&!o.s){o.s=!0;var m=o.Ga;J||he(),B||(J(),B=!0),ae.add(m,o),o.B=0}}function Vc(o,m){return wi(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=m.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=ht(O(o.Ga,o,m),Kr(o,o.B)),o.B++,!0)}l.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const k=new Qt(this,this.j,o);let q=this.o;if(this.S&&(q?(q=E(q),C(q,this.S)):q=this.S),this.m!==null||this.O||(k.H=q,q=null),this.P)e:{for(var m=0,p=0;p<this.i.length;p++){t:{var T=this.i[p];if("__data__"in T.map&&(T=T.map.__data__,typeof T=="string")){T=T.length;break t}T=void 0}if(T===void 0)break;if(m+=T,4096<m){m=p;break e}if(m===4096||p===this.i.length-1){m=p+1;break e}}m=1e3}else m=1e3;m=To(this,k,m),p=en(this.I),Ge(p,"RID",o),Ge(p,"CVER",22),this.D&&Ge(p,"X-HTTP-Session-Id",this.D),Gs(this,p),q&&(this.O?m="headers="+encodeURIComponent(String(Hr(q)))+"&"+m:this.m&&At(p,this.m,q)),Ei(this.h,k),this.Ua&&Ge(p,"TYPE","init"),this.P?(Ge(p,"$req",m),Ge(p,"SID","null"),k.T=!0,Nn(k,p,null)):Nn(k,p,m),this.G=2}}else this.G==3&&(o?Fr(this,o):this.i.length==0||Ti(this.h)||Fr(this))};function Fr(o,m){var p;m?p=m.l:p=o.U++;const T=en(o.I);Ge(T,"SID",o.K),Ge(T,"RID",p),Ge(T,"AID",o.T),Gs(o,T),o.m&&o.o&&At(T,o.m,o.o),p=new Qt(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),m&&(o.i=m.D.concat(o.i)),m=To(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),Ei(o.h,p),Nn(p,T,m)}function Gs(o,m){o.H&&fe(o.H,function(p,T){Ge(m,T,p)}),o.l&&Pr({},function(p,T){Ge(m,T,p)})}function To(o,m,p){p=Math.min(o.i.length,p);var T=o.l?O(o.l.Na,o.l,o):null;e:{var k=o.i;let q=-1;for(;;){const ne=["count="+p];q==-1?0<p?(q=k[0].g,ne.push("ofs="+q)):q=0:ne.push("ofs="+q);let Ve=!0;for(let vt=0;vt<p;vt++){let De=k[vt].g;const St=k[vt].map;if(De-=q,0>De)q=Math.max(0,k[vt].g-100),Ve=!1;else try{zn(St,ne,"req"+De+"_")}catch{T&&T(St)}}if(Ve){T=ne.join("&");break e}}}return o=o.i.splice(0,p),m.D=o,T}function wo(o){if(!o.g&&!o.u){o.Y=1;var m=o.Fa;J||he(),B||(J(),B=!0),ae.add(m,o),o.v=0}}function Yr(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=ht(O(o.Fa,o),Kr(o,o.v)),o.v++,!0)}l.Fa=function(){if(this.u=null,Eo(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=ht(O(this.ab,this),o)}},l.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,Ze(10),Vi(this),Eo(this))};function Hs(o){o.A!=null&&(y.clearTimeout(o.A),o.A=null)}function Eo(o){o.g=new Qt(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var m=en(o.qa);Ge(m,"RID","rpc"),Ge(m,"SID",o.K),Ge(m,"AID",o.T),Ge(m,"CI",o.F?"0":"1"),!o.F&&o.ja&&Ge(m,"TO",o.ja),Ge(m,"TYPE","xmlhttp"),Gs(o,m),o.m&&o.o&&At(m,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=ks(en(m)),p.m=null,p.P=!0,oa(p,o)}l.Za=function(){this.C!=null&&(this.C=null,Vi(this),Yr(this),Ze(19))};function Ii(o){o.C!=null&&(y.clearTimeout(o.C),o.C=null)}function Ao(o,m){var p=null;if(o.g==m){Ii(o),Hs(o),o.g=null;var T=2}else if(Ur(o.h,m))p=m.D,Ft(o.h,m),T=1;else return;if(o.G!=0){if(m.o)if(T==1){p=m.m?m.m.length:0,m=Date.now()-m.F;var k=o.B;T=Ua(),Le(T,new xt(T,p)),Di(o)}else wo(o);else if(k=m.s,k==3||k==0&&0<m.X||!(T==1&&Vc(o,m)||T==2&&Yr(o)))switch(p&&0<p.length&&(m=o.h,m.i=m.i.concat(p)),k){case 1:ga(o,5);break;case 4:ga(o,10);break;case 3:ga(o,6);break;default:ga(o,2)}}}function Kr(o,m){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*m}function ga(o,m){if(o.j.info("Error code "+m),m==2){var p=O(o.fb,o),T=o.Xa;const k=!T;T=new dt(T||"//www.google.com/images/cleardot.gif"),y.location&&y.location.protocol=="http"||Os(T,"https"),ks(T),k?zs(T.toString(),p):Rn(T.toString(),p)}else Ze(2);o.G=0,o.l&&o.l.sa(m),So(o),_o(o)}l.fb=function(o){o?(this.j.info("Successfully pinged google.com"),Ze(2)):(this.j.info("Failed to ping google.com"),Ze(1))};function So(o){if(o.G=0,o.ka=[],o.l){const m=zr(o.h);(m.length!=0||o.i.length!=0)&&(K(o.ka,m),K(o.ka,o.i),o.h.i.length=0,F(o.i),o.i.length=0),o.l.ra()}}function No(o,m,p){var T=p instanceof dt?en(p):new dt(p);if(T.g!="")m&&(T.g=m+"."+T.g),Ba(T,T.s);else{var k=y.location;T=k.protocol,m=m?m+"."+k.hostname:k.hostname,k=+k.port;var q=new dt(null);T&&Os(q,T),m&&(q.g=m),k&&Ba(q,k),p&&(q.l=p),T=q}return p=o.D,m=o.ya,p&&m&&Ge(T,p,m),Ge(T,"VER",o.la),Gs(o,T),T}function Ro(o,m,p){if(m&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return m=o.Ca&&!o.pa?new Ue(new Ga({eb:p})):new Ue(o.pa),m.Ha(o.J),m}l.isActive=function(){return!!this.l&&this.l.isActive(this)};function jo(){}l=jo.prototype,l.ua=function(){},l.ta=function(){},l.sa=function(){},l.ra=function(){},l.isActive=function(){return!0},l.Na=function(){};function Mi(){}Mi.prototype.g=function(o,m){return new Yt(o,m)};function Yt(o,m){nt.call(this),this.g=new Ci(m),this.l=o,this.h=m&&m.messageUrlParams||null,o=m&&m.messageHeaders||null,m&&m.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=m&&m.initMessageHeaders||null,m&&m.messageContentType&&(o?o["X-WebChannel-Content-Type"]=m.messageContentType:o={"X-WebChannel-Content-Type":m.messageContentType}),m&&m.va&&(o?o["X-WebChannel-Client-Profile"]=m.va:o={"X-WebChannel-Client-Profile":m.va}),this.g.S=o,(o=m&&m.Sb)&&!le(o)&&(this.g.m=o),this.v=m&&m.supportsCrossDomainXhr||!1,this.u=m&&m.sendRawJson||!1,(m=m&&m.httpSessionIdParam)&&!le(m)&&(this.g.D=m,o=this.h,o!==null&&m in o&&(o=this.h,m in o&&delete o[m])),this.j=new Bn(this)}$(Yt,nt),Yt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Yt.prototype.close=function(){Qr(this.g)},Yt.prototype.o=function(o){var m=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=Sn(o),o=p);m.i.push(new po(m.Ya++,o)),m.G==3&&Di(m)},Yt.prototype.N=function(){this.g.l=null,delete this.j,Qr(this.g),delete this.g,Yt.aa.N.call(this)};function Co(o){ra.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var m=o.__sm__;if(m){e:{for(const p in m){o=p;break e}o=void 0}(this.i=o)&&(o=this.i,m=m!==null&&o in m?m[o]:void 0),this.data=m}else this.data=o}$(Co,ra);function Vo(){Ir.call(this),this.status=1}$(Vo,Ir);function Bn(o){this.g=o}$(Bn,jo),Bn.prototype.ua=function(){Le(this.g,"a")},Bn.prototype.ta=function(o){Le(this.g,new Co(o))},Bn.prototype.sa=function(o){Le(this.g,new Vo)},Bn.prototype.ra=function(){Le(this.g,"b")},Mi.prototype.createWebChannel=Mi.prototype.g,Yt.prototype.send=Yt.prototype.o,Yt.prototype.open=Yt.prototype.m,Yt.prototype.close=Yt.prototype.close,cy=function(){return new Mi},uy=function(){return Ua()},oy=In,Ud={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},La.NO_ERROR=0,La.TIMEOUT=8,La.HTTP_ERROR=6,Bu=La,la.COMPLETE="complete",ly=la,Dr.EventType=ia,ia.OPEN="a",ia.CLOSE="b",ia.ERROR="c",ia.MESSAGE="d",nt.prototype.listen=nt.prototype.K,zl=Dr,Ue.prototype.listenOnce=Ue.prototype.L,Ue.prototype.getLastError=Ue.prototype.Ka,Ue.prototype.getLastErrorCode=Ue.prototype.Ba,Ue.prototype.getStatus=Ue.prototype.Z,Ue.prototype.getResponseJson=Ue.prototype.Oa,Ue.prototype.getResponseText=Ue.prototype.oa,Ue.prototype.send=Ue.prototype.ea,Ue.prototype.setWithCredentials=Ue.prototype.Ha,ry=Ue}).apply(typeof Iu<"u"?Iu:typeof self<"u"?self:typeof window<"u"?window:{});const n0="@firebase/firestore",a0="4.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(n){this.uid=n}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(n){return n.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wr="12.0.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ui=new Sb("@firebase/firestore");function ur(){return ui.logLevel}function ie(l,...n){if(ui.logLevel<=Ca.DEBUG){const s=n.map(ef);ui.debug(`Firestore (${wr}): ${l}`,...s)}}function Da(l,...n){if(ui.logLevel<=Ca.ERROR){const s=n.map(ef);ui.error(`Firestore (${wr}): ${l}`,...s)}}function yr(l,...n){if(ui.logLevel<=Ca.WARN){const s=n.map(ef);ui.warn(`Firestore (${wr}): ${l}`,...s)}}function ef(l){if(typeof l=="string")return l;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(s){return JSON.stringify(s)}(l)}catch{return l}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ye(l,n,s){let i="Unexpected state";typeof n=="string"?i=n:s=n,hy(l,i,s)}function hy(l,n,s){let i=`FIRESTORE (${wr}) INTERNAL ASSERTION FAILED: ${n} (ID: ${l.toString(16)})`;if(s!==void 0)try{i+=" CONTEXT: "+JSON.stringify(s)}catch{i+=" CONTEXT: "+s}throw Da(i),new Error(i)}function ze(l,n,s,i){let u="Unexpected state";typeof s=="string"?u=s:i=s,l||hy(n,u,i)}function we(l,n){return l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ce extends Cb{constructor(n,s){super(n,s),this.code=n,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ms{constructor(){this.promise=new Promise((n,s)=>{this.resolve=n,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(n,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${n}`)}}class l_{getToken(){return Promise.resolve(null)}invalidateToken(){}start(n,s){n.enqueueRetryable(()=>s(Gt.UNAUTHENTICATED))}shutdown(){}}class o_{constructor(n){this.token=n,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(n,s){this.changeListener=s,n.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class u_{constructor(n){this.t=n,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(n,s){ze(this.o===void 0,42304);let i=this.i;const u=_=>this.i!==i?(i=this.i,s(_)):Promise.resolve();let h=new ms;this.o=()=>{this.i++,this.currentUser=this.u(),h.resolve(),h=new ms,n.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const _=h;n.enqueueRetryable(async()=>{await _.promise,await u(this.currentUser)})},y=_=>{ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=_,this.o&&(this.auth.addAuthTokenListener(this.o),g())};this.t.onInit(_=>y(_)),setTimeout(()=>{if(!this.auth){const _=this.t.getImmediate({optional:!0});_?y(_):(ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),h.resolve(),h=new ms)}},0),g()}getToken(){const n=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(i=>this.i!==n?(ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):i?(ze(typeof i.accessToken=="string",31837,{l:i}),new dy(i.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const n=this.auth&&this.auth.getUid();return ze(n===null||typeof n=="string",2055,{h:n}),new Gt(n)}}class c_{constructor(n,s,i){this.P=n,this.T=s,this.I=i,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const n=this.R();return n&&this.A.set("Authorization",n),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class h_{constructor(n,s,i){this.P=n,this.T=s,this.I=i}getToken(){return Promise.resolve(new c_(this.P,this.T,this.I))}start(n,s){n.enqueueRetryable(()=>s(Gt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class s0{constructor(n){this.value=n,this.type="AppCheck",this.headers=new Map,n&&n.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class d_{constructor(n,s){this.V=s,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,jb(n)&&n.settings.appCheckToken&&(this.p=n.settings.appCheckToken)}start(n,s){ze(this.o===void 0,3512);const i=h=>{h.error!=null&&ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${h.error.message}`);const g=h.token!==this.m;return this.m=h.token,ie("FirebaseAppCheckTokenProvider",`Received ${g?"new":"existing"} token.`),g?s(h.token):Promise.resolve()};this.o=h=>{n.enqueueRetryable(()=>i(h))};const u=h=>{ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=h,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(h=>u(h)),setTimeout(()=>{if(!this.appCheck){const h=this.V.getImmediate({optional:!0});h?u(h):ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new s0(this.p));const n=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(n).then(s=>s?(ze(typeof s.token=="string",44558,{tokenResult:s}),this.m=s.token,new s0(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function f_(l){const n=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(l);if(n&&typeof n.getRandomValues=="function")n.getRandomValues(s);else for(let i=0;i<l;i++)s[i]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{static newId(){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=62*Math.floor(4.129032258064516);let i="";for(;i.length<20;){const u=f_(40);for(let h=0;h<u.length;++h)i.length<20&&u[h]<s&&(i+=n.charAt(u[h]%62))}return i}}function je(l,n){return l<n?-1:l>n?1:0}function zd(l,n){const s=Math.min(l.length,n.length);for(let i=0;i<s;i++){const u=l.charAt(i),h=n.charAt(i);if(u!==h)return Rd(u)===Rd(h)?je(u,h):Rd(u)?1:-1}return je(l.length,n.length)}const m_=55296,g_=57343;function Rd(l){const n=l.charCodeAt(0);return n>=m_&&n<=g_}function xr(l,n,s){return l.length===n.length&&l.every((i,u)=>s(i,n[u]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i0="__name__";class Xn{constructor(n,s,i){s===void 0?s=0:s>n.length&&ye(637,{offset:s,range:n.length}),i===void 0?i=n.length-s:i>n.length-s&&ye(1746,{length:i,range:n.length-s}),this.segments=n,this.offset=s,this.len=i}get length(){return this.len}isEqual(n){return Xn.comparator(this,n)===0}child(n){const s=this.segments.slice(this.offset,this.limit());return n instanceof Xn?n.forEach(i=>{s.push(i)}):s.push(n),this.construct(s)}limit(){return this.offset+this.length}popFirst(n){return n=n===void 0?1:n,this.construct(this.segments,this.offset+n,this.length-n)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(n){return this.segments[this.offset+n]}isEmpty(){return this.length===0}isPrefixOf(n){if(n.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==n.get(s))return!1;return!0}isImmediateParentOf(n){if(this.length+1!==n.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==n.get(s))return!1;return!0}forEach(n){for(let s=this.offset,i=this.limit();s<i;s++)n(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(n,s){const i=Math.min(n.length,s.length);for(let u=0;u<i;u++){const h=Xn.compareSegments(n.get(u),s.get(u));if(h!==0)return h}return je(n.length,s.length)}static compareSegments(n,s){const i=Xn.isNumericId(n),u=Xn.isNumericId(s);return i&&!u?-1:!i&&u?1:i&&u?Xn.extractNumericId(n).compare(Xn.extractNumericId(s)):zd(n,s)}static isNumericId(n){return n.startsWith("__id")&&n.endsWith("__")}static extractNumericId(n){return fs.fromString(n.substring(4,n.length-2))}}class et extends Xn{construct(n,s,i){return new et(n,s,i)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...n){const s=[];for(const i of n){if(i.indexOf("//")>=0)throw new ce(W.INVALID_ARGUMENT,`Invalid segment (${i}). Paths must not contain // in them.`);s.push(...i.split("/").filter(u=>u.length>0))}return new et(s)}static emptyPath(){return new et([])}}const p_=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class zt extends Xn{construct(n,s,i){return new zt(n,s,i)}static isValidIdentifier(n){return p_.test(n)}canonicalString(){return this.toArray().map(n=>(n=n.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),zt.isValidIdentifier(n)||(n="`"+n+"`"),n)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===i0}static keyField(){return new zt([i0])}static fromServerFormat(n){const s=[];let i="",u=0;const h=()=>{if(i.length===0)throw new ce(W.INVALID_ARGUMENT,`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(i),i=""};let g=!1;for(;u<n.length;){const y=n[u];if(y==="\\"){if(u+1===n.length)throw new ce(W.INVALID_ARGUMENT,"Path has trailing escape character: "+n);const _=n[u+1];if(_!=="\\"&&_!=="."&&_!=="`")throw new ce(W.INVALID_ARGUMENT,"Path has invalid escape sequence: "+n);i+=_,u+=2}else y==="`"?(g=!g,u++):y!=="."||g?(i+=y,u++):(h(),u++)}if(h(),g)throw new ce(W.INVALID_ARGUMENT,"Unterminated ` in path: "+n);return new zt(s)}static emptyPath(){return new zt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class de{constructor(n){this.path=n}static fromPath(n){return new de(et.fromString(n))}static fromName(n){return new de(et.fromString(n).popFirst(5))}static empty(){return new de(et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(n){return this.path.length>=2&&this.path.get(this.path.length-2)===n}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(n){return n!==null&&et.comparator(this.path,n.path)===0}toString(){return this.path.toString()}static comparator(n,s){return et.comparator(n.path,s.path)}static isDocumentKey(n){return n.length%2==0}static fromSegments(n){return new de(new et(n.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function y_(l,n,s){if(!s)throw new ce(W.INVALID_ARGUMENT,`Function ${l}() cannot be called with an empty ${n}.`)}function x_(l,n,s,i){if(n===!0&&i===!0)throw new ce(W.INVALID_ARGUMENT,`${l} and ${s} cannot be used together.`)}function r0(l){if(!de.isDocumentKey(l))throw new ce(W.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${l} has ${l.length}.`)}function fy(l){return typeof l=="object"&&l!==null&&(Object.getPrototypeOf(l)===Object.prototype||Object.getPrototypeOf(l)===null)}function nf(l){if(l===void 0)return"undefined";if(l===null)return"null";if(typeof l=="string")return l.length>20&&(l=`${l.substring(0,20)}...`),JSON.stringify(l);if(typeof l=="number"||typeof l=="boolean")return""+l;if(typeof l=="object"){if(l instanceof Array)return"an array";{const n=function(i){return i.constructor?i.constructor.name:null}(l);return n?`a custom ${n} object`:"an object"}}return typeof l=="function"?"a function":ye(12329,{type:typeof l})}function Kl(l,n){if("_delegate"in l&&(l=l._delegate),!(l instanceof n)){if(n.name===l.constructor.name)throw new ce(W.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=nf(l);throw new ce(W.INVALID_ARGUMENT,`Expected type '${n.name}', but it was: ${s}`)}}return l}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(l,n){const s={typeString:l};return n&&(s.value=n),s}function no(l,n){if(!fy(l))throw new ce(W.INVALID_ARGUMENT,"JSON must be an object");let s;for(const i in n)if(n[i]){const u=n[i].typeString,h="value"in n[i]?{value:n[i].value}:void 0;if(!(i in l)){s=`JSON missing required field: '${i}'`;break}const g=l[i];if(u&&typeof g!==u){s=`JSON field '${i}' must be a ${u}.`;break}if(h!==void 0&&g!==h.value){s=`Expected '${i}' field to equal '${h.value}'`;break}}if(s)throw new ce(W.INVALID_ARGUMENT,s);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const l0=-62135596800,o0=1e6;class Xe{static now(){return Xe.fromMillis(Date.now())}static fromDate(n){return Xe.fromMillis(n.getTime())}static fromMillis(n){const s=Math.floor(n/1e3),i=Math.floor((n-1e3*s)*o0);return new Xe(s,i)}constructor(n,s){if(this.seconds=n,this.nanoseconds=s,s<0)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new ce(W.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(n<l0)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n);if(n>=253402300800)throw new ce(W.INVALID_ARGUMENT,"Timestamp seconds out of range: "+n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/o0}_compareTo(n){return this.seconds===n.seconds?je(this.nanoseconds,n.nanoseconds):je(this.seconds,n.seconds)}isEqual(n){return n.seconds===this.seconds&&n.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Xe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(n){if(no(n,Xe._jsonSchema))return new Xe(n.seconds,n.nanoseconds)}valueOf(){const n=this.seconds-l0;return String(n).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Xe._jsonSchemaVersion="firestore/timestamp/1.0",Xe._jsonSchema={type:pt("string",Xe._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(n){return new Te(n)}static min(){return new Te(new Xe(0,0))}static max(){return new Te(new Xe(253402300799,999999999))}constructor(n){this.timestamp=n}compareTo(n){return this.timestamp._compareTo(n.timestamp)}isEqual(n){return this.timestamp.isEqual(n.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function v_(l,n){const s=l.toTimestamp().seconds,i=l.toTimestamp().nanoseconds+1,u=Te.fromTimestamp(i===1e9?new Xe(s+1,0):new Xe(s,i));return new gs(u,de.empty(),n)}function b_(l){return new gs(l.readTime,l.key,Xl)}class gs{constructor(n,s,i){this.readTime=n,this.documentKey=s,this.largestBatchId=i}static min(){return new gs(Te.min(),de.empty(),Xl)}static max(){return new gs(Te.max(),de.empty(),Xl)}}function __(l,n){let s=l.readTime.compareTo(n.readTime);return s!==0?s:(s=de.comparator(l.documentKey,n.documentKey),s!==0?s:je(l.largestBatchId,n.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const T_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class w_{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(n){this.onCommittedListeners.push(n)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(n=>n())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Er(l){if(l.code!==W.FAILED_PRECONDITION||l.message!==T_)throw l;ie("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z{constructor(n){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,n(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(n){return this.next(void 0,n)}next(n,s){return this.callbackAttached&&ye(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(n,this.result):new Z((i,u)=>{this.nextCallback=h=>{this.wrapSuccess(n,h).next(i,u)},this.catchCallback=h=>{this.wrapFailure(s,h).next(i,u)}})}toPromise(){return new Promise((n,s)=>{this.next(n,s)})}wrapUserFunction(n){try{const s=n();return s instanceof Z?s:Z.resolve(s)}catch(s){return Z.reject(s)}}wrapSuccess(n,s){return n?this.wrapUserFunction(()=>n(s)):Z.resolve(s)}wrapFailure(n,s){return n?this.wrapUserFunction(()=>n(s)):Z.reject(s)}static resolve(n){return new Z((s,i)=>{s(n)})}static reject(n){return new Z((s,i)=>{i(n)})}static waitFor(n){return new Z((s,i)=>{let u=0,h=0,g=!1;n.forEach(y=>{++u,y.next(()=>{++h,g&&h===u&&s()},_=>i(_))}),g=!0,h===u&&s()})}static or(n){let s=Z.resolve(!1);for(const i of n)s=s.next(u=>u?Z.resolve(u):i());return s}static forEach(n,s){const i=[];return n.forEach((u,h)=>{i.push(s.call(this,u,h))}),this.waitFor(i)}static mapArray(n,s){return new Z((i,u)=>{const h=n.length,g=new Array(h);let y=0;for(let _=0;_<h;_++){const b=_;s(n[b]).next(w=>{g[b]=w,++y,y===h&&i(g)},w=>u(w))}})}static doWhile(n,s){return new Z((i,u)=>{const h=()=>{n()===!0?s().next(()=>{h()},u):i()};h()})}}function E_(l){const n=l.match(/Android ([\d.]+)/i),s=n?n[1].split(".").slice(0,2).join("."):"-1";return Number(s)}function Ar(l){return l.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(n,s){this.previousValue=n,s&&(s.sequenceNumberHandler=i=>this.ae(i),this.ue=i=>s.writeSequenceNumber(i))}ae(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){const n=++this.previousValue;return this.ue&&this.ue(n),n}}cc.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const af=-1;function hc(l){return l==null}function $u(l){return l===0&&1/l==-1/0}function A_(l){return typeof l=="number"&&Number.isInteger(l)&&!$u(l)&&l<=Number.MAX_SAFE_INTEGER&&l>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const my="";function S_(l){let n="";for(let s=0;s<l.length;s++)n.length>0&&(n=u0(n)),n=N_(l.get(s),n);return u0(n)}function N_(l,n){let s=n;const i=l.length;for(let u=0;u<i;u++){const h=l.charAt(u);switch(h){case"\0":s+="";break;case my:s+="";break;default:s+=h}}return s}function u0(l){return l+my+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c0(l){let n=0;for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&n++;return n}function fi(l,n){for(const s in l)Object.prototype.hasOwnProperty.call(l,s)&&n(s,l[s])}function gy(l){for(const n in l)if(Object.prototype.hasOwnProperty.call(l,n))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tt{constructor(n,s){this.comparator=n,this.root=s||Ut.EMPTY}insert(n,s){return new tt(this.comparator,this.root.insert(n,s,this.comparator).copy(null,null,Ut.BLACK,null,null))}remove(n){return new tt(this.comparator,this.root.remove(n,this.comparator).copy(null,null,Ut.BLACK,null,null))}get(n){let s=this.root;for(;!s.isEmpty();){const i=this.comparator(n,s.key);if(i===0)return s.value;i<0?s=s.left:i>0&&(s=s.right)}return null}indexOf(n){let s=0,i=this.root;for(;!i.isEmpty();){const u=this.comparator(n,i.key);if(u===0)return s+i.left.size;u<0?i=i.left:(s+=i.left.size+1,i=i.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(n){return this.root.inorderTraversal(n)}forEach(n){this.inorderTraversal((s,i)=>(n(s,i),!1))}toString(){const n=[];return this.inorderTraversal((s,i)=>(n.push(`${s}:${i}`),!1)),`{${n.join(", ")}}`}reverseTraversal(n){return this.root.reverseTraversal(n)}getIterator(){return new Mu(this.root,null,this.comparator,!1)}getIteratorFrom(n){return new Mu(this.root,n,this.comparator,!1)}getReverseIterator(){return new Mu(this.root,null,this.comparator,!0)}getReverseIteratorFrom(n){return new Mu(this.root,n,this.comparator,!0)}}class Mu{constructor(n,s,i,u){this.isReverse=u,this.nodeStack=[];let h=1;for(;!n.isEmpty();)if(h=s?i(n.key,s):1,s&&u&&(h*=-1),h<0)n=this.isReverse?n.left:n.right;else{if(h===0){this.nodeStack.push(n);break}this.nodeStack.push(n),n=this.isReverse?n.right:n.left}}getNext(){let n=this.nodeStack.pop();const s={key:n.key,value:n.value};if(this.isReverse)for(n=n.left;!n.isEmpty();)this.nodeStack.push(n),n=n.right;else for(n=n.right;!n.isEmpty();)this.nodeStack.push(n),n=n.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const n=this.nodeStack[this.nodeStack.length-1];return{key:n.key,value:n.value}}}class Ut{constructor(n,s,i,u,h){this.key=n,this.value=s,this.color=i??Ut.RED,this.left=u??Ut.EMPTY,this.right=h??Ut.EMPTY,this.size=this.left.size+1+this.right.size}copy(n,s,i,u,h){return new Ut(n??this.key,s??this.value,i??this.color,u??this.left,h??this.right)}isEmpty(){return!1}inorderTraversal(n){return this.left.inorderTraversal(n)||n(this.key,this.value)||this.right.inorderTraversal(n)}reverseTraversal(n){return this.right.reverseTraversal(n)||n(this.key,this.value)||this.left.reverseTraversal(n)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(n,s,i){let u=this;const h=i(n,u.key);return u=h<0?u.copy(null,null,null,u.left.insert(n,s,i),null):h===0?u.copy(null,s,null,null,null):u.copy(null,null,null,null,u.right.insert(n,s,i)),u.fixUp()}removeMin(){if(this.left.isEmpty())return Ut.EMPTY;let n=this;return n.left.isRed()||n.left.left.isRed()||(n=n.moveRedLeft()),n=n.copy(null,null,null,n.left.removeMin(),null),n.fixUp()}remove(n,s){let i,u=this;if(s(n,u.key)<0)u.left.isEmpty()||u.left.isRed()||u.left.left.isRed()||(u=u.moveRedLeft()),u=u.copy(null,null,null,u.left.remove(n,s),null);else{if(u.left.isRed()&&(u=u.rotateRight()),u.right.isEmpty()||u.right.isRed()||u.right.left.isRed()||(u=u.moveRedRight()),s(n,u.key)===0){if(u.right.isEmpty())return Ut.EMPTY;i=u.right.min(),u=u.copy(i.key,i.value,null,null,u.right.removeMin())}u=u.copy(null,null,null,null,u.right.remove(n,s))}return u.fixUp()}isRed(){return this.color}fixUp(){let n=this;return n.right.isRed()&&!n.left.isRed()&&(n=n.rotateLeft()),n.left.isRed()&&n.left.left.isRed()&&(n=n.rotateRight()),n.left.isRed()&&n.right.isRed()&&(n=n.colorFlip()),n}moveRedLeft(){let n=this.colorFlip();return n.right.left.isRed()&&(n=n.copy(null,null,null,null,n.right.rotateRight()),n=n.rotateLeft(),n=n.colorFlip()),n}moveRedRight(){let n=this.colorFlip();return n.left.left.isRed()&&(n=n.rotateRight(),n=n.colorFlip()),n}rotateLeft(){const n=this.copy(null,null,Ut.RED,null,this.right.left);return this.right.copy(null,null,this.color,n,null)}rotateRight(){const n=this.copy(null,null,Ut.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,n)}colorFlip(){const n=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,n,s)}checkMaxDepth(){const n=this.check();return Math.pow(2,n)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ye(43730,{key:this.key,value:this.value});if(this.right.isRed())throw ye(14113,{key:this.key,value:this.value});const n=this.left.check();if(n!==this.right.check())throw ye(27949);return n+(this.isRed()?0:1)}}Ut.EMPTY=null,Ut.RED=!0,Ut.BLACK=!1;Ut.EMPTY=new class{constructor(){this.size=0}get key(){throw ye(57766)}get value(){throw ye(16141)}get color(){throw ye(16727)}get left(){throw ye(29726)}get right(){throw ye(36894)}copy(n,s,i,u,h){return this}insert(n,s,i){return new Ut(n,s)}remove(n,s){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(n){this.comparator=n,this.data=new tt(this.comparator)}has(n){return this.data.get(n)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(n){return this.data.indexOf(n)}forEach(n){this.data.inorderTraversal((s,i)=>(n(s),!1))}forEachInRange(n,s){const i=this.data.getIteratorFrom(n[0]);for(;i.hasNext();){const u=i.getNext();if(this.comparator(u.key,n[1])>=0)return;s(u.key)}}forEachWhile(n,s){let i;for(i=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();i.hasNext();)if(!n(i.getNext().key))return}firstAfterOrEqual(n){const s=this.data.getIteratorFrom(n);return s.hasNext()?s.getNext().key:null}getIterator(){return new h0(this.data.getIterator())}getIteratorFrom(n){return new h0(this.data.getIteratorFrom(n))}add(n){return this.copy(this.data.remove(n).insert(n,!0))}delete(n){return this.has(n)?this.copy(this.data.remove(n)):this}isEmpty(){return this.data.isEmpty()}unionWith(n){let s=this;return s.size<n.size&&(s=n,n=this),n.forEach(i=>{s=s.add(i)}),s}isEqual(n){if(!(n instanceof Et)||this.size!==n.size)return!1;const s=this.data.getIterator(),i=n.data.getIterator();for(;s.hasNext();){const u=s.getNext().key,h=i.getNext().key;if(this.comparator(u,h)!==0)return!1}return!0}toArray(){const n=[];return this.forEach(s=>{n.push(s)}),n}toString(){const n=[];return this.forEach(s=>n.push(s)),"SortedSet("+n.toString()+")"}copy(n){const s=new Et(this.comparator);return s.data=n,s}}class h0{constructor(n){this.iter=n}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(n){this.fields=n,n.sort(zt.comparator)}static empty(){return new Dn([])}unionWith(n){let s=new Et(zt.comparator);for(const i of this.fields)s=s.add(i);for(const i of n)s=s.add(i);return new Dn(s.toArray())}covers(n){for(const s of this.fields)if(s.isPrefixOf(n))return!0;return!1}isEqual(n){return xr(this.fields,n.fields,(s,i)=>s.isEqual(i))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(n){this.binaryString=n}static fromBase64String(n){const s=function(u){try{return atob(u)}catch(h){throw typeof DOMException<"u"&&h instanceof DOMException?new py("Invalid base64 string: "+h):h}}(n);return new Pt(s)}static fromUint8Array(n){const s=function(u){let h="";for(let g=0;g<u.length;++g)h+=String.fromCharCode(u[g]);return h}(n);return new Pt(s)}[Symbol.iterator](){let n=0;return{next:()=>n<this.binaryString.length?{value:this.binaryString.charCodeAt(n++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(s){return btoa(s)}(this.binaryString)}toUint8Array(){return function(s){const i=new Uint8Array(s.length);for(let u=0;u<s.length;u++)i[u]=s.charCodeAt(u);return i}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(n){return je(this.binaryString,n.binaryString)}isEqual(n){return this.binaryString===n.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const R_=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ps(l){if(ze(!!l,39018),typeof l=="string"){let n=0;const s=R_.exec(l);if(ze(!!s,46558,{timestamp:l}),s[1]){let u=s[1];u=(u+"000000000").substr(0,9),n=Number(u)}const i=new Date(l);return{seconds:Math.floor(i.getTime()/1e3),nanos:n}}return{seconds:ut(l.seconds),nanos:ut(l.nanos)}}function ut(l){return typeof l=="number"?l:typeof l=="string"?Number(l):0}function ys(l){return typeof l=="string"?Pt.fromBase64String(l):Pt.fromUint8Array(l)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yy="server_timestamp",xy="__type__",vy="__previous_value__",by="__local_write_time__";function sf(l){return(l?.mapValue?.fields||{})[xy]?.stringValue===yy}function dc(l){const n=l.mapValue.fields[vy];return sf(n)?dc(n):n}function Zl(l){const n=ps(l.mapValue.fields[by].timestampValue);return new Xe(n.seconds,n.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(n,s,i,u,h,g,y,_,b,w){this.databaseId=n,this.appId=s,this.persistenceKey=i,this.host=u,this.ssl=h,this.forceLongPolling=g,this.autoDetectLongPolling=y,this.longPollingOptions=_,this.useFetchStreams=b,this.isUsingEmulator=w}}const Wu="(default)";class Jl{constructor(n,s){this.projectId=n,this.database=s||Wu}static empty(){return new Jl("","")}get isDefaultDatabase(){return this.database===Wu}isEqual(n){return n instanceof Jl&&n.projectId===this.projectId&&n.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _y="__type__",C_="__max__",Ou={mapValue:{}},Ty="__vector__",ec="value";function xs(l){return"nullValue"in l?0:"booleanValue"in l?1:"integerValue"in l||"doubleValue"in l?2:"timestampValue"in l?3:"stringValue"in l?5:"bytesValue"in l?6:"referenceValue"in l?7:"geoPointValue"in l?8:"arrayValue"in l?9:"mapValue"in l?sf(l)?4:D_(l)?9007199254740991:V_(l)?10:11:ye(28295,{value:l})}function na(l,n){if(l===n)return!0;const s=xs(l);if(s!==xs(n))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return l.booleanValue===n.booleanValue;case 4:return Zl(l).isEqual(Zl(n));case 3:return function(u,h){if(typeof u.timestampValue=="string"&&typeof h.timestampValue=="string"&&u.timestampValue.length===h.timestampValue.length)return u.timestampValue===h.timestampValue;const g=ps(u.timestampValue),y=ps(h.timestampValue);return g.seconds===y.seconds&&g.nanos===y.nanos}(l,n);case 5:return l.stringValue===n.stringValue;case 6:return function(u,h){return ys(u.bytesValue).isEqual(ys(h.bytesValue))}(l,n);case 7:return l.referenceValue===n.referenceValue;case 8:return function(u,h){return ut(u.geoPointValue.latitude)===ut(h.geoPointValue.latitude)&&ut(u.geoPointValue.longitude)===ut(h.geoPointValue.longitude)}(l,n);case 2:return function(u,h){if("integerValue"in u&&"integerValue"in h)return ut(u.integerValue)===ut(h.integerValue);if("doubleValue"in u&&"doubleValue"in h){const g=ut(u.doubleValue),y=ut(h.doubleValue);return g===y?$u(g)===$u(y):isNaN(g)&&isNaN(y)}return!1}(l,n);case 9:return xr(l.arrayValue.values||[],n.arrayValue.values||[],na);case 10:case 11:return function(u,h){const g=u.mapValue.fields||{},y=h.mapValue.fields||{};if(c0(g)!==c0(y))return!1;for(const _ in g)if(g.hasOwnProperty(_)&&(y[_]===void 0||!na(g[_],y[_])))return!1;return!0}(l,n);default:return ye(52216,{left:l})}}function $l(l,n){return(l.values||[]).find(s=>na(s,n))!==void 0}function vr(l,n){if(l===n)return 0;const s=xs(l),i=xs(n);if(s!==i)return je(s,i);switch(s){case 0:case 9007199254740991:return 0;case 1:return je(l.booleanValue,n.booleanValue);case 2:return function(h,g){const y=ut(h.integerValue||h.doubleValue),_=ut(g.integerValue||g.doubleValue);return y<_?-1:y>_?1:y===_?0:isNaN(y)?isNaN(_)?0:-1:1}(l,n);case 3:return d0(l.timestampValue,n.timestampValue);case 4:return d0(Zl(l),Zl(n));case 5:return zd(l.stringValue,n.stringValue);case 6:return function(h,g){const y=ys(h),_=ys(g);return y.compareTo(_)}(l.bytesValue,n.bytesValue);case 7:return function(h,g){const y=h.split("/"),_=g.split("/");for(let b=0;b<y.length&&b<_.length;b++){const w=je(y[b],_[b]);if(w!==0)return w}return je(y.length,_.length)}(l.referenceValue,n.referenceValue);case 8:return function(h,g){const y=je(ut(h.latitude),ut(g.latitude));return y!==0?y:je(ut(h.longitude),ut(g.longitude))}(l.geoPointValue,n.geoPointValue);case 9:return f0(l.arrayValue,n.arrayValue);case 10:return function(h,g){const y=h.fields||{},_=g.fields||{},b=y[ec]?.arrayValue,w=_[ec]?.arrayValue,R=je(b?.values?.length||0,w?.values?.length||0);return R!==0?R:f0(b,w)}(l.mapValue,n.mapValue);case 11:return function(h,g){if(h===Ou.mapValue&&g===Ou.mapValue)return 0;if(h===Ou.mapValue)return 1;if(g===Ou.mapValue)return-1;const y=h.fields||{},_=Object.keys(y),b=g.fields||{},w=Object.keys(b);_.sort(),w.sort();for(let R=0;R<_.length&&R<w.length;++R){const O=zd(_[R],w[R]);if(O!==0)return O;const G=vr(y[_[R]],b[w[R]]);if(G!==0)return G}return je(_.length,w.length)}(l.mapValue,n.mapValue);default:throw ye(23264,{he:s})}}function d0(l,n){if(typeof l=="string"&&typeof n=="string"&&l.length===n.length)return je(l,n);const s=ps(l),i=ps(n),u=je(s.seconds,i.seconds);return u!==0?u:je(s.nanos,i.nanos)}function f0(l,n){const s=l.values||[],i=n.values||[];for(let u=0;u<s.length&&u<i.length;++u){const h=vr(s[u],i[u]);if(h)return h}return je(s.length,i.length)}function br(l){return Pd(l)}function Pd(l){return"nullValue"in l?"null":"booleanValue"in l?""+l.booleanValue:"integerValue"in l?""+l.integerValue:"doubleValue"in l?""+l.doubleValue:"timestampValue"in l?function(s){const i=ps(s);return`time(${i.seconds},${i.nanos})`}(l.timestampValue):"stringValue"in l?l.stringValue:"bytesValue"in l?function(s){return ys(s).toBase64()}(l.bytesValue):"referenceValue"in l?function(s){return de.fromName(s).toString()}(l.referenceValue):"geoPointValue"in l?function(s){return`geo(${s.latitude},${s.longitude})`}(l.geoPointValue):"arrayValue"in l?function(s){let i="[",u=!0;for(const h of s.values||[])u?u=!1:i+=",",i+=Pd(h);return i+"]"}(l.arrayValue):"mapValue"in l?function(s){const i=Object.keys(s.fields||{}).sort();let u="{",h=!0;for(const g of i)h?h=!1:u+=",",u+=`${g}:${Pd(s.fields[g])}`;return u+"}"}(l.mapValue):ye(61005,{value:l})}function Gu(l){switch(xs(l)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const n=dc(l);return n?16+Gu(n):16;case 5:return 2*l.stringValue.length;case 6:return ys(l.bytesValue).approximateByteSize();case 7:return l.referenceValue.length;case 9:return function(i){return(i.values||[]).reduce((u,h)=>u+Gu(h),0)}(l.arrayValue);case 10:case 11:return function(i){let u=0;return fi(i.fields,(h,g)=>{u+=h.length+Gu(g)}),u}(l.mapValue);default:throw ye(13486,{value:l})}}function Ld(l){return!!l&&"integerValue"in l}function rf(l){return!!l&&"arrayValue"in l}function m0(l){return!!l&&"nullValue"in l}function g0(l){return!!l&&"doubleValue"in l&&isNaN(Number(l.doubleValue))}function Hu(l){return!!l&&"mapValue"in l}function V_(l){return(l?.mapValue?.fields||{})[_y]?.stringValue===Ty}function Bl(l){if(l.geoPointValue)return{geoPointValue:{...l.geoPointValue}};if(l.timestampValue&&typeof l.timestampValue=="object")return{timestampValue:{...l.timestampValue}};if(l.mapValue){const n={mapValue:{fields:{}}};return fi(l.mapValue.fields,(s,i)=>n.mapValue.fields[s]=Bl(i)),n}if(l.arrayValue){const n={arrayValue:{values:[]}};for(let s=0;s<(l.arrayValue.values||[]).length;++s)n.arrayValue.values[s]=Bl(l.arrayValue.values[s]);return n}return{...l}}function D_(l){return(((l.mapValue||{}).fields||{}).__type__||{}).stringValue===C_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wn{constructor(n){this.value=n}static empty(){return new wn({mapValue:{}})}field(n){if(n.isEmpty())return this.value;{let s=this.value;for(let i=0;i<n.length-1;++i)if(s=(s.mapValue.fields||{})[n.get(i)],!Hu(s))return null;return s=(s.mapValue.fields||{})[n.lastSegment()],s||null}}set(n,s){this.getFieldsMap(n.popLast())[n.lastSegment()]=Bl(s)}setAll(n){let s=zt.emptyPath(),i={},u=[];n.forEach((g,y)=>{if(!s.isImmediateParentOf(y)){const _=this.getFieldsMap(s);this.applyChanges(_,i,u),i={},u=[],s=y.popLast()}g?i[y.lastSegment()]=Bl(g):u.push(y.lastSegment())});const h=this.getFieldsMap(s);this.applyChanges(h,i,u)}delete(n){const s=this.field(n.popLast());Hu(s)&&s.mapValue.fields&&delete s.mapValue.fields[n.lastSegment()]}isEqual(n){return na(this.value,n.value)}getFieldsMap(n){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let i=0;i<n.length;++i){let u=s.mapValue.fields[n.get(i)];Hu(u)&&u.mapValue.fields||(u={mapValue:{fields:{}}},s.mapValue.fields[n.get(i)]=u),s=u}return s.mapValue.fields}applyChanges(n,s,i){fi(s,(u,h)=>n[u]=h);for(const u of i)delete n[u]}clone(){return new wn(Bl(this.value))}}function wy(l){const n=[];return fi(l.fields,(s,i)=>{const u=new zt([s]);if(Hu(i)){const h=wy(i.mapValue).fields;if(h.length===0)n.push(u);else for(const g of h)n.push(u.child(g))}else n.push(u)}),new Dn(n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(n,s,i,u,h,g,y){this.key=n,this.documentType=s,this.version=i,this.readTime=u,this.createTime=h,this.data=g,this.documentState=y}static newInvalidDocument(n){return new Ht(n,0,Te.min(),Te.min(),Te.min(),wn.empty(),0)}static newFoundDocument(n,s,i,u){return new Ht(n,1,s,Te.min(),i,u,0)}static newNoDocument(n,s){return new Ht(n,2,s,Te.min(),Te.min(),wn.empty(),0)}static newUnknownDocument(n,s){return new Ht(n,3,s,Te.min(),Te.min(),wn.empty(),2)}convertToFoundDocument(n,s){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=n),this.version=n,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(n){return this.version=n,this.documentType=2,this.data=wn.empty(),this.documentState=0,this}convertToUnknownDocument(n){return this.version=n,this.documentType=3,this.data=wn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(n){return this.readTime=n,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(n){return n instanceof Ht&&this.key.isEqual(n.key)&&this.version.isEqual(n.version)&&this.documentType===n.documentType&&this.documentState===n.documentState&&this.data.isEqual(n.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tc{constructor(n,s){this.position=n,this.inclusive=s}}function p0(l,n,s){let i=0;for(let u=0;u<l.position.length;u++){const h=n[u],g=l.position[u];if(h.field.isKeyField()?i=de.comparator(de.fromName(g.referenceValue),s.key):i=vr(g,s.data.field(h.field)),h.dir==="desc"&&(i*=-1),i!==0)break}return i}function y0(l,n){if(l===null)return n===null;if(n===null||l.inclusive!==n.inclusive||l.position.length!==n.position.length)return!1;for(let s=0;s<l.position.length;s++)if(!na(l.position[s],n.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc{constructor(n,s="asc"){this.field=n,this.dir=s}}function I_(l,n){return l.dir===n.dir&&l.field.isEqual(n.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ey{}class wt extends Ey{constructor(n,s,i){super(),this.field=n,this.op=s,this.value=i}static create(n,s,i){return n.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(n,s,i):new O_(n,s,i):s==="array-contains"?new z_(n,i):s==="in"?new P_(n,i):s==="not-in"?new L_(n,i):s==="array-contains-any"?new q_(n,i):new wt(n,s,i)}static createKeyFieldInFilter(n,s,i){return s==="in"?new k_(n,i):new U_(n,i)}matches(n){const s=n.data.field(this.field);return this.op==="!="?s!==null&&s.nullValue===void 0&&this.matchesComparison(vr(s,this.value)):s!==null&&xs(this.value)===xs(s)&&this.matchesComparison(vr(s,this.value))}matchesComparison(n){switch(this.op){case"<":return n<0;case"<=":return n<=0;case"==":return n===0;case"!=":return n!==0;case">":return n>0;case">=":return n>=0;default:return ye(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class aa extends Ey{constructor(n,s){super(),this.filters=n,this.op=s,this.Pe=null}static create(n,s){return new aa(n,s)}matches(n){return Ay(this)?this.filters.find(s=>!s.matches(n))===void 0:this.filters.find(s=>s.matches(n))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((n,s)=>n.concat(s.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Ay(l){return l.op==="and"}function Sy(l){return M_(l)&&Ay(l)}function M_(l){for(const n of l.filters)if(n instanceof aa)return!1;return!0}function qd(l){if(l instanceof wt)return l.field.canonicalString()+l.op.toString()+br(l.value);if(Sy(l))return l.filters.map(n=>qd(n)).join(",");{const n=l.filters.map(s=>qd(s)).join(",");return`${l.op}(${n})`}}function Ny(l,n){return l instanceof wt?function(i,u){return u instanceof wt&&i.op===u.op&&i.field.isEqual(u.field)&&na(i.value,u.value)}(l,n):l instanceof aa?function(i,u){return u instanceof aa&&i.op===u.op&&i.filters.length===u.filters.length?i.filters.reduce((h,g,y)=>h&&Ny(g,u.filters[y]),!0):!1}(l,n):void ye(19439)}function Ry(l){return l instanceof wt?function(s){return`${s.field.canonicalString()} ${s.op} ${br(s.value)}`}(l):l instanceof aa?function(s){return s.op.toString()+" {"+s.getFilters().map(Ry).join(" ,")+"}"}(l):"Filter"}class O_ extends wt{constructor(n,s,i){super(n,s,i),this.key=de.fromName(i.referenceValue)}matches(n){const s=de.comparator(n.key,this.key);return this.matchesComparison(s)}}class k_ extends wt{constructor(n,s){super(n,"in",s),this.keys=jy("in",s)}matches(n){return this.keys.some(s=>s.isEqual(n.key))}}class U_ extends wt{constructor(n,s){super(n,"not-in",s),this.keys=jy("not-in",s)}matches(n){return!this.keys.some(s=>s.isEqual(n.key))}}function jy(l,n){return(n.arrayValue?.values||[]).map(s=>de.fromName(s.referenceValue))}class z_ extends wt{constructor(n,s){super(n,"array-contains",s)}matches(n){const s=n.data.field(this.field);return rf(s)&&$l(s.arrayValue,this.value)}}class P_ extends wt{constructor(n,s){super(n,"in",s)}matches(n){const s=n.data.field(this.field);return s!==null&&$l(this.value.arrayValue,s)}}class L_ extends wt{constructor(n,s){super(n,"not-in",s)}matches(n){if($l(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=n.data.field(this.field);return s!==null&&s.nullValue===void 0&&!$l(this.value.arrayValue,s)}}class q_ extends wt{constructor(n,s){super(n,"array-contains-any",s)}matches(n){const s=n.data.field(this.field);return!(!rf(s)||!s.arrayValue.values)&&s.arrayValue.values.some(i=>$l(this.value.arrayValue,i))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B_{constructor(n,s=null,i=[],u=[],h=null,g=null,y=null){this.path=n,this.collectionGroup=s,this.orderBy=i,this.filters=u,this.limit=h,this.startAt=g,this.endAt=y,this.Te=null}}function x0(l,n=null,s=[],i=[],u=null,h=null,g=null){return new B_(l,n,s,i,u,h,g)}function lf(l){const n=we(l);if(n.Te===null){let s=n.path.canonicalString();n.collectionGroup!==null&&(s+="|cg:"+n.collectionGroup),s+="|f:",s+=n.filters.map(i=>qd(i)).join(","),s+="|ob:",s+=n.orderBy.map(i=>function(h){return h.field.canonicalString()+h.dir}(i)).join(","),hc(n.limit)||(s+="|l:",s+=n.limit),n.startAt&&(s+="|lb:",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(i=>br(i)).join(",")),n.endAt&&(s+="|ub:",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(i=>br(i)).join(",")),n.Te=s}return n.Te}function of(l,n){if(l.limit!==n.limit||l.orderBy.length!==n.orderBy.length)return!1;for(let s=0;s<l.orderBy.length;s++)if(!I_(l.orderBy[s],n.orderBy[s]))return!1;if(l.filters.length!==n.filters.length)return!1;for(let s=0;s<l.filters.length;s++)if(!Ny(l.filters[s],n.filters[s]))return!1;return l.collectionGroup===n.collectionGroup&&!!l.path.isEqual(n.path)&&!!y0(l.startAt,n.startAt)&&y0(l.endAt,n.endAt)}function Bd(l){return de.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fc{constructor(n,s=null,i=[],u=[],h=null,g="F",y=null,_=null){this.path=n,this.collectionGroup=s,this.explicitOrderBy=i,this.filters=u,this.limit=h,this.limitType=g,this.startAt=y,this.endAt=_,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function G_(l,n,s,i,u,h,g,y){return new fc(l,n,s,i,u,h,g,y)}function uf(l){return new fc(l)}function v0(l){return l.filters.length===0&&l.limit===null&&l.startAt==null&&l.endAt==null&&(l.explicitOrderBy.length===0||l.explicitOrderBy.length===1&&l.explicitOrderBy[0].field.isKeyField())}function H_(l){return l.collectionGroup!==null}function Gl(l){const n=we(l);if(n.Ie===null){n.Ie=[];const s=new Set;for(const h of n.explicitOrderBy)n.Ie.push(h),s.add(h.field.canonicalString());const i=n.explicitOrderBy.length>0?n.explicitOrderBy[n.explicitOrderBy.length-1].dir:"asc";(function(g){let y=new Et(zt.comparator);return g.filters.forEach(_=>{_.getFlattenedFilters().forEach(b=>{b.isInequality()&&(y=y.add(b.field))})}),y})(n).forEach(h=>{s.has(h.canonicalString())||h.isKeyField()||n.Ie.push(new nc(h,i))}),s.has(zt.keyField().canonicalString())||n.Ie.push(new nc(zt.keyField(),i))}return n.Ie}function Jn(l){const n=we(l);return n.Ee||(n.Ee=Q_(n,Gl(l))),n.Ee}function Q_(l,n){if(l.limitType==="F")return x0(l.path,l.collectionGroup,n,l.filters,l.limit,l.startAt,l.endAt);{n=n.map(u=>{const h=u.dir==="desc"?"asc":"desc";return new nc(u.field,h)});const s=l.endAt?new tc(l.endAt.position,l.endAt.inclusive):null,i=l.startAt?new tc(l.startAt.position,l.startAt.inclusive):null;return x0(l.path,l.collectionGroup,n,l.filters,l.limit,s,i)}}function Gd(l,n,s){return new fc(l.path,l.collectionGroup,l.explicitOrderBy.slice(),l.filters.slice(),n,s,l.startAt,l.endAt)}function mc(l,n){return of(Jn(l),Jn(n))&&l.limitType===n.limitType}function Cy(l){return`${lf(Jn(l))}|lt:${l.limitType}`}function cr(l){return`Query(target=${function(s){let i=s.path.canonicalString();return s.collectionGroup!==null&&(i+=" collectionGroup="+s.collectionGroup),s.filters.length>0&&(i+=`, filters: [${s.filters.map(u=>Ry(u)).join(", ")}]`),hc(s.limit)||(i+=", limit: "+s.limit),s.orderBy.length>0&&(i+=`, orderBy: [${s.orderBy.map(u=>function(g){return`${g.field.canonicalString()} (${g.dir})`}(u)).join(", ")}]`),s.startAt&&(i+=", startAt: ",i+=s.startAt.inclusive?"b:":"a:",i+=s.startAt.position.map(u=>br(u)).join(",")),s.endAt&&(i+=", endAt: ",i+=s.endAt.inclusive?"a:":"b:",i+=s.endAt.position.map(u=>br(u)).join(",")),`Target(${i})`}(Jn(l))}; limitType=${l.limitType})`}function gc(l,n){return n.isFoundDocument()&&function(i,u){const h=u.key.path;return i.collectionGroup!==null?u.key.hasCollectionId(i.collectionGroup)&&i.path.isPrefixOf(h):de.isDocumentKey(i.path)?i.path.isEqual(h):i.path.isImmediateParentOf(h)}(l,n)&&function(i,u){for(const h of Gl(i))if(!h.field.isKeyField()&&u.data.field(h.field)===null)return!1;return!0}(l,n)&&function(i,u){for(const h of i.filters)if(!h.matches(u))return!1;return!0}(l,n)&&function(i,u){return!(i.startAt&&!function(g,y,_){const b=p0(g,y,_);return g.inclusive?b<=0:b<0}(i.startAt,Gl(i),u)||i.endAt&&!function(g,y,_){const b=p0(g,y,_);return g.inclusive?b>=0:b>0}(i.endAt,Gl(i),u))}(l,n)}function F_(l){return l.collectionGroup||(l.path.length%2==1?l.path.lastSegment():l.path.get(l.path.length-2))}function Vy(l){return(n,s)=>{let i=!1;for(const u of Gl(l)){const h=Y_(u,n,s);if(h!==0)return h;i=i||u.field.isKeyField()}return 0}}function Y_(l,n,s){const i=l.field.isKeyField()?de.comparator(n.key,s.key):function(h,g,y){const _=g.data.field(h),b=y.data.field(h);return _!==null&&b!==null?vr(_,b):ye(42886)}(l.field,n,s);switch(l.dir){case"asc":return i;case"desc":return-1*i;default:return ye(19790,{direction:l.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mi{constructor(n,s){this.mapKeyFn=n,this.equalsFn=s,this.inner={},this.innerSize=0}get(n){const s=this.mapKeyFn(n),i=this.inner[s];if(i!==void 0){for(const[u,h]of i)if(this.equalsFn(u,n))return h}}has(n){return this.get(n)!==void 0}set(n,s){const i=this.mapKeyFn(n),u=this.inner[i];if(u===void 0)return this.inner[i]=[[n,s]],void this.innerSize++;for(let h=0;h<u.length;h++)if(this.equalsFn(u[h][0],n))return void(u[h]=[n,s]);u.push([n,s]),this.innerSize++}delete(n){const s=this.mapKeyFn(n),i=this.inner[s];if(i===void 0)return!1;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],n))return i.length===1?delete this.inner[s]:i.splice(u,1),this.innerSize--,!0;return!1}forEach(n){fi(this.inner,(s,i)=>{for(const[u,h]of i)n(u,h)})}isEmpty(){return gy(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K_=new tt(de.comparator);function Ia(){return K_}const Dy=new tt(de.comparator);function Pl(...l){let n=Dy;for(const s of l)n=n.insert(s.key,s);return n}function Iy(l){let n=Dy;return l.forEach((s,i)=>n=n.insert(s,i.overlayedDocument)),n}function ri(){return Hl()}function My(){return Hl()}function Hl(){return new mi(l=>l.toString(),(l,n)=>l.isEqual(n))}const X_=new tt(de.comparator),Z_=new Et(de.comparator);function Ce(...l){let n=Z_;for(const s of l)n=n.add(s);return n}const J_=new Et(je);function $_(){return J_}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cf(l,n){if(l.useProto3Json){if(isNaN(n))return{doubleValue:"NaN"};if(n===1/0)return{doubleValue:"Infinity"};if(n===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:$u(n)?"-0":n}}function Oy(l){return{integerValue:""+l}}function W_(l,n){return A_(n)?Oy(n):cf(l,n)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pc{constructor(){this._=void 0}}function eT(l,n,s){return l instanceof ac?function(u,h){const g={fields:{[xy]:{stringValue:yy},[by]:{timestampValue:{seconds:u.seconds,nanos:u.nanoseconds}}}};return h&&sf(h)&&(h=dc(h)),h&&(g.fields[vy]=h),{mapValue:g}}(s,n):l instanceof Wl?Uy(l,n):l instanceof eo?zy(l,n):function(u,h){const g=ky(u,h),y=b0(g)+b0(u.Ae);return Ld(g)&&Ld(u.Ae)?Oy(y):cf(u.serializer,y)}(l,n)}function tT(l,n,s){return l instanceof Wl?Uy(l,n):l instanceof eo?zy(l,n):s}function ky(l,n){return l instanceof sc?function(i){return Ld(i)||function(h){return!!h&&"doubleValue"in h}(i)}(n)?n:{integerValue:0}:null}class ac extends pc{}class Wl extends pc{constructor(n){super(),this.elements=n}}function Uy(l,n){const s=Py(n);for(const i of l.elements)s.some(u=>na(u,i))||s.push(i);return{arrayValue:{values:s}}}class eo extends pc{constructor(n){super(),this.elements=n}}function zy(l,n){let s=Py(n);for(const i of l.elements)s=s.filter(u=>!na(u,i));return{arrayValue:{values:s}}}class sc extends pc{constructor(n,s){super(),this.serializer=n,this.Ae=s}}function b0(l){return ut(l.integerValue||l.doubleValue)}function Py(l){return rf(l)&&l.arrayValue.values?l.arrayValue.values.slice():[]}function nT(l,n){return l.field.isEqual(n.field)&&function(i,u){return i instanceof Wl&&u instanceof Wl||i instanceof eo&&u instanceof eo?xr(i.elements,u.elements,na):i instanceof sc&&u instanceof sc?na(i.Ae,u.Ae):i instanceof ac&&u instanceof ac}(l.transform,n.transform)}class aT{constructor(n,s){this.version=n,this.transformResults=s}}class Va{constructor(n,s){this.updateTime=n,this.exists=s}static none(){return new Va}static exists(n){return new Va(void 0,n)}static updateTime(n){return new Va(n)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(n){return this.exists===n.exists&&(this.updateTime?!!n.updateTime&&this.updateTime.isEqual(n.updateTime):!n.updateTime)}}function Qu(l,n){return l.updateTime!==void 0?n.isFoundDocument()&&n.version.isEqual(l.updateTime):l.exists===void 0||l.exists===n.isFoundDocument()}class yc{}function Ly(l,n){if(!l.hasLocalMutations||n&&n.fields.length===0)return null;if(n===null)return l.isNoDocument()?new By(l.key,Va.none()):new ao(l.key,l.data,Va.none());{const s=l.data,i=wn.empty();let u=new Et(zt.comparator);for(let h of n.fields)if(!u.has(h)){let g=s.field(h);g===null&&h.length>1&&(h=h.popLast(),g=s.field(h)),g===null?i.delete(h):i.set(h,g),u=u.add(h)}return new gi(l.key,i,new Dn(u.toArray()),Va.none())}}function sT(l,n,s){l instanceof ao?function(u,h,g){const y=u.value.clone(),_=T0(u.fieldTransforms,h,g.transformResults);y.setAll(_),h.convertToFoundDocument(g.version,y).setHasCommittedMutations()}(l,n,s):l instanceof gi?function(u,h,g){if(!Qu(u.precondition,h))return void h.convertToUnknownDocument(g.version);const y=T0(u.fieldTransforms,h,g.transformResults),_=h.data;_.setAll(qy(u)),_.setAll(y),h.convertToFoundDocument(g.version,_).setHasCommittedMutations()}(l,n,s):function(u,h,g){h.convertToNoDocument(g.version).setHasCommittedMutations()}(0,n,s)}function Ql(l,n,s,i){return l instanceof ao?function(h,g,y,_){if(!Qu(h.precondition,g))return y;const b=h.value.clone(),w=w0(h.fieldTransforms,_,g);return b.setAll(w),g.convertToFoundDocument(g.version,b).setHasLocalMutations(),null}(l,n,s,i):l instanceof gi?function(h,g,y,_){if(!Qu(h.precondition,g))return y;const b=w0(h.fieldTransforms,_,g),w=g.data;return w.setAll(qy(h)),w.setAll(b),g.convertToFoundDocument(g.version,w).setHasLocalMutations(),y===null?null:y.unionWith(h.fieldMask.fields).unionWith(h.fieldTransforms.map(R=>R.field))}(l,n,s,i):function(h,g,y){return Qu(h.precondition,g)?(g.convertToNoDocument(g.version).setHasLocalMutations(),null):y}(l,n,s)}function iT(l,n){let s=null;for(const i of l.fieldTransforms){const u=n.data.field(i.field),h=ky(i.transform,u||null);h!=null&&(s===null&&(s=wn.empty()),s.set(i.field,h))}return s||null}function _0(l,n){return l.type===n.type&&!!l.key.isEqual(n.key)&&!!l.precondition.isEqual(n.precondition)&&!!function(i,u){return i===void 0&&u===void 0||!(!i||!u)&&xr(i,u,(h,g)=>nT(h,g))}(l.fieldTransforms,n.fieldTransforms)&&(l.type===0?l.value.isEqual(n.value):l.type!==1||l.data.isEqual(n.data)&&l.fieldMask.isEqual(n.fieldMask))}class ao extends yc{constructor(n,s,i,u=[]){super(),this.key=n,this.value=s,this.precondition=i,this.fieldTransforms=u,this.type=0}getFieldMask(){return null}}class gi extends yc{constructor(n,s,i,u,h=[]){super(),this.key=n,this.data=s,this.fieldMask=i,this.precondition=u,this.fieldTransforms=h,this.type=1}getFieldMask(){return this.fieldMask}}function qy(l){const n=new Map;return l.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const i=l.data.field(s);n.set(s,i)}}),n}function T0(l,n,s){const i=new Map;ze(l.length===s.length,32656,{Re:s.length,Ve:l.length});for(let u=0;u<s.length;u++){const h=l[u],g=h.transform,y=n.data.field(h.field);i.set(h.field,tT(g,y,s[u]))}return i}function w0(l,n,s){const i=new Map;for(const u of l){const h=u.transform,g=s.data.field(u.field);i.set(u.field,eT(h,g,n))}return i}class By extends yc{constructor(n,s){super(),this.key=n,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class rT extends yc{constructor(n,s){super(),this.key=n,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lT{constructor(n,s,i,u){this.batchId=n,this.localWriteTime=s,this.baseMutations=i,this.mutations=u}applyToRemoteDocument(n,s){const i=s.mutationResults;for(let u=0;u<this.mutations.length;u++){const h=this.mutations[u];h.key.isEqual(n.key)&&sT(h,n,i[u])}}applyToLocalView(n,s){for(const i of this.baseMutations)i.key.isEqual(n.key)&&(s=Ql(i,n,s,this.localWriteTime));for(const i of this.mutations)i.key.isEqual(n.key)&&(s=Ql(i,n,s,this.localWriteTime));return s}applyToLocalDocumentSet(n,s){const i=My();return this.mutations.forEach(u=>{const h=n.get(u.key),g=h.overlayedDocument;let y=this.applyToLocalView(g,h.mutatedFields);y=s.has(u.key)?null:y;const _=Ly(g,y);_!==null&&i.set(u.key,_),g.isValidDocument()||g.convertToNoDocument(Te.min())}),i}keys(){return this.mutations.reduce((n,s)=>n.add(s.key),Ce())}isEqual(n){return this.batchId===n.batchId&&xr(this.mutations,n.mutations,(s,i)=>_0(s,i))&&xr(this.baseMutations,n.baseMutations,(s,i)=>_0(s,i))}}class hf{constructor(n,s,i,u){this.batch=n,this.commitVersion=s,this.mutationResults=i,this.docVersions=u}static from(n,s,i){ze(n.mutations.length===i.length,58842,{me:n.mutations.length,fe:i.length});let u=function(){return X_}();const h=n.mutations;for(let g=0;g<h.length;g++)u=u.insert(h[g].key,i[g].version);return new hf(n,s,i,u)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oT{constructor(n,s){this.largestBatchId=n,this.mutation=s}getKey(){return this.mutation.key}isEqual(n){return n!==null&&this.mutation===n.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(n,s){this.count=n,this.unchangedNames=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,Me;function cT(l){switch(l){case W.OK:return ye(64938);case W.CANCELLED:case W.UNKNOWN:case W.DEADLINE_EXCEEDED:case W.RESOURCE_EXHAUSTED:case W.INTERNAL:case W.UNAVAILABLE:case W.UNAUTHENTICATED:return!1;case W.INVALID_ARGUMENT:case W.NOT_FOUND:case W.ALREADY_EXISTS:case W.PERMISSION_DENIED:case W.FAILED_PRECONDITION:case W.ABORTED:case W.OUT_OF_RANGE:case W.UNIMPLEMENTED:case W.DATA_LOSS:return!0;default:return ye(15467,{code:l})}}function Gy(l){if(l===void 0)return Da("GRPC error has no .code"),W.UNKNOWN;switch(l){case gt.OK:return W.OK;case gt.CANCELLED:return W.CANCELLED;case gt.UNKNOWN:return W.UNKNOWN;case gt.DEADLINE_EXCEEDED:return W.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return W.RESOURCE_EXHAUSTED;case gt.INTERNAL:return W.INTERNAL;case gt.UNAVAILABLE:return W.UNAVAILABLE;case gt.UNAUTHENTICATED:return W.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return W.INVALID_ARGUMENT;case gt.NOT_FOUND:return W.NOT_FOUND;case gt.ALREADY_EXISTS:return W.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return W.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return W.FAILED_PRECONDITION;case gt.ABORTED:return W.ABORTED;case gt.OUT_OF_RANGE:return W.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return W.UNIMPLEMENTED;case gt.DATA_LOSS:return W.DATA_LOSS;default:return ye(39323,{code:l})}}(Me=gt||(gt={}))[Me.OK=0]="OK",Me[Me.CANCELLED=1]="CANCELLED",Me[Me.UNKNOWN=2]="UNKNOWN",Me[Me.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Me[Me.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Me[Me.NOT_FOUND=5]="NOT_FOUND",Me[Me.ALREADY_EXISTS=6]="ALREADY_EXISTS",Me[Me.PERMISSION_DENIED=7]="PERMISSION_DENIED",Me[Me.UNAUTHENTICATED=16]="UNAUTHENTICATED",Me[Me.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Me[Me.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Me[Me.ABORTED=10]="ABORTED",Me[Me.OUT_OF_RANGE=11]="OUT_OF_RANGE",Me[Me.UNIMPLEMENTED=12]="UNIMPLEMENTED",Me[Me.INTERNAL=13]="INTERNAL",Me[Me.UNAVAILABLE=14]="UNAVAILABLE",Me[Me.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hT(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=new fs([4294967295,4294967295],0);function E0(l){const n=hT().encode(l),s=new iy;return s.update(n),new Uint8Array(s.digest())}function A0(l){const n=new DataView(l.buffer),s=n.getUint32(0,!0),i=n.getUint32(4,!0),u=n.getUint32(8,!0),h=n.getUint32(12,!0);return[new fs([s,i],0),new fs([u,h],0)]}class df{constructor(n,s,i){if(this.bitmap=n,this.padding=s,this.hashCount=i,s<0||s>=8)throw new Ll(`Invalid padding: ${s}`);if(i<0)throw new Ll(`Invalid hash count: ${i}`);if(n.length>0&&this.hashCount===0)throw new Ll(`Invalid hash count: ${i}`);if(n.length===0&&s!==0)throw new Ll(`Invalid padding when bitmap length is 0: ${s}`);this.ge=8*n.length-s,this.pe=fs.fromNumber(this.ge)}ye(n,s,i){let u=n.add(s.multiply(fs.fromNumber(i)));return u.compare(dT)===1&&(u=new fs([u.getBits(0),u.getBits(1)],0)),u.modulo(this.pe).toNumber()}we(n){return!!(this.bitmap[Math.floor(n/8)]&1<<n%8)}mightContain(n){if(this.ge===0)return!1;const s=E0(n),[i,u]=A0(s);for(let h=0;h<this.hashCount;h++){const g=this.ye(i,u,h);if(!this.we(g))return!1}return!0}static create(n,s,i){const u=n%8==0?0:8-n%8,h=new Uint8Array(Math.ceil(n/8)),g=new df(h,u,s);return i.forEach(y=>g.insert(y)),g}insert(n){if(this.ge===0)return;const s=E0(n),[i,u]=A0(s);for(let h=0;h<this.hashCount;h++){const g=this.ye(i,u,h);this.Se(g)}}Se(n){const s=Math.floor(n/8),i=n%8;this.bitmap[s]|=1<<i}}class Ll extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xc{constructor(n,s,i,u,h){this.snapshotVersion=n,this.targetChanges=s,this.targetMismatches=i,this.documentUpdates=u,this.resolvedLimboDocuments=h}static createSynthesizedRemoteEventForCurrentChange(n,s,i){const u=new Map;return u.set(n,so.createSynthesizedTargetChangeForCurrentChange(n,s,i)),new xc(Te.min(),u,new tt(je),Ia(),Ce())}}class so{constructor(n,s,i,u,h){this.resumeToken=n,this.current=s,this.addedDocuments=i,this.modifiedDocuments=u,this.removedDocuments=h}static createSynthesizedTargetChangeForCurrentChange(n,s,i){return new so(i,s,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fu{constructor(n,s,i,u){this.be=n,this.removedTargetIds=s,this.key=i,this.De=u}}class Hy{constructor(n,s){this.targetId=n,this.Ce=s}}class Qy{constructor(n,s,i=Pt.EMPTY_BYTE_STRING,u=null){this.state=n,this.targetIds=s,this.resumeToken=i,this.cause=u}}class S0{constructor(){this.ve=0,this.Fe=N0(),this.Me=Pt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(n){n.approximateByteSize()>0&&(this.Oe=!0,this.Me=n)}ke(){let n=Ce(),s=Ce(),i=Ce();return this.Fe.forEach((u,h)=>{switch(h){case 0:n=n.add(u);break;case 2:s=s.add(u);break;case 1:i=i.add(u);break;default:ye(38017,{changeType:h})}}),new so(this.Me,this.xe,n,s,i)}qe(){this.Oe=!1,this.Fe=N0()}Qe(n,s){this.Oe=!0,this.Fe=this.Fe.insert(n,s)}$e(n){this.Oe=!0,this.Fe=this.Fe.remove(n)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class fT{constructor(n){this.Ge=n,this.ze=new Map,this.je=Ia(),this.Je=ku(),this.He=ku(),this.Ye=new tt(je)}Ze(n){for(const s of n.be)n.De&&n.De.isFoundDocument()?this.Xe(s,n.De):this.et(s,n.key,n.De);for(const s of n.removedTargetIds)this.et(s,n.key,n.De)}tt(n){this.forEachTarget(n,s=>{const i=this.nt(s);switch(n.state){case 0:this.rt(s)&&i.Le(n.resumeToken);break;case 1:i.Ke(),i.Ne||i.qe(),i.Le(n.resumeToken);break;case 2:i.Ke(),i.Ne||this.removeTarget(s);break;case 3:this.rt(s)&&(i.We(),i.Le(n.resumeToken));break;case 4:this.rt(s)&&(this.it(s),i.Le(n.resumeToken));break;default:ye(56790,{state:n.state})}})}forEachTarget(n,s){n.targetIds.length>0?n.targetIds.forEach(s):this.ze.forEach((i,u)=>{this.rt(u)&&s(u)})}st(n){const s=n.targetId,i=n.Ce.count,u=this.ot(s);if(u){const h=u.target;if(Bd(h))if(i===0){const g=new de(h.path);this.et(s,g,Ht.newNoDocument(g,Te.min()))}else ze(i===1,20013,{expectedCount:i});else{const g=this._t(s);if(g!==i){const y=this.ut(n),_=y?this.ct(y,n,g):1;if(_!==0){this.it(s);const b=_===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(s,b)}}}}}ut(n){const s=n.Ce.unchangedNames;if(!s||!s.bits)return null;const{bits:{bitmap:i="",padding:u=0},hashCount:h=0}=s;let g,y;try{g=ys(i).toUint8Array()}catch(_){if(_ instanceof py)return yr("Decoding the base64 bloom filter in existence filter failed ("+_.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw _}try{y=new df(g,u,h)}catch(_){return yr(_ instanceof Ll?"BloomFilter error: ":"Applying bloom filter failed: ",_),null}return y.ge===0?null:y}ct(n,s,i){return s.Ce.count===i-this.Pt(n,s.targetId)?0:2}Pt(n,s){const i=this.Ge.getRemoteKeysForTarget(s);let u=0;return i.forEach(h=>{const g=this.Ge.ht(),y=`projects/${g.projectId}/databases/${g.database}/documents/${h.path.canonicalString()}`;n.mightContain(y)||(this.et(s,h,null),u++)}),u}Tt(n){const s=new Map;this.ze.forEach((h,g)=>{const y=this.ot(g);if(y){if(h.current&&Bd(y.target)){const _=new de(y.target.path);this.It(_).has(g)||this.Et(g,_)||this.et(g,_,Ht.newNoDocument(_,n))}h.Be&&(s.set(g,h.ke()),h.qe())}});let i=Ce();this.He.forEach((h,g)=>{let y=!0;g.forEachWhile(_=>{const b=this.ot(_);return!b||b.purpose==="TargetPurposeLimboResolution"||(y=!1,!1)}),y&&(i=i.add(h))}),this.je.forEach((h,g)=>g.setReadTime(n));const u=new xc(n,s,this.Ye,this.je,i);return this.je=Ia(),this.Je=ku(),this.He=ku(),this.Ye=new tt(je),u}Xe(n,s){if(!this.rt(n))return;const i=this.Et(n,s.key)?2:0;this.nt(n).Qe(s.key,i),this.je=this.je.insert(s.key,s),this.Je=this.Je.insert(s.key,this.It(s.key).add(n)),this.He=this.He.insert(s.key,this.dt(s.key).add(n))}et(n,s,i){if(!this.rt(n))return;const u=this.nt(n);this.Et(n,s)?u.Qe(s,1):u.$e(s),this.He=this.He.insert(s,this.dt(s).delete(n)),this.He=this.He.insert(s,this.dt(s).add(n)),i&&(this.je=this.je.insert(s,i))}removeTarget(n){this.ze.delete(n)}_t(n){const s=this.nt(n).ke();return this.Ge.getRemoteKeysForTarget(n).size+s.addedDocuments.size-s.removedDocuments.size}Ue(n){this.nt(n).Ue()}nt(n){let s=this.ze.get(n);return s||(s=new S0,this.ze.set(n,s)),s}dt(n){let s=this.He.get(n);return s||(s=new Et(je),this.He=this.He.insert(n,s)),s}It(n){let s=this.Je.get(n);return s||(s=new Et(je),this.Je=this.Je.insert(n,s)),s}rt(n){const s=this.ot(n)!==null;return s||ie("WatchChangeAggregator","Detected inactive target",n),s}ot(n){const s=this.ze.get(n);return s&&s.Ne?null:this.Ge.At(n)}it(n){this.ze.set(n,new S0),this.Ge.getRemoteKeysForTarget(n).forEach(s=>{this.et(n,s,null)})}Et(n,s){return this.Ge.getRemoteKeysForTarget(n).has(s)}}function ku(){return new tt(de.comparator)}function N0(){return new tt(de.comparator)}const mT={asc:"ASCENDING",desc:"DESCENDING"},gT={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},pT={and:"AND",or:"OR"};class yT{constructor(n,s){this.databaseId=n,this.useProto3Json=s}}function Hd(l,n){return l.useProto3Json||hc(n)?n:{value:n}}function ic(l,n){return l.useProto3Json?`${new Date(1e3*n.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+n.nanoseconds).slice(-9)}Z`:{seconds:""+n.seconds,nanos:n.nanoseconds}}function Fy(l,n){return l.useProto3Json?n.toBase64():n.toUint8Array()}function xT(l,n){return ic(l,n.toTimestamp())}function $n(l){return ze(!!l,49232),Te.fromTimestamp(function(s){const i=ps(s);return new Xe(i.seconds,i.nanos)}(l))}function ff(l,n){return Qd(l,n).canonicalString()}function Qd(l,n){const s=function(u){return new et(["projects",u.projectId,"databases",u.database])}(l).child("documents");return n===void 0?s:s.child(n)}function Yy(l){const n=et.fromString(l);return ze($y(n),10190,{key:n.toString()}),n}function Fd(l,n){return ff(l.databaseId,n.path)}function jd(l,n){const s=Yy(n);if(s.get(1)!==l.databaseId.projectId)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+l.databaseId.projectId);if(s.get(3)!==l.databaseId.database)throw new ce(W.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+l.databaseId.database);return new de(Xy(s))}function Ky(l,n){return ff(l.databaseId,n)}function vT(l){const n=Yy(l);return n.length===4?et.emptyPath():Xy(n)}function Yd(l){return new et(["projects",l.databaseId.projectId,"databases",l.databaseId.database]).canonicalString()}function Xy(l){return ze(l.length>4&&l.get(4)==="documents",29091,{key:l.toString()}),l.popFirst(5)}function R0(l,n,s){return{name:Fd(l,n),fields:s.value.mapValue.fields}}function bT(l,n){let s;if("targetChange"in n){n.targetChange;const i=function(b){return b==="NO_CHANGE"?0:b==="ADD"?1:b==="REMOVE"?2:b==="CURRENT"?3:b==="RESET"?4:ye(39313,{state:b})}(n.targetChange.targetChangeType||"NO_CHANGE"),u=n.targetChange.targetIds||[],h=function(b,w){return b.useProto3Json?(ze(w===void 0||typeof w=="string",58123),Pt.fromBase64String(w||"")):(ze(w===void 0||w instanceof Buffer||w instanceof Uint8Array,16193),Pt.fromUint8Array(w||new Uint8Array))}(l,n.targetChange.resumeToken),g=n.targetChange.cause,y=g&&function(b){const w=b.code===void 0?W.UNKNOWN:Gy(b.code);return new ce(w,b.message||"")}(g);s=new Qy(i,u,h,y||null)}else if("documentChange"in n){n.documentChange;const i=n.documentChange;i.document,i.document.name,i.document.updateTime;const u=jd(l,i.document.name),h=$n(i.document.updateTime),g=i.document.createTime?$n(i.document.createTime):Te.min(),y=new wn({mapValue:{fields:i.document.fields}}),_=Ht.newFoundDocument(u,h,g,y),b=i.targetIds||[],w=i.removedTargetIds||[];s=new Fu(b,w,_.key,_)}else if("documentDelete"in n){n.documentDelete;const i=n.documentDelete;i.document;const u=jd(l,i.document),h=i.readTime?$n(i.readTime):Te.min(),g=Ht.newNoDocument(u,h),y=i.removedTargetIds||[];s=new Fu([],y,g.key,g)}else if("documentRemove"in n){n.documentRemove;const i=n.documentRemove;i.document;const u=jd(l,i.document),h=i.removedTargetIds||[];s=new Fu([],h,u,null)}else{if(!("filter"in n))return ye(11601,{Rt:n});{n.filter;const i=n.filter;i.targetId;const{count:u=0,unchangedNames:h}=i,g=new uT(u,h),y=i.targetId;s=new Hy(y,g)}}return s}function _T(l,n){let s;if(n instanceof ao)s={update:R0(l,n.key,n.value)};else if(n instanceof By)s={delete:Fd(l,n.key)};else if(n instanceof gi)s={update:R0(l,n.key,n.data),updateMask:CT(n.fieldMask)};else{if(!(n instanceof rT))return ye(16599,{Vt:n.type});s={verify:Fd(l,n.key)}}return n.fieldTransforms.length>0&&(s.updateTransforms=n.fieldTransforms.map(i=>function(h,g){const y=g.transform;if(y instanceof ac)return{fieldPath:g.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(y instanceof Wl)return{fieldPath:g.field.canonicalString(),appendMissingElements:{values:y.elements}};if(y instanceof eo)return{fieldPath:g.field.canonicalString(),removeAllFromArray:{values:y.elements}};if(y instanceof sc)return{fieldPath:g.field.canonicalString(),increment:y.Ae};throw ye(20930,{transform:g.transform})}(0,i))),n.precondition.isNone||(s.currentDocument=function(u,h){return h.updateTime!==void 0?{updateTime:xT(u,h.updateTime)}:h.exists!==void 0?{exists:h.exists}:ye(27497)}(l,n.precondition)),s}function TT(l,n){return l&&l.length>0?(ze(n!==void 0,14353),l.map(s=>function(u,h){let g=u.updateTime?$n(u.updateTime):$n(h);return g.isEqual(Te.min())&&(g=$n(h)),new aT(g,u.transformResults||[])}(s,n))):[]}function wT(l,n){return{documents:[Ky(l,n.path)]}}function ET(l,n){const s={structuredQuery:{}},i=n.path;let u;n.collectionGroup!==null?(u=i,s.structuredQuery.from=[{collectionId:n.collectionGroup,allDescendants:!0}]):(u=i.popLast(),s.structuredQuery.from=[{collectionId:i.lastSegment()}]),s.parent=Ky(l,u);const h=function(b){if(b.length!==0)return Jy(aa.create(b,"and"))}(n.filters);h&&(s.structuredQuery.where=h);const g=function(b){if(b.length!==0)return b.map(w=>function(O){return{field:hr(O.field),direction:NT(O.dir)}}(w))}(n.orderBy);g&&(s.structuredQuery.orderBy=g);const y=Hd(l,n.limit);return y!==null&&(s.structuredQuery.limit=y),n.startAt&&(s.structuredQuery.startAt=function(b){return{before:b.inclusive,values:b.position}}(n.startAt)),n.endAt&&(s.structuredQuery.endAt=function(b){return{before:!b.inclusive,values:b.position}}(n.endAt)),{ft:s,parent:u}}function AT(l){let n=vT(l.parent);const s=l.structuredQuery,i=s.from?s.from.length:0;let u=null;if(i>0){ze(i===1,65062);const w=s.from[0];w.allDescendants?u=w.collectionId:n=n.child(w.collectionId)}let h=[];s.where&&(h=function(R){const O=Zy(R);return O instanceof aa&&Sy(O)?O.getFilters():[O]}(s.where));let g=[];s.orderBy&&(g=function(R){return R.map(O=>function($){return new nc(dr($.field),function(K){switch(K){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}($.direction))}(O))}(s.orderBy));let y=null;s.limit&&(y=function(R){let O;return O=typeof R=="object"?R.value:R,hc(O)?null:O}(s.limit));let _=null;s.startAt&&(_=function(R){const O=!!R.before,G=R.values||[];return new tc(G,O)}(s.startAt));let b=null;return s.endAt&&(b=function(R){const O=!R.before,G=R.values||[];return new tc(G,O)}(s.endAt)),G_(n,u,g,h,y,"F",_,b)}function ST(l,n){const s=function(u){switch(u){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ye(28987,{purpose:u})}}(n.purpose);return s==null?null:{"goog-listen-tags":s}}function Zy(l){return l.unaryFilter!==void 0?function(s){switch(s.unaryFilter.op){case"IS_NAN":const i=dr(s.unaryFilter.field);return wt.create(i,"==",{doubleValue:NaN});case"IS_NULL":const u=dr(s.unaryFilter.field);return wt.create(u,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const h=dr(s.unaryFilter.field);return wt.create(h,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const g=dr(s.unaryFilter.field);return wt.create(g,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return ye(61313);default:return ye(60726)}}(l):l.fieldFilter!==void 0?function(s){return wt.create(dr(s.fieldFilter.field),function(u){switch(u){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return ye(58110);default:return ye(50506)}}(s.fieldFilter.op),s.fieldFilter.value)}(l):l.compositeFilter!==void 0?function(s){return aa.create(s.compositeFilter.filters.map(i=>Zy(i)),function(u){switch(u){case"AND":return"and";case"OR":return"or";default:return ye(1026)}}(s.compositeFilter.op))}(l):ye(30097,{filter:l})}function NT(l){return mT[l]}function RT(l){return gT[l]}function jT(l){return pT[l]}function hr(l){return{fieldPath:l.canonicalString()}}function dr(l){return zt.fromServerFormat(l.fieldPath)}function Jy(l){return l instanceof wt?function(s){if(s.op==="=="){if(g0(s.value))return{unaryFilter:{field:hr(s.field),op:"IS_NAN"}};if(m0(s.value))return{unaryFilter:{field:hr(s.field),op:"IS_NULL"}}}else if(s.op==="!="){if(g0(s.value))return{unaryFilter:{field:hr(s.field),op:"IS_NOT_NAN"}};if(m0(s.value))return{unaryFilter:{field:hr(s.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:hr(s.field),op:RT(s.op),value:s.value}}}(l):l instanceof aa?function(s){const i=s.getFilters().map(u=>Jy(u));return i.length===1?i[0]:{compositeFilter:{op:jT(s.op),filters:i}}}(l):ye(54877,{filter:l})}function CT(l){const n=[];return l.fields.forEach(s=>n.push(s.canonicalString())),{fieldPaths:n}}function $y(l){return l.length>=4&&l.get(0)==="projects"&&l.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ds{constructor(n,s,i,u,h=Te.min(),g=Te.min(),y=Pt.EMPTY_BYTE_STRING,_=null){this.target=n,this.targetId=s,this.purpose=i,this.sequenceNumber=u,this.snapshotVersion=h,this.lastLimboFreeSnapshotVersion=g,this.resumeToken=y,this.expectedCount=_}withSequenceNumber(n){return new ds(this.target,this.targetId,this.purpose,n,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(n,s){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,n,null)}withExpectedCount(n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,n)}withLastLimboFreeSnapshotVersion(n){return new ds(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,n,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VT{constructor(n){this.yt=n}}function DT(l){const n=AT({parent:l.parent,structuredQuery:l.structuredQuery});return l.limitType==="LAST"?Gd(n,n.limit,"L"):n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IT{constructor(){this.Cn=new MT}addToCollectionParentIndex(n,s){return this.Cn.add(s),Z.resolve()}getCollectionParents(n,s){return Z.resolve(this.Cn.getEntries(s))}addFieldIndex(n,s){return Z.resolve()}deleteFieldIndex(n,s){return Z.resolve()}deleteAllFieldIndexes(n){return Z.resolve()}createTargetIndexes(n,s){return Z.resolve()}getDocumentsMatchingTarget(n,s){return Z.resolve(null)}getIndexType(n,s){return Z.resolve(0)}getFieldIndexes(n,s){return Z.resolve([])}getNextCollectionGroupToUpdate(n){return Z.resolve(null)}getMinOffset(n,s){return Z.resolve(gs.min())}getMinOffsetFromCollectionGroup(n,s){return Z.resolve(gs.min())}updateCollectionGroup(n,s,i){return Z.resolve()}updateIndexEntries(n,s){return Z.resolve()}}class MT{constructor(){this.index={}}add(n){const s=n.lastSegment(),i=n.popLast(),u=this.index[s]||new Et(et.comparator),h=!u.has(i);return this.index[s]=u.add(i),h}has(n){const s=n.lastSegment(),i=n.popLast(),u=this.index[s];return u&&u.has(i)}getEntries(n){return(this.index[n]||new Et(et.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},Wy=41943040;class $t{static withCacheSize(n){return new $t(n,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(n,s,i){this.cacheSizeCollectionThreshold=n,this.percentileToCollect=s,this.maximumSequenceNumbersToCollect=i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$t.DEFAULT_COLLECTION_PERCENTILE=10,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,$t.DEFAULT=new $t(Wy,$t.DEFAULT_COLLECTION_PERCENTILE,$t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),$t.DISABLED=new $t(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _r{constructor(n){this.ar=n}next(){return this.ar+=2,this.ar}static ur(){return new _r(0)}static cr(){return new _r(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C0="LruGarbageCollector",OT=1048576;function V0([l,n],[s,i]){const u=je(l,s);return u===0?je(n,i):u}class kT{constructor(n){this.Ir=n,this.buffer=new Et(V0),this.Er=0}dr(){return++this.Er}Ar(n){const s=[n,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(s);else{const i=this.buffer.last();V0(s,i)<0&&(this.buffer=this.buffer.delete(i).add(s))}}get maxValue(){return this.buffer.last()[0]}}class UT{constructor(n,s,i){this.garbageCollector=n,this.asyncQueue=s,this.localStore=i,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(n){ie(C0,`Garbage collection scheduled in ${n}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",n,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(s){Ar(s)?ie(C0,"Ignoring IndexedDB error during garbage collection: ",s):await Er(s)}await this.Vr(3e5)})}}class zT{constructor(n,s){this.mr=n,this.params=s}calculateTargetCount(n,s){return this.mr.gr(n).next(i=>Math.floor(s/100*i))}nthSequenceNumber(n,s){if(s===0)return Z.resolve(cc.ce);const i=new kT(s);return this.mr.forEachTarget(n,u=>i.Ar(u.sequenceNumber)).next(()=>this.mr.pr(n,u=>i.Ar(u))).next(()=>i.maxValue)}removeTargets(n,s,i){return this.mr.removeTargets(n,s,i)}removeOrphanedDocuments(n,s){return this.mr.removeOrphanedDocuments(n,s)}collect(n,s){return this.params.cacheSizeCollectionThreshold===-1?(ie("LruGarbageCollector","Garbage collection skipped; disabled"),Z.resolve(j0)):this.getCacheSize(n).next(i=>i<this.params.cacheSizeCollectionThreshold?(ie("LruGarbageCollector",`Garbage collection skipped; Cache size ${i} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),j0):this.yr(n,s))}getCacheSize(n){return this.mr.getCacheSize(n)}yr(n,s){let i,u,h,g,y,_,b;const w=Date.now();return this.calculateTargetCount(n,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ie("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),u=this.params.maximumSequenceNumbersToCollect):u=R,g=Date.now(),this.nthSequenceNumber(n,u))).next(R=>(i=R,y=Date.now(),this.removeTargets(n,i,s))).next(R=>(h=R,_=Date.now(),this.removeOrphanedDocuments(n,i))).next(R=>(b=Date.now(),ur()<=Ca.DEBUG&&ie("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${g-w}ms
	Determined least recently used ${u} in `+(y-g)+`ms
	Removed ${h} targets in `+(_-y)+`ms
	Removed ${R} documents in `+(b-_)+`ms
Total Duration: ${b-w}ms`),Z.resolve({didRun:!0,sequenceNumbersCollected:u,targetsRemoved:h,documentsRemoved:R})))}}function PT(l,n){return new zT(l,n)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LT{constructor(){this.changes=new mi(n=>n.toString(),(n,s)=>n.isEqual(s)),this.changesApplied=!1}addEntry(n){this.assertNotApplied(),this.changes.set(n.key,n)}removeEntry(n,s){this.assertNotApplied(),this.changes.set(n,Ht.newInvalidDocument(n).setReadTime(s))}getEntry(n,s){this.assertNotApplied();const i=this.changes.get(s);return i!==void 0?Z.resolve(i):this.getFromCache(n,s)}getEntries(n,s){return this.getAllFromCache(n,s)}apply(n){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(n)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(n,s){this.overlayedDocument=n,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(n,s,i,u){this.remoteDocumentCache=n,this.mutationQueue=s,this.documentOverlayCache=i,this.indexManager=u}getDocument(n,s){let i=null;return this.documentOverlayCache.getOverlay(n,s).next(u=>(i=u,this.remoteDocumentCache.getEntry(n,s))).next(u=>(i!==null&&Ql(i.mutation,u,Dn.empty(),Xe.now()),u))}getDocuments(n,s){return this.remoteDocumentCache.getEntries(n,s).next(i=>this.getLocalViewOfDocuments(n,i,Ce()).next(()=>i))}getLocalViewOfDocuments(n,s,i=Ce()){const u=ri();return this.populateOverlays(n,u,s).next(()=>this.computeViews(n,s,u,i).next(h=>{let g=Pl();return h.forEach((y,_)=>{g=g.insert(y,_.overlayedDocument)}),g}))}getOverlayedDocuments(n,s){const i=ri();return this.populateOverlays(n,i,s).next(()=>this.computeViews(n,s,i,Ce()))}populateOverlays(n,s,i){const u=[];return i.forEach(h=>{s.has(h)||u.push(h)}),this.documentOverlayCache.getOverlays(n,u).next(h=>{h.forEach((g,y)=>{s.set(g,y)})})}computeViews(n,s,i,u){let h=Ia();const g=Hl(),y=function(){return Hl()}();return s.forEach((_,b)=>{const w=i.get(b.key);u.has(b.key)&&(w===void 0||w.mutation instanceof gi)?h=h.insert(b.key,b):w!==void 0?(g.set(b.key,w.mutation.getFieldMask()),Ql(w.mutation,b,w.mutation.getFieldMask(),Xe.now())):g.set(b.key,Dn.empty())}),this.recalculateAndSaveOverlays(n,h).next(_=>(_.forEach((b,w)=>g.set(b,w)),s.forEach((b,w)=>y.set(b,new qT(w,g.get(b)??null))),y))}recalculateAndSaveOverlays(n,s){const i=Hl();let u=new tt((g,y)=>g-y),h=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(n,s).next(g=>{for(const y of g)y.keys().forEach(_=>{const b=s.get(_);if(b===null)return;let w=i.get(_)||Dn.empty();w=y.applyToLocalView(b,w),i.set(_,w);const R=(u.get(y.batchId)||Ce()).add(_);u=u.insert(y.batchId,R)})}).next(()=>{const g=[],y=u.getReverseIterator();for(;y.hasNext();){const _=y.getNext(),b=_.key,w=_.value,R=My();w.forEach(O=>{if(!h.has(O)){const G=Ly(s.get(O),i.get(O));G!==null&&R.set(O,G),h=h.add(O)}}),g.push(this.documentOverlayCache.saveOverlays(n,b,R))}return Z.waitFor(g)}).next(()=>i)}recalculateAndSaveOverlaysForDocumentKeys(n,s){return this.remoteDocumentCache.getEntries(n,s).next(i=>this.recalculateAndSaveOverlays(n,i))}getDocumentsMatchingQuery(n,s,i,u){return function(g){return de.isDocumentKey(g.path)&&g.collectionGroup===null&&g.filters.length===0}(s)?this.getDocumentsMatchingDocumentQuery(n,s.path):H_(s)?this.getDocumentsMatchingCollectionGroupQuery(n,s,i,u):this.getDocumentsMatchingCollectionQuery(n,s,i,u)}getNextDocuments(n,s,i,u){return this.remoteDocumentCache.getAllFromCollectionGroup(n,s,i,u).next(h=>{const g=u-h.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(n,s,i.largestBatchId,u-h.size):Z.resolve(ri());let y=Xl,_=h;return g.next(b=>Z.forEach(b,(w,R)=>(y<R.largestBatchId&&(y=R.largestBatchId),h.get(w)?Z.resolve():this.remoteDocumentCache.getEntry(n,w).next(O=>{_=_.insert(w,O)}))).next(()=>this.populateOverlays(n,b,h)).next(()=>this.computeViews(n,_,b,Ce())).next(w=>({batchId:y,changes:Iy(w)})))})}getDocumentsMatchingDocumentQuery(n,s){return this.getDocument(n,new de(s)).next(i=>{let u=Pl();return i.isFoundDocument()&&(u=u.insert(i.key,i)),u})}getDocumentsMatchingCollectionGroupQuery(n,s,i,u){const h=s.collectionGroup;let g=Pl();return this.indexManager.getCollectionParents(n,h).next(y=>Z.forEach(y,_=>{const b=function(R,O){return new fc(O,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(s,_.child(h));return this.getDocumentsMatchingCollectionQuery(n,b,i,u).next(w=>{w.forEach((R,O)=>{g=g.insert(R,O)})})}).next(()=>g))}getDocumentsMatchingCollectionQuery(n,s,i,u){let h;return this.documentOverlayCache.getOverlaysForCollection(n,s.path,i.largestBatchId).next(g=>(h=g,this.remoteDocumentCache.getDocumentsMatchingQuery(n,s,i,h,u))).next(g=>{h.forEach((_,b)=>{const w=b.getKey();g.get(w)===null&&(g=g.insert(w,Ht.newInvalidDocument(w)))});let y=Pl();return g.forEach((_,b)=>{const w=h.get(_);w!==void 0&&Ql(w.mutation,b,Dn.empty(),Xe.now()),gc(s,b)&&(y=y.insert(_,b))}),y})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(n){this.serializer=n,this.Lr=new Map,this.kr=new Map}getBundleMetadata(n,s){return Z.resolve(this.Lr.get(s))}saveBundleMetadata(n,s){return this.Lr.set(s.id,function(u){return{id:u.id,version:u.version,createTime:$n(u.createTime)}}(s)),Z.resolve()}getNamedQuery(n,s){return Z.resolve(this.kr.get(s))}saveNamedQuery(n,s){return this.kr.set(s.name,function(u){return{name:u.name,query:DT(u.bundledQuery),readTime:$n(u.readTime)}}(s)),Z.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HT{constructor(){this.overlays=new tt(de.comparator),this.qr=new Map}getOverlay(n,s){return Z.resolve(this.overlays.get(s))}getOverlays(n,s){const i=ri();return Z.forEach(s,u=>this.getOverlay(n,u).next(h=>{h!==null&&i.set(u,h)})).next(()=>i)}saveOverlays(n,s,i){return i.forEach((u,h)=>{this.St(n,s,h)}),Z.resolve()}removeOverlaysForBatchId(n,s,i){const u=this.qr.get(i);return u!==void 0&&(u.forEach(h=>this.overlays=this.overlays.remove(h)),this.qr.delete(i)),Z.resolve()}getOverlaysForCollection(n,s,i){const u=ri(),h=s.length+1,g=new de(s.child("")),y=this.overlays.getIteratorFrom(g);for(;y.hasNext();){const _=y.getNext().value,b=_.getKey();if(!s.isPrefixOf(b.path))break;b.path.length===h&&_.largestBatchId>i&&u.set(_.getKey(),_)}return Z.resolve(u)}getOverlaysForCollectionGroup(n,s,i,u){let h=new tt((b,w)=>b-w);const g=this.overlays.getIterator();for(;g.hasNext();){const b=g.getNext().value;if(b.getKey().getCollectionGroup()===s&&b.largestBatchId>i){let w=h.get(b.largestBatchId);w===null&&(w=ri(),h=h.insert(b.largestBatchId,w)),w.set(b.getKey(),b)}}const y=ri(),_=h.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,w)=>y.set(b,w)),!(y.size()>=u)););return Z.resolve(y)}St(n,s,i){const u=this.overlays.get(i.key);if(u!==null){const g=this.qr.get(u.largestBatchId).delete(i.key);this.qr.set(u.largestBatchId,g)}this.overlays=this.overlays.insert(i.key,new oT(s,i));let h=this.qr.get(s);h===void 0&&(h=Ce(),this.qr.set(s,h)),this.qr.set(s,h.add(i.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(n){return Z.resolve(this.sessionToken)}setSessionToken(n,s){return this.sessionToken=s,Z.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mf{constructor(){this.Qr=new Et(Ct.$r),this.Ur=new Et(Ct.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(n,s){const i=new Ct(n,s);this.Qr=this.Qr.add(i),this.Ur=this.Ur.add(i)}Wr(n,s){n.forEach(i=>this.addReference(i,s))}removeReference(n,s){this.Gr(new Ct(n,s))}zr(n,s){n.forEach(i=>this.removeReference(i,s))}jr(n){const s=new de(new et([])),i=new Ct(s,n),u=new Ct(s,n+1),h=[];return this.Ur.forEachInRange([i,u],g=>{this.Gr(g),h.push(g.key)}),h}Jr(){this.Qr.forEach(n=>this.Gr(n))}Gr(n){this.Qr=this.Qr.delete(n),this.Ur=this.Ur.delete(n)}Hr(n){const s=new de(new et([])),i=new Ct(s,n),u=new Ct(s,n+1);let h=Ce();return this.Ur.forEachInRange([i,u],g=>{h=h.add(g.key)}),h}containsKey(n){const s=new Ct(n,0),i=this.Qr.firstAfterOrEqual(s);return i!==null&&n.isEqual(i.key)}}class Ct{constructor(n,s){this.key=n,this.Yr=s}static $r(n,s){return de.comparator(n.key,s.key)||je(n.Yr,s.Yr)}static Kr(n,s){return je(n.Yr,s.Yr)||de.comparator(n.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FT{constructor(n,s){this.indexManager=n,this.referenceDelegate=s,this.mutationQueue=[],this.tr=1,this.Zr=new Et(Ct.$r)}checkEmpty(n){return Z.resolve(this.mutationQueue.length===0)}addMutationBatch(n,s,i,u){const h=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const g=new lT(h,s,i,u);this.mutationQueue.push(g);for(const y of u)this.Zr=this.Zr.add(new Ct(y.key,h)),this.indexManager.addToCollectionParentIndex(n,y.key.path.popLast());return Z.resolve(g)}lookupMutationBatch(n,s){return Z.resolve(this.Xr(s))}getNextMutationBatchAfterBatchId(n,s){const i=s+1,u=this.ei(i),h=u<0?0:u;return Z.resolve(this.mutationQueue.length>h?this.mutationQueue[h]:null)}getHighestUnacknowledgedBatchId(){return Z.resolve(this.mutationQueue.length===0?af:this.tr-1)}getAllMutationBatches(n){return Z.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(n,s){const i=new Ct(s,0),u=new Ct(s,Number.POSITIVE_INFINITY),h=[];return this.Zr.forEachInRange([i,u],g=>{const y=this.Xr(g.Yr);h.push(y)}),Z.resolve(h)}getAllMutationBatchesAffectingDocumentKeys(n,s){let i=new Et(je);return s.forEach(u=>{const h=new Ct(u,0),g=new Ct(u,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([h,g],y=>{i=i.add(y.Yr)})}),Z.resolve(this.ti(i))}getAllMutationBatchesAffectingQuery(n,s){const i=s.path,u=i.length+1;let h=i;de.isDocumentKey(h)||(h=h.child(""));const g=new Ct(new de(h),0);let y=new Et(je);return this.Zr.forEachWhile(_=>{const b=_.key.path;return!!i.isPrefixOf(b)&&(b.length===u&&(y=y.add(_.Yr)),!0)},g),Z.resolve(this.ti(y))}ti(n){const s=[];return n.forEach(i=>{const u=this.Xr(i);u!==null&&s.push(u)}),s}removeMutationBatch(n,s){ze(this.ni(s.batchId,"removed")===0,55003),this.mutationQueue.shift();let i=this.Zr;return Z.forEach(s.mutations,u=>{const h=new Ct(u.key,s.batchId);return i=i.delete(h),this.referenceDelegate.markPotentiallyOrphaned(n,u.key)}).next(()=>{this.Zr=i})}ir(n){}containsKey(n,s){const i=new Ct(s,0),u=this.Zr.firstAfterOrEqual(i);return Z.resolve(s.isEqual(u&&u.key))}performConsistencyCheck(n){return this.mutationQueue.length,Z.resolve()}ni(n,s){return this.ei(n)}ei(n){return this.mutationQueue.length===0?0:n-this.mutationQueue[0].batchId}Xr(n){const s=this.ei(n);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(n){this.ri=n,this.docs=function(){return new tt(de.comparator)}(),this.size=0}setIndexManager(n){this.indexManager=n}addEntry(n,s){const i=s.key,u=this.docs.get(i),h=u?u.size:0,g=this.ri(s);return this.docs=this.docs.insert(i,{document:s.mutableCopy(),size:g}),this.size+=g-h,this.indexManager.addToCollectionParentIndex(n,i.path.popLast())}removeEntry(n){const s=this.docs.get(n);s&&(this.docs=this.docs.remove(n),this.size-=s.size)}getEntry(n,s){const i=this.docs.get(s);return Z.resolve(i?i.document.mutableCopy():Ht.newInvalidDocument(s))}getEntries(n,s){let i=Ia();return s.forEach(u=>{const h=this.docs.get(u);i=i.insert(u,h?h.document.mutableCopy():Ht.newInvalidDocument(u))}),Z.resolve(i)}getDocumentsMatchingQuery(n,s,i,u){let h=Ia();const g=s.path,y=new de(g.child("__id-9223372036854775808__")),_=this.docs.getIteratorFrom(y);for(;_.hasNext();){const{key:b,value:{document:w}}=_.getNext();if(!g.isPrefixOf(b.path))break;b.path.length>g.length+1||__(b_(w),i)<=0||(u.has(w.key)||gc(s,w))&&(h=h.insert(w.key,w.mutableCopy()))}return Z.resolve(h)}getAllFromCollectionGroup(n,s,i,u){ye(9500)}ii(n,s){return Z.forEach(this.docs,i=>s(i))}newChangeBuffer(n){return new KT(this)}getSize(n){return Z.resolve(this.size)}}class KT extends LT{constructor(n){super(),this.Nr=n}applyChanges(n){const s=[];return this.changes.forEach((i,u)=>{u.isValidDocument()?s.push(this.Nr.addEntry(n,u)):this.Nr.removeEntry(i)}),Z.waitFor(s)}getFromCache(n,s){return this.Nr.getEntry(n,s)}getAllFromCache(n,s){return this.Nr.getEntries(n,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(n){this.persistence=n,this.si=new mi(s=>lf(s),of),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.oi=0,this._i=new mf,this.targetCount=0,this.ai=_r.ur()}forEachTarget(n,s){return this.si.forEach((i,u)=>s(u)),Z.resolve()}getLastRemoteSnapshotVersion(n){return Z.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(n){return Z.resolve(this.oi)}allocateTargetId(n){return this.highestTargetId=this.ai.next(),Z.resolve(this.highestTargetId)}setTargetsMetadata(n,s,i){return i&&(this.lastRemoteSnapshotVersion=i),s>this.oi&&(this.oi=s),Z.resolve()}Pr(n){this.si.set(n.target,n);const s=n.targetId;s>this.highestTargetId&&(this.ai=new _r(s),this.highestTargetId=s),n.sequenceNumber>this.oi&&(this.oi=n.sequenceNumber)}addTargetData(n,s){return this.Pr(s),this.targetCount+=1,Z.resolve()}updateTargetData(n,s){return this.Pr(s),Z.resolve()}removeTargetData(n,s){return this.si.delete(s.target),this._i.jr(s.targetId),this.targetCount-=1,Z.resolve()}removeTargets(n,s,i){let u=0;const h=[];return this.si.forEach((g,y)=>{y.sequenceNumber<=s&&i.get(y.targetId)===null&&(this.si.delete(g),h.push(this.removeMatchingKeysForTargetId(n,y.targetId)),u++)}),Z.waitFor(h).next(()=>u)}getTargetCount(n){return Z.resolve(this.targetCount)}getTargetData(n,s){const i=this.si.get(s)||null;return Z.resolve(i)}addMatchingKeys(n,s,i){return this._i.Wr(s,i),Z.resolve()}removeMatchingKeys(n,s,i){this._i.zr(s,i);const u=this.persistence.referenceDelegate,h=[];return u&&s.forEach(g=>{h.push(u.markPotentiallyOrphaned(n,g))}),Z.waitFor(h)}removeMatchingKeysForTargetId(n,s){return this._i.jr(s),Z.resolve()}getMatchingKeysForTargetId(n,s){const i=this._i.Hr(s);return Z.resolve(i)}containsKey(n,s){return Z.resolve(this._i.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ex{constructor(n,s){this.ui={},this.overlays={},this.ci=new cc(0),this.li=!1,this.li=!0,this.hi=new QT,this.referenceDelegate=n(this),this.Pi=new XT(this),this.indexManager=new IT,this.remoteDocumentCache=function(u){return new YT(u)}(i=>this.referenceDelegate.Ti(i)),this.serializer=new VT(s),this.Ii=new GT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(n){return this.indexManager}getDocumentOverlayCache(n){let s=this.overlays[n.toKey()];return s||(s=new HT,this.overlays[n.toKey()]=s),s}getMutationQueue(n,s){let i=this.ui[n.toKey()];return i||(i=new FT(s,this.referenceDelegate),this.ui[n.toKey()]=i),i}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(n,s,i){ie("MemoryPersistence","Starting transaction:",n);const u=new ZT(this.ci.next());return this.referenceDelegate.Ei(),i(u).next(h=>this.referenceDelegate.di(u).next(()=>h)).toPromise().then(h=>(u.raiseOnCommittedEvent(),h))}Ai(n,s){return Z.or(Object.values(this.ui).map(i=>()=>i.containsKey(n,s)))}}class ZT extends w_{constructor(n){super(),this.currentSequenceNumber=n}}class gf{constructor(n){this.persistence=n,this.Ri=new mf,this.Vi=null}static mi(n){return new gf(n)}get fi(){if(this.Vi)return this.Vi;throw ye(60996)}addReference(n,s,i){return this.Ri.addReference(i,s),this.fi.delete(i.toString()),Z.resolve()}removeReference(n,s,i){return this.Ri.removeReference(i,s),this.fi.add(i.toString()),Z.resolve()}markPotentiallyOrphaned(n,s){return this.fi.add(s.toString()),Z.resolve()}removeTarget(n,s){this.Ri.jr(s.targetId).forEach(u=>this.fi.add(u.toString()));const i=this.persistence.getTargetCache();return i.getMatchingKeysForTargetId(n,s.targetId).next(u=>{u.forEach(h=>this.fi.add(h.toString()))}).next(()=>i.removeTargetData(n,s))}Ei(){this.Vi=new Set}di(n){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Z.forEach(this.fi,i=>{const u=de.fromPath(i);return this.gi(n,u).next(h=>{h||s.removeEntry(u,Te.min())})}).next(()=>(this.Vi=null,s.apply(n)))}updateLimboDocument(n,s){return this.gi(n,s).next(i=>{i?this.fi.delete(s.toString()):this.fi.add(s.toString())})}Ti(n){return 0}gi(n,s){return Z.or([()=>Z.resolve(this.Ri.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(n,s),()=>this.persistence.Ai(n,s)])}}class rc{constructor(n,s){this.persistence=n,this.pi=new mi(i=>S_(i.path),(i,u)=>i.isEqual(u)),this.garbageCollector=PT(this,s)}static mi(n,s){return new rc(n,s)}Ei(){}di(n){return Z.resolve()}forEachTarget(n,s){return this.persistence.getTargetCache().forEachTarget(n,s)}gr(n){const s=this.wr(n);return this.persistence.getTargetCache().getTargetCount(n).next(i=>s.next(u=>i+u))}wr(n){let s=0;return this.pr(n,i=>{s++}).next(()=>s)}pr(n,s){return Z.forEach(this.pi,(i,u)=>this.br(n,i,u).next(h=>h?Z.resolve():s(u)))}removeTargets(n,s,i){return this.persistence.getTargetCache().removeTargets(n,s,i)}removeOrphanedDocuments(n,s){let i=0;const u=this.persistence.getRemoteDocumentCache(),h=u.newChangeBuffer();return u.ii(n,g=>this.br(n,g,s).next(y=>{y||(i++,h.removeEntry(g,Te.min()))})).next(()=>h.apply(n)).next(()=>i)}markPotentiallyOrphaned(n,s){return this.pi.set(s,n.currentSequenceNumber),Z.resolve()}removeTarget(n,s){const i=s.withSequenceNumber(n.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(n,i)}addReference(n,s,i){return this.pi.set(i,n.currentSequenceNumber),Z.resolve()}removeReference(n,s,i){return this.pi.set(i,n.currentSequenceNumber),Z.resolve()}updateLimboDocument(n,s){return this.pi.set(s,n.currentSequenceNumber),Z.resolve()}Ti(n){let s=n.key.toString().length;return n.isFoundDocument()&&(s+=Gu(n.data.value)),s}br(n,s,i){return Z.or([()=>this.persistence.Ai(n,s),()=>this.persistence.getTargetCache().containsKey(n,s),()=>{const u=this.pi.get(s);return Z.resolve(u!==void 0&&u>i)}])}getCacheSize(n){return this.persistence.getRemoteDocumentCache().getSize(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pf{constructor(n,s,i,u){this.targetId=n,this.fromCache=s,this.Es=i,this.ds=u}static As(n,s){let i=Ce(),u=Ce();for(const h of s.docChanges)switch(h.type){case 0:i=i.add(h.doc.key);break;case 1:u=u.add(h.doc.key)}return new pf(n,s.fromCache,i,u)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(n){this._documentReadCount+=n}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=function(){return zb()?8:E_(Pb())>0?6:4}()}initialize(n,s){this.ps=n,this.indexManager=s,this.Rs=!0}getDocumentsMatchingQuery(n,s,i,u){const h={result:null};return this.ys(n,s).next(g=>{h.result=g}).next(()=>{if(!h.result)return this.ws(n,s,u,i).next(g=>{h.result=g})}).next(()=>{if(h.result)return;const g=new JT;return this.Ss(n,s,g).next(y=>{if(h.result=y,this.Vs)return this.bs(n,s,g,y.size)})}).next(()=>h.result)}bs(n,s,i,u){return i.documentReadCount<this.fs?(ur()<=Ca.DEBUG&&ie("QueryEngine","SDK will not create cache indexes for query:",cr(s),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),Z.resolve()):(ur()<=Ca.DEBUG&&ie("QueryEngine","Query:",cr(s),"scans",i.documentReadCount,"local documents and returns",u,"documents as results."),i.documentReadCount>this.gs*u?(ur()<=Ca.DEBUG&&ie("QueryEngine","The SDK decides to create cache indexes for query:",cr(s),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(n,Jn(s))):Z.resolve())}ys(n,s){if(v0(s))return Z.resolve(null);let i=Jn(s);return this.indexManager.getIndexType(n,i).next(u=>u===0?null:(s.limit!==null&&u===1&&(s=Gd(s,null,"F"),i=Jn(s)),this.indexManager.getDocumentsMatchingTarget(n,i).next(h=>{const g=Ce(...h);return this.ps.getDocuments(n,g).next(y=>this.indexManager.getMinOffset(n,i).next(_=>{const b=this.Ds(s,y);return this.Cs(s,b,g,_.readTime)?this.ys(n,Gd(s,null,"F")):this.vs(n,b,s,_)}))})))}ws(n,s,i,u){return v0(s)||u.isEqual(Te.min())?Z.resolve(null):this.ps.getDocuments(n,i).next(h=>{const g=this.Ds(s,h);return this.Cs(s,g,i,u)?Z.resolve(null):(ur()<=Ca.DEBUG&&ie("QueryEngine","Re-using previous result from %s to execute query: %s",u.toString(),cr(s)),this.vs(n,g,s,v_(u,Xl)).next(y=>y))})}Ds(n,s){let i=new Et(Vy(n));return s.forEach((u,h)=>{gc(n,h)&&(i=i.add(h))}),i}Cs(n,s,i,u){if(n.limit===null)return!1;if(i.size!==s.size)return!0;const h=n.limitType==="F"?s.last():s.first();return!!h&&(h.hasPendingWrites||h.version.compareTo(u)>0)}Ss(n,s,i){return ur()<=Ca.DEBUG&&ie("QueryEngine","Using full collection scan to execute query:",cr(s)),this.ps.getDocumentsMatchingQuery(n,s,gs.min(),i)}vs(n,s,i,u){return this.ps.getDocumentsMatchingQuery(n,i,u).next(h=>(s.forEach(g=>{h=h.insert(g.key,g)}),h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yf="LocalStore",WT=3e8;class ew{constructor(n,s,i,u){this.persistence=n,this.Fs=s,this.serializer=u,this.Ms=new tt(je),this.xs=new mi(h=>lf(h),of),this.Os=new Map,this.Ns=n.getRemoteDocumentCache(),this.Pi=n.getTargetCache(),this.Ii=n.getBundleCache(),this.Bs(i)}Bs(n){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(n),this.indexManager=this.persistence.getIndexManager(n),this.mutationQueue=this.persistence.getMutationQueue(n,this.indexManager),this.localDocuments=new BT(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(n){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>n.collect(s,this.Ms))}}function tw(l,n,s,i){return new ew(l,n,s,i)}async function tx(l,n){const s=we(l);return await s.persistence.runTransaction("Handle user change","readonly",i=>{let u;return s.mutationQueue.getAllMutationBatches(i).next(h=>(u=h,s.Bs(n),s.mutationQueue.getAllMutationBatches(i))).next(h=>{const g=[],y=[];let _=Ce();for(const b of u){g.push(b.batchId);for(const w of b.mutations)_=_.add(w.key)}for(const b of h){y.push(b.batchId);for(const w of b.mutations)_=_.add(w.key)}return s.localDocuments.getDocuments(i,_).next(b=>({Ls:b,removedBatchIds:g,addedBatchIds:y}))})})}function nw(l,n){const s=we(l);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",i=>{const u=n.batch.keys(),h=s.Ns.newChangeBuffer({trackRemovals:!0});return function(y,_,b,w){const R=b.batch,O=R.keys();let G=Z.resolve();return O.forEach($=>{G=G.next(()=>w.getEntry(_,$)).next(F=>{const K=b.docVersions.get($);ze(K!==null,48541),F.version.compareTo(K)<0&&(R.applyToRemoteDocument(F,b),F.isValidDocument()&&(F.setReadTime(b.commitVersion),w.addEntry(F)))})}),G.next(()=>y.mutationQueue.removeMutationBatch(_,R))}(s,i,n,h).next(()=>h.apply(i)).next(()=>s.mutationQueue.performConsistencyCheck(i)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(i,u,n.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(i,function(y){let _=Ce();for(let b=0;b<y.mutationResults.length;++b)y.mutationResults[b].transformResults.length>0&&(_=_.add(y.batch.mutations[b].key));return _}(n))).next(()=>s.localDocuments.getDocuments(i,u))})}function nx(l){const n=we(l);return n.persistence.runTransaction("Get last remote snapshot version","readonly",s=>n.Pi.getLastRemoteSnapshotVersion(s))}function aw(l,n){const s=we(l),i=n.snapshotVersion;let u=s.Ms;return s.persistence.runTransaction("Apply remote event","readwrite-primary",h=>{const g=s.Ns.newChangeBuffer({trackRemovals:!0});u=s.Ms;const y=[];n.targetChanges.forEach((w,R)=>{const O=u.get(R);if(!O)return;y.push(s.Pi.removeMatchingKeys(h,w.removedDocuments,R).next(()=>s.Pi.addMatchingKeys(h,w.addedDocuments,R)));let G=O.withSequenceNumber(h.currentSequenceNumber);n.targetMismatches.get(R)!==null?G=G.withResumeToken(Pt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):w.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(w.resumeToken,i)),u=u.insert(R,G),function(F,K,te){return F.resumeToken.approximateByteSize()===0||K.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=WT?!0:te.addedDocuments.size+te.modifiedDocuments.size+te.removedDocuments.size>0}(O,G,w)&&y.push(s.Pi.updateTargetData(h,G))});let _=Ia(),b=Ce();if(n.documentUpdates.forEach(w=>{n.resolvedLimboDocuments.has(w)&&y.push(s.persistence.referenceDelegate.updateLimboDocument(h,w))}),y.push(sw(h,g,n.documentUpdates).next(w=>{_=w.ks,b=w.qs})),!i.isEqual(Te.min())){const w=s.Pi.getLastRemoteSnapshotVersion(h).next(R=>s.Pi.setTargetsMetadata(h,h.currentSequenceNumber,i));y.push(w)}return Z.waitFor(y).next(()=>g.apply(h)).next(()=>s.localDocuments.getLocalViewOfDocuments(h,_,b)).next(()=>_)}).then(h=>(s.Ms=u,h))}function sw(l,n,s){let i=Ce(),u=Ce();return s.forEach(h=>i=i.add(h)),n.getEntries(l,i).next(h=>{let g=Ia();return s.forEach((y,_)=>{const b=h.get(y);_.isFoundDocument()!==b.isFoundDocument()&&(u=u.add(y)),_.isNoDocument()&&_.version.isEqual(Te.min())?(n.removeEntry(y,_.readTime),g=g.insert(y,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||_.version.compareTo(b.version)===0&&b.hasPendingWrites?(n.addEntry(_),g=g.insert(y,_)):ie(yf,"Ignoring outdated watch update for ",y,". Current version:",b.version," Watch version:",_.version)}),{ks:g,qs:u}})}function iw(l,n){const s=we(l);return s.persistence.runTransaction("Get next mutation batch","readonly",i=>(n===void 0&&(n=af),s.mutationQueue.getNextMutationBatchAfterBatchId(i,n)))}function rw(l,n){const s=we(l);return s.persistence.runTransaction("Allocate target","readwrite",i=>{let u;return s.Pi.getTargetData(i,n).next(h=>h?(u=h,Z.resolve(u)):s.Pi.allocateTargetId(i).next(g=>(u=new ds(n,g,"TargetPurposeListen",i.currentSequenceNumber),s.Pi.addTargetData(i,u).next(()=>u))))}).then(i=>{const u=s.Ms.get(i.targetId);return(u===null||i.snapshotVersion.compareTo(u.snapshotVersion)>0)&&(s.Ms=s.Ms.insert(i.targetId,i),s.xs.set(n,i.targetId)),i})}async function Kd(l,n,s){const i=we(l),u=i.Ms.get(n),h=s?"readwrite":"readwrite-primary";try{s||await i.persistence.runTransaction("Release target",h,g=>i.persistence.referenceDelegate.removeTarget(g,u))}catch(g){if(!Ar(g))throw g;ie(yf,`Failed to update sequence numbers for target ${n}: ${g}`)}i.Ms=i.Ms.remove(n),i.xs.delete(u.target)}function D0(l,n,s){const i=we(l);let u=Te.min(),h=Ce();return i.persistence.runTransaction("Execute query","readwrite",g=>function(_,b,w){const R=we(_),O=R.xs.get(w);return O!==void 0?Z.resolve(R.Ms.get(O)):R.Pi.getTargetData(b,w)}(i,g,Jn(n)).next(y=>{if(y)return u=y.lastLimboFreeSnapshotVersion,i.Pi.getMatchingKeysForTargetId(g,y.targetId).next(_=>{h=_})}).next(()=>i.Fs.getDocumentsMatchingQuery(g,n,s?u:Te.min(),s?h:Ce())).next(y=>(lw(i,F_(n),y),{documents:y,Qs:h})))}function lw(l,n,s){let i=l.Os.get(n)||Te.min();s.forEach((u,h)=>{h.readTime.compareTo(i)>0&&(i=h.readTime)}),l.Os.set(n,i)}class I0{constructor(){this.activeTargetIds=$_()}zs(n){this.activeTargetIds=this.activeTargetIds.add(n)}js(n){this.activeTargetIds=this.activeTargetIds.delete(n)}Gs(){const n={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(n)}}class ow{constructor(){this.Mo=new I0,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(n){}updateMutationState(n,s,i){}addLocalQueryTarget(n,s=!0){return s&&this.Mo.zs(n),this.xo[n]||"not-current"}updateQueryState(n,s,i){this.xo[n]=s}removeLocalQueryTarget(n){this.Mo.js(n)}isLocalQueryTarget(n){return this.Mo.activeTargetIds.has(n)}clearQueryState(n){delete this.xo[n]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(n){return this.Mo.activeTargetIds.has(n)}start(){return this.Mo=new I0,Promise.resolve()}handleUserChange(n,s,i){}setOnlineState(n){}shutdown(){}writeSequenceNumber(n){}notifyBundleLoaded(n){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uw{Oo(n){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0="ConnectivityMonitor";class O0{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(n){this.qo.push(n)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ie(M0,"Network connectivity changed: AVAILABLE");for(const n of this.qo)n(0)}ko(){ie(M0,"Network connectivity changed: UNAVAILABLE");for(const n of this.qo)n(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uu=null;function Xd(){return Uu===null?Uu=function(){return 268435456+Math.round(2147483648*Math.random())}():Uu++,"0x"+Uu.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd="RestConnection",cw={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class hw{get $o(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Uo=s+"://"+n.host,this.Ko=`projects/${i}/databases/${u}`,this.Wo=this.databaseId.database===Wu?`project_id=${i}`:`project_id=${i}&database_id=${u}`}Go(n,s,i,u,h){const g=Xd(),y=this.zo(n,s.toUriEncodedString());ie(Cd,`Sending RPC '${n}' ${g}:`,y,i);const _={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(_,u,h);const{host:b}=new URL(y),w=ay(b);return this.Jo(n,y,_,i,w).then(R=>(ie(Cd,`Received RPC '${n}' ${g}: `,R),R),R=>{throw yr(Cd,`RPC '${n}' ${g} failed with error: `,R,"url: ",y,"request:",i),R})}Ho(n,s,i,u,h,g){return this.Go(n,s,i,u,h)}jo(n,s,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+wr}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>n[h]=u),i&&i.headers.forEach((u,h)=>n[h]=u)}zo(n,s){const i=cw[n];return`${this.Uo}/v1/${s}:${i}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dw{constructor(n){this.Yo=n.Yo,this.Zo=n.Zo}Xo(n){this.e_=n}t_(n){this.n_=n}r_(n){this.i_=n}onMessage(n){this.s_=n}close(){this.Zo()}send(n){this.Yo(n)}o_(){this.e_()}__(){this.n_()}a_(n){this.i_(n)}u_(n){this.s_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bt="WebChannelConnection";class fw extends hw{constructor(n){super(n),this.c_=[],this.forceLongPolling=n.forceLongPolling,this.autoDetectLongPolling=n.autoDetectLongPolling,this.useFetchStreams=n.useFetchStreams,this.longPollingOptions=n.longPollingOptions}Jo(n,s,i,u,h){const g=Xd();return new Promise((y,_)=>{const b=new ry;b.setWithCredentials(!0),b.listenOnce(ly.COMPLETE,()=>{try{switch(b.getLastErrorCode()){case Bu.NO_ERROR:const R=b.getResponseJson();ie(Bt,`XHR for RPC '${n}' ${g} received:`,JSON.stringify(R)),y(R);break;case Bu.TIMEOUT:ie(Bt,`RPC '${n}' ${g} timed out`),_(new ce(W.DEADLINE_EXCEEDED,"Request time out"));break;case Bu.HTTP_ERROR:const O=b.getStatus();if(ie(Bt,`RPC '${n}' ${g} failed with status:`,O,"response text:",b.getResponseText()),O>0){let G=b.getResponseJson();Array.isArray(G)&&(G=G[0]);const $=G?.error;if($&&$.status&&$.message){const F=function(te){const le=te.toLowerCase().replace(/_/g,"-");return Object.values(W).indexOf(le)>=0?le:W.UNKNOWN}($.status);_(new ce(F,$.message))}else _(new ce(W.UNKNOWN,"Server responded with status "+b.getStatus()))}else _(new ce(W.UNAVAILABLE,"Connection failed."));break;default:ye(9055,{l_:n,streamId:g,h_:b.getLastErrorCode(),P_:b.getLastError()})}}finally{ie(Bt,`RPC '${n}' ${g} completed.`)}});const w=JSON.stringify(u);ie(Bt,`RPC '${n}' ${g} sending request:`,u),b.send(s,"POST",w,i,15)})}T_(n,s,i){const u=Xd(),h=[this.Uo,"/","google.firestore.v1.Firestore","/",n,"/channel"],g=cy(),y=uy(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},b=this.longPollingOptions.timeoutSeconds;b!==void 0&&(_.longPollingTimeout=Math.round(1e3*b)),this.useFetchStreams&&(_.useFetchStreams=!0),this.jo(_.initMessageHeaders,s,i),_.encodeInitMessageHeaders=!0;const w=h.join("");ie(Bt,`Creating RPC '${n}' stream ${u}: ${w}`,_);const R=g.createWebChannel(w,_);this.I_(R);let O=!1,G=!1;const $=new dw({Yo:K=>{G?ie(Bt,`Not sending because RPC '${n}' stream ${u} is closed:`,K):(O||(ie(Bt,`Opening RPC '${n}' stream ${u} transport.`),R.open(),O=!0),ie(Bt,`RPC '${n}' stream ${u} sending:`,K),R.send(K))},Zo:()=>R.close()}),F=(K,te,le)=>{K.listen(te,oe=>{try{le(oe)}catch(ve){setTimeout(()=>{throw ve},0)}})};return F(R,zl.EventType.OPEN,()=>{G||(ie(Bt,`RPC '${n}' stream ${u} transport opened.`),$.o_())}),F(R,zl.EventType.CLOSE,()=>{G||(G=!0,ie(Bt,`RPC '${n}' stream ${u} transport closed`),$.a_(),this.E_(R))}),F(R,zl.EventType.ERROR,K=>{G||(G=!0,yr(Bt,`RPC '${n}' stream ${u} transport errored. Name:`,K.name,"Message:",K.message),$.a_(new ce(W.UNAVAILABLE,"The operation could not be completed")))}),F(R,zl.EventType.MESSAGE,K=>{if(!G){const te=K.data[0];ze(!!te,16349);const le=te,oe=le?.error||le[0]?.error;if(oe){ie(Bt,`RPC '${n}' stream ${u} received error:`,oe);const ve=oe.status;let be=function(E){const N=gt[E];if(N!==void 0)return Gy(N)}(ve),fe=oe.message;be===void 0&&(be=W.INTERNAL,fe="Unknown error status: "+ve+" with message "+oe.message),G=!0,$.a_(new ce(be,fe)),R.close()}else ie(Bt,`RPC '${n}' stream ${u} received:`,te),$.u_(te)}}),F(y,oy.STAT_EVENT,K=>{K.stat===Ud.PROXY?ie(Bt,`RPC '${n}' stream ${u} detected buffering proxy`):K.stat===Ud.NOPROXY&&ie(Bt,`RPC '${n}' stream ${u} detected no buffering proxy`)}),setTimeout(()=>{$.__()},0),$}terminate(){this.c_.forEach(n=>n.close()),this.c_=[]}I_(n){this.c_.push(n)}E_(n){this.c_=this.c_.filter(s=>s===n)}}function Vd(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vc(l){return new yT(l,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{constructor(n,s,i=1e3,u=1.5,h=6e4){this.Mi=n,this.timerId=s,this.d_=i,this.A_=u,this.R_=h,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(n){this.cancel();const s=Math.floor(this.V_+this.y_()),i=Math.max(0,Date.now()-this.f_),u=Math.max(0,s-i);u>0&&ie("ExponentialBackoff",`Backing off for ${u} ms (base delay: ${this.V_} ms, delay with jitter: ${s} ms, last attempt: ${i} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,u,()=>(this.f_=Date.now(),n())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="PersistentStream";class sx{constructor(n,s,i,u,h,g,y,_){this.Mi=n,this.S_=i,this.b_=u,this.connection=h,this.authCredentialsProvider=g,this.appCheckCredentialsProvider=y,this.listener=_,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new ax(n,s)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,()=>this.k_()))}q_(n){this.Q_(),this.stream.send(n)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(n,s){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,n!==4?this.M_.reset():s&&s.code===W.RESOURCE_EXHAUSTED?(Da(s.toString()),Da("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):s&&s.code===W.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=n,await this.listener.r_(s)}K_(){}auth(){this.state=1;const n=this.W_(this.D_),s=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([i,u])=>{this.D_===s&&this.G_(i,u)},i=>{n(()=>{const u=new ce(W.UNKNOWN,"Fetching auth token failed: "+i.message);return this.z_(u)})})}G_(n,s){const i=this.W_(this.D_);this.stream=this.j_(n,s),this.stream.Xo(()=>{i(()=>this.listener.Xo())}),this.stream.t_(()=>{i(()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.t_()))}),this.stream.r_(u=>{i(()=>this.z_(u))}),this.stream.onMessage(u=>{i(()=>++this.F_==1?this.J_(u):this.onNext(u))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(n){return ie(k0,`close with error: ${n}`),this.stream=null,this.close(4,n)}W_(n){return s=>{this.Mi.enqueueAndForget(()=>this.D_===n?s():(ie(k0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mw extends sx{constructor(n,s,i,u,h,g){super(n,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,i,u,g),this.serializer=h}j_(n,s){return this.connection.T_("Listen",n,s)}J_(n){return this.onNext(n)}onNext(n){this.M_.reset();const s=bT(this.serializer,n),i=function(h){if(!("targetChange"in h))return Te.min();const g=h.targetChange;return g.targetIds&&g.targetIds.length?Te.min():g.readTime?$n(g.readTime):Te.min()}(n);return this.listener.H_(s,i)}Y_(n){const s={};s.database=Yd(this.serializer),s.addTarget=function(h,g){let y;const _=g.target;if(y=Bd(_)?{documents:wT(h,_)}:{query:ET(h,_).ft},y.targetId=g.targetId,g.resumeToken.approximateByteSize()>0){y.resumeToken=Fy(h,g.resumeToken);const b=Hd(h,g.expectedCount);b!==null&&(y.expectedCount=b)}else if(g.snapshotVersion.compareTo(Te.min())>0){y.readTime=ic(h,g.snapshotVersion.toTimestamp());const b=Hd(h,g.expectedCount);b!==null&&(y.expectedCount=b)}return y}(this.serializer,n);const i=ST(this.serializer,n);i&&(s.labels=i),this.q_(s)}Z_(n){const s={};s.database=Yd(this.serializer),s.removeTarget=n,this.q_(s)}}class gw extends sx{constructor(n,s,i,u,h,g){super(n,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,i,u,g),this.serializer=h}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(n,s){return this.connection.T_("Write",n,s)}J_(n){return ze(!!n.streamToken,31322),this.lastStreamToken=n.streamToken,ze(!n.writeResults||n.writeResults.length===0,55816),this.listener.ta()}onNext(n){ze(!!n.streamToken,12678),this.lastStreamToken=n.streamToken,this.M_.reset();const s=TT(n.writeResults,n.commitTime),i=$n(n.commitTime);return this.listener.na(i,s)}ra(){const n={};n.database=Yd(this.serializer),this.q_(n)}ea(n){const s={streamToken:this.lastStreamToken,writes:n.map(i=>_T(this.serializer,i))};this.q_(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pw{}class yw extends pw{constructor(n,s,i,u){super(),this.authCredentials=n,this.appCheckCredentials=s,this.connection=i,this.serializer=u,this.ia=!1}sa(){if(this.ia)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.")}Go(n,s,i,u){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,g])=>this.connection.Go(n,Qd(s,i),u,h,g)).catch(h=>{throw h.name==="FirebaseError"?(h.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new ce(W.UNKNOWN,h.toString())})}Ho(n,s,i,u,h){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([g,y])=>this.connection.Ho(n,Qd(s,i),u,g,y,h)).catch(g=>{throw g.name==="FirebaseError"?(g.code===W.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),g):new ce(W.UNKNOWN,g.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}class xw{constructor(n,s){this.asyncQueue=n,this.onlineStateHandler=s,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(n){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${n.toString()}`),this.ca("Offline")))}set(n){this.Pa(),this.oa=0,n==="Online"&&(this.aa=!1),this.ca(n)}ca(n){n!==this.state&&(this.state=n,this.onlineStateHandler(n))}la(n){const s=`Could not reach Cloud Firestore backend. ${n}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Da(s),this.aa=!1):ie("OnlineStateTracker",s)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="RemoteStore";class vw{constructor(n,s,i,u,h){this.localStore=n,this.datastore=s,this.asyncQueue=i,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=h,this.Aa.Oo(g=>{i.enqueueAndForget(async()=>{pi(this)&&(ie(ci,"Restarting streams for network reachability change."),await async function(_){const b=we(_);b.Ea.add(4),await io(b),b.Ra.set("Unknown"),b.Ea.delete(4),await bc(b)}(this))})}),this.Ra=new xw(i,u)}}async function bc(l){if(pi(l))for(const n of l.da)await n(!0)}async function io(l){for(const n of l.da)await n(!1)}function ix(l,n){const s=we(l);s.Ia.has(n.targetId)||(s.Ia.set(n.targetId,n),_f(s)?bf(s):Sr(s).O_()&&vf(s,n))}function xf(l,n){const s=we(l),i=Sr(s);s.Ia.delete(n),i.O_()&&rx(s,n),s.Ia.size===0&&(i.O_()?i.L_():pi(s)&&s.Ra.set("Unknown"))}function vf(l,n){if(l.Va.Ue(n.targetId),n.resumeToken.approximateByteSize()>0||n.snapshotVersion.compareTo(Te.min())>0){const s=l.remoteSyncer.getRemoteKeysForTarget(n.targetId).size;n=n.withExpectedCount(s)}Sr(l).Y_(n)}function rx(l,n){l.Va.Ue(n),Sr(l).Z_(n)}function bf(l){l.Va=new fT({getRemoteKeysForTarget:n=>l.remoteSyncer.getRemoteKeysForTarget(n),At:n=>l.Ia.get(n)||null,ht:()=>l.datastore.serializer.databaseId}),Sr(l).start(),l.Ra.ua()}function _f(l){return pi(l)&&!Sr(l).x_()&&l.Ia.size>0}function pi(l){return we(l).Ea.size===0}function lx(l){l.Va=void 0}async function bw(l){l.Ra.set("Online")}async function _w(l){l.Ia.forEach((n,s)=>{vf(l,n)})}async function Tw(l,n){lx(l),_f(l)?(l.Ra.ha(n),bf(l)):l.Ra.set("Unknown")}async function ww(l,n,s){if(l.Ra.set("Online"),n instanceof Qy&&n.state===2&&n.cause)try{await async function(u,h){const g=h.cause;for(const y of h.targetIds)u.Ia.has(y)&&(await u.remoteSyncer.rejectListen(y,g),u.Ia.delete(y),u.Va.removeTarget(y))}(l,n)}catch(i){ie(ci,"Failed to remove targets %s: %s ",n.targetIds.join(","),i),await lc(l,i)}else if(n instanceof Fu?l.Va.Ze(n):n instanceof Hy?l.Va.st(n):l.Va.tt(n),!s.isEqual(Te.min()))try{const i=await nx(l.localStore);s.compareTo(i)>=0&&await function(h,g){const y=h.Va.Tt(g);return y.targetChanges.forEach((_,b)=>{if(_.resumeToken.approximateByteSize()>0){const w=h.Ia.get(b);w&&h.Ia.set(b,w.withResumeToken(_.resumeToken,g))}}),y.targetMismatches.forEach((_,b)=>{const w=h.Ia.get(_);if(!w)return;h.Ia.set(_,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),rx(h,_);const R=new ds(w.target,_,b,w.sequenceNumber);vf(h,R)}),h.remoteSyncer.applyRemoteEvent(y)}(l,s)}catch(i){ie(ci,"Failed to raise snapshot:",i),await lc(l,i)}}async function lc(l,n,s){if(!Ar(n))throw n;l.Ea.add(1),await io(l),l.Ra.set("Offline"),s||(s=()=>nx(l.localStore)),l.asyncQueue.enqueueRetryable(async()=>{ie(ci,"Retrying IndexedDB access"),await s(),l.Ea.delete(1),await bc(l)})}function ox(l,n){return n().catch(s=>lc(l,s,n))}async function _c(l){const n=we(l),s=vs(n);let i=n.Ta.length>0?n.Ta[n.Ta.length-1].batchId:af;for(;Ew(n);)try{const u=await iw(n.localStore,i);if(u===null){n.Ta.length===0&&s.L_();break}i=u.batchId,Aw(n,u)}catch(u){await lc(n,u)}ux(n)&&cx(n)}function Ew(l){return pi(l)&&l.Ta.length<10}function Aw(l,n){l.Ta.push(n);const s=vs(l);s.O_()&&s.X_&&s.ea(n.mutations)}function ux(l){return pi(l)&&!vs(l).x_()&&l.Ta.length>0}function cx(l){vs(l).start()}async function Sw(l){vs(l).ra()}async function Nw(l){const n=vs(l);for(const s of l.Ta)n.ea(s.mutations)}async function Rw(l,n,s){const i=l.Ta.shift(),u=hf.from(i,n,s);await ox(l,()=>l.remoteSyncer.applySuccessfulWrite(u)),await _c(l)}async function jw(l,n){n&&vs(l).X_&&await async function(i,u){if(function(g){return cT(g)&&g!==W.ABORTED}(u.code)){const h=i.Ta.shift();vs(i).B_(),await ox(i,()=>i.remoteSyncer.rejectFailedWrite(h.batchId,u)),await _c(i)}}(l,n),ux(l)&&cx(l)}async function U0(l,n){const s=we(l);s.asyncQueue.verifyOperationInProgress(),ie(ci,"RemoteStore received new credentials");const i=pi(s);s.Ea.add(3),await io(s),i&&s.Ra.set("Unknown"),await s.remoteSyncer.handleCredentialChange(n),s.Ea.delete(3),await bc(s)}async function Cw(l,n){const s=we(l);n?(s.Ea.delete(2),await bc(s)):n||(s.Ea.add(2),await io(s),s.Ra.set("Unknown"))}function Sr(l){return l.ma||(l.ma=function(s,i,u){const h=we(s);return h.sa(),new mw(i,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(l.datastore,l.asyncQueue,{Xo:bw.bind(null,l),t_:_w.bind(null,l),r_:Tw.bind(null,l),H_:ww.bind(null,l)}),l.da.push(async n=>{n?(l.ma.B_(),_f(l)?bf(l):l.Ra.set("Unknown")):(await l.ma.stop(),lx(l))})),l.ma}function vs(l){return l.fa||(l.fa=function(s,i,u){const h=we(s);return h.sa(),new gw(i,h.connection,h.authCredentials,h.appCheckCredentials,h.serializer,u)}(l.datastore,l.asyncQueue,{Xo:()=>Promise.resolve(),t_:Sw.bind(null,l),r_:jw.bind(null,l),ta:Nw.bind(null,l),na:Rw.bind(null,l)}),l.da.push(async n=>{n?(l.fa.B_(),await _c(l)):(await l.fa.stop(),l.Ta.length>0&&(ie(ci,`Stopping write stream with ${l.Ta.length} pending writes`),l.Ta=[]))})),l.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(n,s,i,u,h){this.asyncQueue=n,this.timerId=s,this.targetTimeMs=i,this.op=u,this.removalCallback=h,this.deferred=new ms,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(g=>{})}get promise(){return this.deferred.promise}static createAndSchedule(n,s,i,u,h){const g=Date.now()+i,y=new Tf(n,s,g,u,h);return y.start(i),y}start(n){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),n)}skipDelay(){return this.handleDelayElapsed()}cancel(n){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ce(W.CANCELLED,"Operation cancelled"+(n?": "+n:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(n=>this.deferred.resolve(n))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function wf(l,n){if(Da("AsyncQueue",`${n}: ${l}`),Ar(l))return new ce(W.UNAVAILABLE,`${n}: ${l}`);throw l}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gr{static emptySet(n){return new gr(n.comparator)}constructor(n){this.comparator=n?(s,i)=>n(s,i)||de.comparator(s.key,i.key):(s,i)=>de.comparator(s.key,i.key),this.keyedMap=Pl(),this.sortedSet=new tt(this.comparator)}has(n){return this.keyedMap.get(n)!=null}get(n){return this.keyedMap.get(n)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(n){const s=this.keyedMap.get(n);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(n){this.sortedSet.inorderTraversal((s,i)=>(n(s),!1))}add(n){const s=this.delete(n.key);return s.copy(s.keyedMap.insert(n.key,n),s.sortedSet.insert(n,null))}delete(n){const s=this.get(n);return s?this.copy(this.keyedMap.remove(n),this.sortedSet.remove(s)):this}isEqual(n){if(!(n instanceof gr)||this.size!==n.size)return!1;const s=this.sortedSet.getIterator(),i=n.sortedSet.getIterator();for(;s.hasNext();){const u=s.getNext().key,h=i.getNext().key;if(!u.isEqual(h))return!1}return!0}toString(){const n=[];return this.forEach(s=>{n.push(s.toString())}),n.length===0?"DocumentSet ()":`DocumentSet (
  `+n.join(`  
`)+`
)`}copy(n,s){const i=new gr;return i.comparator=this.comparator,i.keyedMap=n,i.sortedSet=s,i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(){this.ga=new tt(de.comparator)}track(n){const s=n.doc.key,i=this.ga.get(s);i?n.type!==0&&i.type===3?this.ga=this.ga.insert(s,n):n.type===3&&i.type!==1?this.ga=this.ga.insert(s,{type:i.type,doc:n.doc}):n.type===2&&i.type===2?this.ga=this.ga.insert(s,{type:2,doc:n.doc}):n.type===2&&i.type===0?this.ga=this.ga.insert(s,{type:0,doc:n.doc}):n.type===1&&i.type===0?this.ga=this.ga.remove(s):n.type===1&&i.type===2?this.ga=this.ga.insert(s,{type:1,doc:i.doc}):n.type===0&&i.type===1?this.ga=this.ga.insert(s,{type:2,doc:n.doc}):ye(63341,{Rt:n,pa:i}):this.ga=this.ga.insert(s,n)}ya(){const n=[];return this.ga.inorderTraversal((s,i)=>{n.push(i)}),n}}class Tr{constructor(n,s,i,u,h,g,y,_,b){this.query=n,this.docs=s,this.oldDocs=i,this.docChanges=u,this.mutatedKeys=h,this.fromCache=g,this.syncStateChanged=y,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(n,s,i,u,h){const g=[];return s.forEach(y=>{g.push({type:0,doc:y})}),new Tr(n,s,gr.emptySet(s),g,i,u,!0,!1,h)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(n){if(!(this.fromCache===n.fromCache&&this.hasCachedResults===n.hasCachedResults&&this.syncStateChanged===n.syncStateChanged&&this.mutatedKeys.isEqual(n.mutatedKeys)&&mc(this.query,n.query)&&this.docs.isEqual(n.docs)&&this.oldDocs.isEqual(n.oldDocs)))return!1;const s=this.docChanges,i=n.docChanges;if(s.length!==i.length)return!1;for(let u=0;u<s.length;u++)if(s[u].type!==i[u].type||!s[u].doc.isEqual(i[u].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some(n=>n.Da())}}class Dw{constructor(){this.queries=P0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(s,i){const u=we(s),h=u.queries;u.queries=P0(),h.forEach((g,y)=>{for(const _ of y.Sa)_.onError(i)})})(this,new ce(W.ABORTED,"Firestore shutting down"))}}function P0(){return new mi(l=>Cy(l),mc)}async function Iw(l,n){const s=we(l);let i=3;const u=n.query;let h=s.queries.get(u);h?!h.ba()&&n.Da()&&(i=2):(h=new Vw,i=n.Da()?0:1);try{switch(i){case 0:h.wa=await s.onListen(u,!0);break;case 1:h.wa=await s.onListen(u,!1);break;case 2:await s.onFirstRemoteStoreListen(u)}}catch(g){const y=wf(g,`Initialization of query '${cr(n.query)}' failed`);return void n.onError(y)}s.queries.set(u,h),h.Sa.push(n),n.va(s.onlineState),h.wa&&n.Fa(h.wa)&&Ef(s)}async function Mw(l,n){const s=we(l),i=n.query;let u=3;const h=s.queries.get(i);if(h){const g=h.Sa.indexOf(n);g>=0&&(h.Sa.splice(g,1),h.Sa.length===0?u=n.Da()?0:1:!h.ba()&&n.Da()&&(u=2))}switch(u){case 0:return s.queries.delete(i),s.onUnlisten(i,!0);case 1:return s.queries.delete(i),s.onUnlisten(i,!1);case 2:return s.onLastRemoteStoreUnlisten(i);default:return}}function Ow(l,n){const s=we(l);let i=!1;for(const u of n){const h=u.query,g=s.queries.get(h);if(g){for(const y of g.Sa)y.Fa(u)&&(i=!0);g.wa=u}}i&&Ef(s)}function kw(l,n,s){const i=we(l),u=i.queries.get(n);if(u)for(const h of u.Sa)h.onError(s);i.queries.delete(n)}function Ef(l){l.Ca.forEach(n=>{n.next()})}var Zd,L0;(L0=Zd||(Zd={})).Ma="default",L0.Cache="cache";class Uw{constructor(n,s,i){this.query=n,this.xa=s,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=i||{}}Fa(n){if(!this.options.includeMetadataChanges){const i=[];for(const u of n.docChanges)u.type!==3&&i.push(u);n=new Tr(n.query,n.docs,n.oldDocs,i,n.mutatedKeys,n.fromCache,n.syncStateChanged,!0,n.hasCachedResults)}let s=!1;return this.Oa?this.Ba(n)&&(this.xa.next(n),s=!0):this.La(n,this.onlineState)&&(this.ka(n),s=!0),this.Na=n,s}onError(n){this.xa.error(n)}va(n){this.onlineState=n;let s=!1;return this.Na&&!this.Oa&&this.La(this.Na,n)&&(this.ka(this.Na),s=!0),s}La(n,s){if(!n.fromCache||!this.Da())return!0;const i=s!=="Offline";return(!this.options.qa||!i)&&(!n.docs.isEmpty()||n.hasCachedResults||s==="Offline")}Ba(n){if(n.docChanges.length>0)return!0;const s=this.Na&&this.Na.hasPendingWrites!==n.hasPendingWrites;return!(!n.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ka(n){n=Tr.fromInitialDocuments(n.query,n.docs,n.mutatedKeys,n.fromCache,n.hasCachedResults),this.Oa=!0,this.xa.next(n)}Da(){return this.options.source!==Zd.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(n){this.key=n}}class dx{constructor(n){this.key=n}}class zw{constructor(n,s){this.query=n,this.Ya=s,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=Ce(),this.mutatedKeys=Ce(),this.eu=Vy(n),this.tu=new gr(this.eu)}get nu(){return this.Ya}ru(n,s){const i=s?s.iu:new z0,u=s?s.tu:this.tu;let h=s?s.mutatedKeys:this.mutatedKeys,g=u,y=!1;const _=this.query.limitType==="F"&&u.size===this.query.limit?u.last():null,b=this.query.limitType==="L"&&u.size===this.query.limit?u.first():null;if(n.inorderTraversal((w,R)=>{const O=u.get(w),G=gc(this.query,R)?R:null,$=!!O&&this.mutatedKeys.has(O.key),F=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let K=!1;O&&G?O.data.isEqual(G.data)?$!==F&&(i.track({type:3,doc:G}),K=!0):this.su(O,G)||(i.track({type:2,doc:G}),K=!0,(_&&this.eu(G,_)>0||b&&this.eu(G,b)<0)&&(y=!0)):!O&&G?(i.track({type:0,doc:G}),K=!0):O&&!G&&(i.track({type:1,doc:O}),K=!0,(_||b)&&(y=!0)),K&&(G?(g=g.add(G),h=F?h.add(w):h.delete(w)):(g=g.delete(w),h=h.delete(w)))}),this.query.limit!==null)for(;g.size>this.query.limit;){const w=this.query.limitType==="F"?g.last():g.first();g=g.delete(w.key),h=h.delete(w.key),i.track({type:1,doc:w})}return{tu:g,iu:i,Cs:y,mutatedKeys:h}}su(n,s){return n.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(n,s,i,u){const h=this.tu;this.tu=n.tu,this.mutatedKeys=n.mutatedKeys;const g=n.iu.ya();g.sort((w,R)=>function(G,$){const F=K=>{switch(K){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ye(20277,{Rt:K})}};return F(G)-F($)}(w.type,R.type)||this.eu(w.doc,R.doc)),this.ou(i),u=u??!1;const y=s&&!u?this._u():[],_=this.Xa.size===0&&this.current&&!u?1:0,b=_!==this.Za;return this.Za=_,g.length!==0||b?{snapshot:new Tr(this.query,n.tu,h,g,n.mutatedKeys,_===0,b,!1,!!i&&i.resumeToken.approximateByteSize()>0),au:y}:{au:y}}va(n){return this.current&&n==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new z0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(n){return!this.Ya.has(n)&&!!this.tu.has(n)&&!this.tu.get(n).hasLocalMutations}ou(n){n&&(n.addedDocuments.forEach(s=>this.Ya=this.Ya.add(s)),n.modifiedDocuments.forEach(s=>{}),n.removedDocuments.forEach(s=>this.Ya=this.Ya.delete(s)),this.current=n.current)}_u(){if(!this.current)return[];const n=this.Xa;this.Xa=Ce(),this.tu.forEach(i=>{this.uu(i.key)&&(this.Xa=this.Xa.add(i.key))});const s=[];return n.forEach(i=>{this.Xa.has(i)||s.push(new dx(i))}),this.Xa.forEach(i=>{n.has(i)||s.push(new hx(i))}),s}cu(n){this.Ya=n.Qs,this.Xa=Ce();const s=this.ru(n.documents);return this.applyChanges(s,!0)}lu(){return Tr.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Af="SyncEngine";class Pw{constructor(n,s,i){this.query=n,this.targetId=s,this.view=i}}class Lw{constructor(n){this.key=n,this.hu=!1}}class qw{constructor(n,s,i,u,h,g){this.localStore=n,this.remoteStore=s,this.eventManager=i,this.sharedClientState=u,this.currentUser=h,this.maxConcurrentLimboResolutions=g,this.Pu={},this.Tu=new mi(y=>Cy(y),mc),this.Iu=new Map,this.Eu=new Set,this.du=new tt(de.comparator),this.Au=new Map,this.Ru=new mf,this.Vu={},this.mu=new Map,this.fu=_r.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Bw(l,n,s=!0){const i=xx(l);let u;const h=i.Tu.get(n);return h?(i.sharedClientState.addLocalQueryTarget(h.targetId),u=h.view.lu()):u=await fx(i,n,s,!0),u}async function Gw(l,n){const s=xx(l);await fx(s,n,!0,!1)}async function fx(l,n,s,i){const u=await rw(l.localStore,Jn(n)),h=u.targetId,g=l.sharedClientState.addLocalQueryTarget(h,s);let y;return i&&(y=await Hw(l,n,h,g==="current",u.resumeToken)),l.isPrimaryClient&&s&&ix(l.remoteStore,u),y}async function Hw(l,n,s,i,u){l.pu=(R,O,G)=>async function(F,K,te,le){let oe=K.view.ru(te);oe.Cs&&(oe=await D0(F.localStore,K.query,!1).then(({documents:V})=>K.view.ru(V,oe)));const ve=le&&le.targetChanges.get(K.targetId),be=le&&le.targetMismatches.get(K.targetId)!=null,fe=K.view.applyChanges(oe,F.isPrimaryClient,ve,be);return B0(F,K.targetId,fe.au),fe.snapshot}(l,R,O,G);const h=await D0(l.localStore,n,!0),g=new zw(n,h.Qs),y=g.ru(h.documents),_=so.createSynthesizedTargetChangeForCurrentChange(s,i&&l.onlineState!=="Offline",u),b=g.applyChanges(y,l.isPrimaryClient,_);B0(l,s,b.au);const w=new Pw(n,s,g);return l.Tu.set(n,w),l.Iu.has(s)?l.Iu.get(s).push(n):l.Iu.set(s,[n]),b.snapshot}async function Qw(l,n,s){const i=we(l),u=i.Tu.get(n),h=i.Iu.get(u.targetId);if(h.length>1)return i.Iu.set(u.targetId,h.filter(g=>!mc(g,n))),void i.Tu.delete(n);i.isPrimaryClient?(i.sharedClientState.removeLocalQueryTarget(u.targetId),i.sharedClientState.isActiveQueryTarget(u.targetId)||await Kd(i.localStore,u.targetId,!1).then(()=>{i.sharedClientState.clearQueryState(u.targetId),s&&xf(i.remoteStore,u.targetId),Jd(i,u.targetId)}).catch(Er)):(Jd(i,u.targetId),await Kd(i.localStore,u.targetId,!0))}async function Fw(l,n){const s=we(l),i=s.Tu.get(n),u=s.Iu.get(i.targetId);s.isPrimaryClient&&u.length===1&&(s.sharedClientState.removeLocalQueryTarget(i.targetId),xf(s.remoteStore,i.targetId))}async function Yw(l,n,s){const i=eE(l);try{const u=await function(g,y){const _=we(g),b=Xe.now(),w=y.reduce((G,$)=>G.add($.key),Ce());let R,O;return _.persistence.runTransaction("Locally write mutations","readwrite",G=>{let $=Ia(),F=Ce();return _.Ns.getEntries(G,w).next(K=>{$=K,$.forEach((te,le)=>{le.isValidDocument()||(F=F.add(te))})}).next(()=>_.localDocuments.getOverlayedDocuments(G,$)).next(K=>{R=K;const te=[];for(const le of y){const oe=iT(le,R.get(le.key).overlayedDocument);oe!=null&&te.push(new gi(le.key,oe,wy(oe.value.mapValue),Va.exists(!0)))}return _.mutationQueue.addMutationBatch(G,b,te,y)}).next(K=>{O=K;const te=K.applyToLocalDocumentSet(R,F);return _.documentOverlayCache.saveOverlays(G,K.batchId,te)})}).then(()=>({batchId:O.batchId,changes:Iy(R)}))}(i.localStore,n);i.sharedClientState.addPendingMutation(u.batchId),function(g,y,_){let b=g.Vu[g.currentUser.toKey()];b||(b=new tt(je)),b=b.insert(y,_),g.Vu[g.currentUser.toKey()]=b}(i,u.batchId,s),await ro(i,u.changes),await _c(i.remoteStore)}catch(u){const h=wf(u,"Failed to persist write");s.reject(h)}}async function mx(l,n){const s=we(l);try{const i=await aw(s.localStore,n);n.targetChanges.forEach((u,h)=>{const g=s.Au.get(h);g&&(ze(u.addedDocuments.size+u.modifiedDocuments.size+u.removedDocuments.size<=1,22616),u.addedDocuments.size>0?g.hu=!0:u.modifiedDocuments.size>0?ze(g.hu,14607):u.removedDocuments.size>0&&(ze(g.hu,42227),g.hu=!1))}),await ro(s,i,n)}catch(i){await Er(i)}}function q0(l,n,s){const i=we(l);if(i.isPrimaryClient&&s===0||!i.isPrimaryClient&&s===1){const u=[];i.Tu.forEach((h,g)=>{const y=g.view.va(n);y.snapshot&&u.push(y.snapshot)}),function(g,y){const _=we(g);_.onlineState=y;let b=!1;_.queries.forEach((w,R)=>{for(const O of R.Sa)O.va(y)&&(b=!0)}),b&&Ef(_)}(i.eventManager,n),u.length&&i.Pu.H_(u),i.onlineState=n,i.isPrimaryClient&&i.sharedClientState.setOnlineState(n)}}async function Kw(l,n,s){const i=we(l);i.sharedClientState.updateQueryState(n,"rejected",s);const u=i.Au.get(n),h=u&&u.key;if(h){let g=new tt(de.comparator);g=g.insert(h,Ht.newNoDocument(h,Te.min()));const y=Ce().add(h),_=new xc(Te.min(),new Map,new tt(je),g,y);await mx(i,_),i.du=i.du.remove(h),i.Au.delete(n),Sf(i)}else await Kd(i.localStore,n,!1).then(()=>Jd(i,n,s)).catch(Er)}async function Xw(l,n){const s=we(l),i=n.batch.batchId;try{const u=await nw(s.localStore,n);px(s,i,null),gx(s,i),s.sharedClientState.updateMutationState(i,"acknowledged"),await ro(s,u)}catch(u){await Er(u)}}async function Zw(l,n,s){const i=we(l);try{const u=await function(g,y){const _=we(g);return _.persistence.runTransaction("Reject batch","readwrite-primary",b=>{let w;return _.mutationQueue.lookupMutationBatch(b,y).next(R=>(ze(R!==null,37113),w=R.keys(),_.mutationQueue.removeMutationBatch(b,R))).next(()=>_.mutationQueue.performConsistencyCheck(b)).next(()=>_.documentOverlayCache.removeOverlaysForBatchId(b,w,y)).next(()=>_.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(b,w)).next(()=>_.localDocuments.getDocuments(b,w))})}(i.localStore,n);px(i,n,s),gx(i,n),i.sharedClientState.updateMutationState(n,"rejected",s),await ro(i,u)}catch(u){await Er(u)}}function gx(l,n){(l.mu.get(n)||[]).forEach(s=>{s.resolve()}),l.mu.delete(n)}function px(l,n,s){const i=we(l);let u=i.Vu[i.currentUser.toKey()];if(u){const h=u.get(n);h&&(s?h.reject(s):h.resolve(),u=u.remove(n)),i.Vu[i.currentUser.toKey()]=u}}function Jd(l,n,s=null){l.sharedClientState.removeLocalQueryTarget(n);for(const i of l.Iu.get(n))l.Tu.delete(i),s&&l.Pu.yu(i,s);l.Iu.delete(n),l.isPrimaryClient&&l.Ru.jr(n).forEach(i=>{l.Ru.containsKey(i)||yx(l,i)})}function yx(l,n){l.Eu.delete(n.path.canonicalString());const s=l.du.get(n);s!==null&&(xf(l.remoteStore,s),l.du=l.du.remove(n),l.Au.delete(s),Sf(l))}function B0(l,n,s){for(const i of s)i instanceof hx?(l.Ru.addReference(i.key,n),Jw(l,i)):i instanceof dx?(ie(Af,"Document no longer in limbo: "+i.key),l.Ru.removeReference(i.key,n),l.Ru.containsKey(i.key)||yx(l,i.key)):ye(19791,{wu:i})}function Jw(l,n){const s=n.key,i=s.path.canonicalString();l.du.get(s)||l.Eu.has(i)||(ie(Af,"New document in limbo: "+s),l.Eu.add(i),Sf(l))}function Sf(l){for(;l.Eu.size>0&&l.du.size<l.maxConcurrentLimboResolutions;){const n=l.Eu.values().next().value;l.Eu.delete(n);const s=new de(et.fromString(n)),i=l.fu.next();l.Au.set(i,new Lw(s)),l.du=l.du.insert(s,i),ix(l.remoteStore,new ds(Jn(uf(s.path)),i,"TargetPurposeLimboResolution",cc.ce))}}async function ro(l,n,s){const i=we(l),u=[],h=[],g=[];i.Tu.isEmpty()||(i.Tu.forEach((y,_)=>{g.push(i.pu(_,n,s).then(b=>{if((b||s)&&i.isPrimaryClient){const w=b?!b.fromCache:s?.targetChanges.get(_.targetId)?.current;i.sharedClientState.updateQueryState(_.targetId,w?"current":"not-current")}if(b){u.push(b);const w=pf.As(_.targetId,b);h.push(w)}}))}),await Promise.all(g),i.Pu.H_(u),await async function(_,b){const w=we(_);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>Z.forEach(b,O=>Z.forEach(O.Es,G=>w.persistence.referenceDelegate.addReference(R,O.targetId,G)).next(()=>Z.forEach(O.ds,G=>w.persistence.referenceDelegate.removeReference(R,O.targetId,G)))))}catch(R){if(!Ar(R))throw R;ie(yf,"Failed to update sequence numbers: "+R)}for(const R of b){const O=R.targetId;if(!R.fromCache){const G=w.Ms.get(O),$=G.snapshotVersion,F=G.withLastLimboFreeSnapshotVersion($);w.Ms=w.Ms.insert(O,F)}}}(i.localStore,h))}async function $w(l,n){const s=we(l);if(!s.currentUser.isEqual(n)){ie(Af,"User change. New user:",n.toKey());const i=await tx(s.localStore,n);s.currentUser=n,function(h,g){h.mu.forEach(y=>{y.forEach(_=>{_.reject(new ce(W.CANCELLED,g))})}),h.mu.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),await ro(s,i.Ls)}}function Ww(l,n){const s=we(l),i=s.Au.get(n);if(i&&i.hu)return Ce().add(i.key);{let u=Ce();const h=s.Iu.get(n);if(!h)return u;for(const g of h){const y=s.Tu.get(g);u=u.unionWith(y.view.nu)}return u}}function xx(l){const n=we(l);return n.remoteStore.remoteSyncer.applyRemoteEvent=mx.bind(null,n),n.remoteStore.remoteSyncer.getRemoteKeysForTarget=Ww.bind(null,n),n.remoteStore.remoteSyncer.rejectListen=Kw.bind(null,n),n.Pu.H_=Ow.bind(null,n.eventManager),n.Pu.yu=kw.bind(null,n.eventManager),n}function eE(l){const n=we(l);return n.remoteStore.remoteSyncer.applySuccessfulWrite=Xw.bind(null,n),n.remoteStore.remoteSyncer.rejectFailedWrite=Zw.bind(null,n),n}class oc{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(n){this.serializer=vc(n.databaseInfo.databaseId),this.sharedClientState=this.Du(n),this.persistence=this.Cu(n),await this.persistence.start(),this.localStore=this.vu(n),this.gcScheduler=this.Fu(n,this.localStore),this.indexBackfillerScheduler=this.Mu(n,this.localStore)}Fu(n,s){return null}Mu(n,s){return null}vu(n){return tw(this.persistence,new $T,n.initialUser,this.serializer)}Cu(n){return new ex(gf.mi,this.serializer)}Du(n){return new ow}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oc.provider={build:()=>new oc};class tE extends oc{constructor(n){super(),this.cacheSizeBytes=n}Fu(n,s){ze(this.persistence.referenceDelegate instanceof rc,46915);const i=this.persistence.referenceDelegate.garbageCollector;return new UT(i,n.asyncQueue,s)}Cu(n){const s=this.cacheSizeBytes!==void 0?$t.withCacheSize(this.cacheSizeBytes):$t.DEFAULT;return new ex(i=>rc.mi(i,s),this.serializer)}}class $d{async initialize(n,s){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>q0(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=$w.bind(null,this.syncEngine),await Cw(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(n){return function(){return new Dw}()}createDatastore(n){const s=vc(n.databaseInfo.databaseId),i=function(h){return new fw(h)}(n.databaseInfo);return function(h,g,y,_){return new yw(h,g,y,_)}(n.authCredentials,n.appCheckCredentials,i,s)}createRemoteStore(n){return function(i,u,h,g,y){return new vw(i,u,h,g,y)}(this.localStore,this.datastore,n.asyncQueue,s=>q0(this.syncEngine,s,0),function(){return O0.v()?new O0:new uw}())}createSyncEngine(n,s){return function(u,h,g,y,_,b,w){const R=new qw(u,h,g,y,_,b);return w&&(R.gu=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,s)}async terminate(){await async function(s){const i=we(s);ie(ci,"RemoteStore shutting down."),i.Ea.add(5),await io(i),i.Aa.shutdown(),i.Ra.set("Unknown")}(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}$d.provider={build:()=>new $d};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE{constructor(n){this.observer=n,this.muted=!1}next(n){this.muted||this.observer.next&&this.Ou(this.observer.next,n)}error(n){this.muted||(this.observer.error?this.Ou(this.observer.error,n):Da("Uncaught Error in snapshot listener:",n.toString()))}Nu(){this.muted=!0}Ou(n,s){setTimeout(()=>{this.muted||n(s)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bs="FirestoreClient";class aE{constructor(n,s,i,u,h){this.authCredentials=n,this.appCheckCredentials=s,this.asyncQueue=i,this.databaseInfo=u,this.user=Gt.UNAUTHENTICATED,this.clientId=tf.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=h,this.authCredentials.start(i,async g=>{ie(bs,"Received user=",g.uid),await this.authCredentialListener(g),this.user=g}),this.appCheckCredentials.start(i,g=>(ie(bs,"Received new app check token=",g),this.appCheckCredentialListener(g,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(n){this.authCredentialListener=n}setAppCheckTokenChangeListener(n){this.appCheckCredentialListener=n}terminate(){this.asyncQueue.enterRestrictedMode();const n=new ms;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),n.resolve()}catch(s){const i=wf(s,"Failed to shutdown persistence");n.reject(i)}}),n.promise}}async function Dd(l,n){l.asyncQueue.verifyOperationInProgress(),ie(bs,"Initializing OfflineComponentProvider");const s=l.configuration;await n.initialize(s);let i=s.initialUser;l.setCredentialChangeListener(async u=>{i.isEqual(u)||(await tx(n.localStore,u),i=u)}),n.persistence.setDatabaseDeletedListener(()=>l.terminate()),l._offlineComponents=n}async function G0(l,n){l.asyncQueue.verifyOperationInProgress();const s=await sE(l);ie(bs,"Initializing OnlineComponentProvider"),await n.initialize(s,l.configuration),l.setCredentialChangeListener(i=>U0(n.remoteStore,i)),l.setAppCheckTokenChangeListener((i,u)=>U0(n.remoteStore,u)),l._onlineComponents=n}async function sE(l){if(!l._offlineComponents)if(l._uninitializedComponentsProvider){ie(bs,"Using user provided OfflineComponentProvider");try{await Dd(l,l._uninitializedComponentsProvider._offline)}catch(n){const s=n;if(!function(u){return u.name==="FirebaseError"?u.code===W.FAILED_PRECONDITION||u.code===W.UNIMPLEMENTED:!(typeof DOMException<"u"&&u instanceof DOMException)||u.code===22||u.code===20||u.code===11}(s))throw s;yr("Error using user provided cache. Falling back to memory cache: "+s),await Dd(l,new oc)}}else ie(bs,"Using default OfflineComponentProvider"),await Dd(l,new tE(void 0));return l._offlineComponents}async function vx(l){return l._onlineComponents||(l._uninitializedComponentsProvider?(ie(bs,"Using user provided OnlineComponentProvider"),await G0(l,l._uninitializedComponentsProvider._online)):(ie(bs,"Using default OnlineComponentProvider"),await G0(l,new $d))),l._onlineComponents}function iE(l){return vx(l).then(n=>n.syncEngine)}async function rE(l){const n=await vx(l),s=n.eventManager;return s.onListen=Bw.bind(null,n.syncEngine),s.onUnlisten=Qw.bind(null,n.syncEngine),s.onFirstRemoteStoreListen=Gw.bind(null,n.syncEngine),s.onLastRemoteStoreUnlisten=Fw.bind(null,n.syncEngine),s}function lE(l,n,s={}){const i=new ms;return l.asyncQueue.enqueueAndForget(async()=>function(h,g,y,_,b){const w=new nE({next:O=>{w.Nu(),g.enqueueAndForget(()=>Mw(h,R));const G=O.docs.has(y);!G&&O.fromCache?b.reject(new ce(W.UNAVAILABLE,"Failed to get document because the client is offline.")):G&&O.fromCache&&_&&_.source==="server"?b.reject(new ce(W.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):b.resolve(O)},error:O=>b.reject(O)}),R=new Uw(uf(y.path),w,{includeMetadataChanges:!0,qa:!0});return Iw(h,R)}(await rE(l),l.asyncQueue,n,s,i)),i.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bx(l){const n={};return l.timeoutSeconds!==void 0&&(n.timeoutSeconds=l.timeoutSeconds),n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _x="firestore.googleapis.com",Q0=!0;class F0{constructor(n){if(n.host===void 0){if(n.ssl!==void 0)throw new ce(W.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=_x,this.ssl=Q0}else this.host=n.host,this.ssl=n.ssl??Q0;if(this.isUsingEmulator=n.emulatorOptions!==void 0,this.credentials=n.credentials,this.ignoreUndefinedProperties=!!n.ignoreUndefinedProperties,this.localCache=n.localCache,n.cacheSizeBytes===void 0)this.cacheSizeBytes=Wy;else{if(n.cacheSizeBytes!==-1&&n.cacheSizeBytes<OT)throw new ce(W.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=n.cacheSizeBytes}x_("experimentalForceLongPolling",n.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",n.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!n.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:n.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!n.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=bx(n.experimentalLongPollingOptions??{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new ce(W.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!n.useFetchStreams}isEqual(n){return this.host===n.host&&this.ssl===n.ssl&&this.credentials===n.credentials&&this.cacheSizeBytes===n.cacheSizeBytes&&this.experimentalForceLongPolling===n.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===n.experimentalAutoDetectLongPolling&&function(i,u){return i.timeoutSeconds===u.timeoutSeconds}(this.experimentalLongPollingOptions,n.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===n.ignoreUndefinedProperties&&this.useFetchStreams===n.useFetchStreams}}class Nf{constructor(n,s,i,u){this._authCredentials=n,this._appCheckCredentials=s,this._databaseId=i,this._app=u,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new F0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ce(W.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(n){if(this._settingsFrozen)throw new ce(W.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new F0(n),this._emulatorOptions=n.emulatorOptions||{},n.credentials!==void 0&&(this._authCredentials=function(i){if(!i)return new l_;switch(i.type){case"firstParty":return new h_(i.sessionIndex||"0",i.iamToken||null,i.authTokenFactory||null);case"provider":return i.client;default:throw new ce(W.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(n.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(s){const i=H0.get(s);i&&(ie("ComponentProvider","Removing Datastore"),H0.delete(s),i.terminate())}(this),Promise.resolve()}}function oE(l,n,s,i={}){l=Kl(l,Nf);const u=ay(n),h=l._getSettings(),g={...h,emulatorOptions:l._getEmulatorOptions()},y=`${n}:${s}`;u&&(Mb(`https://${y}`),Ob("Firestore",!0)),h.host!==_x&&h.host!==y&&yr("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const _={...h,host:y,ssl:u,emulatorOptions:i};if(!kb(_,g)&&(l._setSettings(_),i.mockUserToken)){let b,w;if(typeof i.mockUserToken=="string")b=i.mockUserToken,w=Gt.MOCK_USER;else{b=Ub(i.mockUserToken,l._app?.options.projectId);const R=i.mockUserToken.sub||i.mockUserToken.user_id;if(!R)throw new ce(W.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");w=new Gt(R)}l._authCredentials=new o_(new dy(b,w))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rf{constructor(n,s,i){this.converter=s,this._query=i,this.type="query",this.firestore=n}withConverter(n){return new Rf(this.firestore,n,this._query)}}class Vt{constructor(n,s,i){this.converter=s,this._key=i,this.type="document",this.firestore=n}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new to(this.firestore,this.converter,this._key.path.popLast())}withConverter(n){return new Vt(this.firestore,n,this._key)}toJSON(){return{type:Vt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(n,s,i){if(no(s,Vt._jsonSchema))return new Vt(n,i||null,new de(et.fromString(s.referencePath)))}}Vt._jsonSchemaVersion="firestore/documentReference/1.0",Vt._jsonSchema={type:pt("string",Vt._jsonSchemaVersion),referencePath:pt("string")};class to extends Rf{constructor(n,s,i){super(n,s,uf(i)),this._path=i,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const n=this._path.popLast();return n.isEmpty()?null:new Vt(this.firestore,null,new de(n))}withConverter(n){return new to(this.firestore,n,this._path)}}function zu(l,n,...s){if(l=Ju(l),arguments.length===1&&(n=tf.newId()),y_("doc","path",n),l instanceof Nf){const i=et.fromString(n,...s);return r0(i),new Vt(l,null,new de(i))}{if(!(l instanceof Vt||l instanceof to))throw new ce(W.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const i=l._path.child(et.fromString(n,...s));return r0(i),new Vt(l.firestore,l instanceof to?l.converter:null,new de(i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y0="AsyncQueue";class K0{constructor(n=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new ax(this,"async_queue_retry"),this._c=()=>{const i=Vd();i&&ie(Y0,"Visibility state changed to "+i.visibilityState),this.M_.w_()},this.ac=n;const s=Vd();s&&typeof s.addEventListener=="function"&&s.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(n){this.enqueue(n)}enqueueAndForgetEvenWhileRestricted(n){this.uc(),this.cc(n)}enterRestrictedMode(n){if(!this.ec){this.ec=!0,this.sc=n||!1;const s=Vd();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this._c)}}enqueue(n){if(this.uc(),this.ec)return new Promise(()=>{});const s=new ms;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(n().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(n){this.enqueueAndForget(()=>(this.Xu.push(n),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(n){if(!Ar(n))throw n;ie(Y0,"Operation failed with retryable error: "+n)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(n){const s=this.ac.then(()=>(this.rc=!0,n().catch(i=>{throw this.nc=i,this.rc=!1,Da("INTERNAL UNHANDLED ERROR: ",X0(i)),i}).then(i=>(this.rc=!1,i))));return this.ac=s,s}enqueueAfterDelay(n,s,i){this.uc(),this.oc.indexOf(n)>-1&&(s=0);const u=Tf.createAndSchedule(this,n,s,i,h=>this.hc(h));return this.tc.push(u),u}uc(){this.nc&&ye(47125,{Pc:X0(this.nc)})}verifyOperationInProgress(){}async Tc(){let n;do n=this.ac,await n;while(n!==this.ac)}Ic(n){for(const s of this.tc)if(s.timerId===n)return!0;return!1}Ec(n){return this.Tc().then(()=>{this.tc.sort((s,i)=>s.targetTimeMs-i.targetTimeMs);for(const s of this.tc)if(s.skipDelay(),n!=="all"&&s.timerId===n)break;return this.Tc()})}dc(n){this.oc.push(n)}hc(n){const s=this.tc.indexOf(n);this.tc.splice(s,1)}}function X0(l){let n=l.message||"";return l.stack&&(n=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),n}class jf extends Nf{constructor(n,s,i,u){super(n,s,i,u),this.type="firestore",this._queue=new K0,this._persistenceKey=u?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const n=this._firestoreClient.terminate();this._queue=new K0(n),this._firestoreClient=void 0,await n}}}function uE(l,n){const s=typeof l=="object"?l:Vb(),i=typeof l=="string"?l:Wu,u=Db(s,"firestore").getImmediate({identifier:i});if(!u._initialized){const h=Ib("firestore");h&&oE(u,...h)}return u}function Tx(l){if(l._terminated)throw new ce(W.FAILED_PRECONDITION,"The client has already been terminated.");return l._firestoreClient||cE(l),l._firestoreClient}function cE(l){const n=l._freezeSettings(),s=function(u,h,g,y){return new j_(u,h,g,y.host,y.ssl,y.experimentalForceLongPolling,y.experimentalAutoDetectLongPolling,bx(y.experimentalLongPollingOptions),y.useFetchStreams,y.isUsingEmulator)}(l._databaseId,l._app?.options.appId||"",l._persistenceKey,n);l._componentsProvider||n.localCache?._offlineComponentProvider&&n.localCache?._onlineComponentProvider&&(l._componentsProvider={_offline:n.localCache._offlineComponentProvider,_online:n.localCache._onlineComponentProvider}),l._firestoreClient=new aE(l._authCredentials,l._appCheckCredentials,l._queue,s,l._componentsProvider&&function(u){const h=u?._online.build();return{_offline:u?._offline.build(h),_online:h}}(l._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(n){this._byteString=n}static fromBase64String(n){try{return new En(Pt.fromBase64String(n))}catch(s){throw new ce(W.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(n){return new En(Pt.fromUint8Array(n))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(n){return this._byteString.isEqual(n._byteString)}toJSON(){return{type:En._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(n){if(no(n,En._jsonSchema))return En.fromBase64String(n.bytes)}}En._jsonSchemaVersion="firestore/bytes/1.0",En._jsonSchema={type:pt("string",En._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cf{constructor(...n){for(let s=0;s<n.length;++s)if(n[s].length===0)throw new ce(W.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new zt(n)}isEqual(n){return this._internalPath.isEqual(n._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wx{constructor(n){this._methodName=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wn{constructor(n,s){if(!isFinite(n)||n<-90||n>90)throw new ce(W.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+n);if(!isFinite(s)||s<-180||s>180)throw new ce(W.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=n,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(n){return this._lat===n._lat&&this._long===n._long}_compareTo(n){return je(this._lat,n._lat)||je(this._long,n._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Wn._jsonSchemaVersion}}static fromJSON(n){if(no(n,Wn._jsonSchema))return new Wn(n.latitude,n.longitude)}}Wn._jsonSchemaVersion="firestore/geoPoint/1.0",Wn._jsonSchema={type:pt("string",Wn._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(n){this._values=(n||[]).map(s=>s)}toArray(){return this._values.map(n=>n)}isEqual(n){return function(i,u){if(i.length!==u.length)return!1;for(let h=0;h<i.length;++h)if(i[h]!==u[h])return!1;return!0}(this._values,n._values)}toJSON(){return{type:ea._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(n){if(no(n,ea._jsonSchema)){if(Array.isArray(n.vectorValues)&&n.vectorValues.every(s=>typeof s=="number"))return new ea(n.vectorValues);throw new ce(W.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ea._jsonSchemaVersion="firestore/vectorValue/1.0",ea._jsonSchema={type:pt("string",ea._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hE=/^__.*__$/;class dE{constructor(n,s,i){this.data=n,this.fieldMask=s,this.fieldTransforms=i}toMutation(n,s){return this.fieldMask!==null?new gi(n,this.data,this.fieldMask,s,this.fieldTransforms):new ao(n,this.data,s,this.fieldTransforms)}}function Ex(l){switch(l){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ye(40011,{Ac:l})}}class Vf{constructor(n,s,i,u,h,g){this.settings=n,this.databaseId=s,this.serializer=i,this.ignoreUndefinedProperties=u,h===void 0&&this.Rc(),this.fieldTransforms=h||[],this.fieldMask=g||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(n){return new Vf({...this.settings,...n},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(n){const s=this.path?.child(n),i=this.Vc({path:s,fc:!1});return i.gc(n),i}yc(n){const s=this.path?.child(n),i=this.Vc({path:s,fc:!1});return i.Rc(),i}wc(n){return this.Vc({path:void 0,fc:!0})}Sc(n){return uc(n,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(n){return this.fieldMask.find(s=>n.isPrefixOf(s))!==void 0||this.fieldTransforms.find(s=>n.isPrefixOf(s.field))!==void 0}Rc(){if(this.path)for(let n=0;n<this.path.length;n++)this.gc(this.path.get(n))}gc(n){if(n.length===0)throw this.Sc("Document fields must not be empty");if(Ex(this.Ac)&&hE.test(n))throw this.Sc('Document fields cannot begin and end with "__"')}}class fE{constructor(n,s,i){this.databaseId=n,this.ignoreUndefinedProperties=s,this.serializer=i||vc(n)}Cc(n,s,i,u=!1){return new Vf({Ac:n,methodName:s,Dc:i,path:zt.emptyPath(),fc:!1,bc:u},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function mE(l){const n=l._freezeSettings(),s=vc(l._databaseId);return new fE(l._databaseId,!!n.ignoreUndefinedProperties,s)}function gE(l,n,s,i,u,h={}){const g=l.Cc(h.merge||h.mergeFields?2:0,n,s,u);Rx("Data must be an object, but it was:",g,i);const y=Sx(i,g);let _,b;if(h.merge)_=new Dn(g.fieldMask),b=g.fieldTransforms;else if(h.mergeFields){const w=[];for(const R of h.mergeFields){const O=pE(n,R,s);if(!g.contains(O))throw new ce(W.INVALID_ARGUMENT,`Field '${O}' is specified in your field mask but missing from your input data.`);xE(w,O)||w.push(O)}_=new Dn(w),b=g.fieldTransforms.filter(R=>_.covers(R.field))}else _=null,b=g.fieldTransforms;return new dE(new wn(y),_,b)}function Ax(l,n){if(Nx(l=Ju(l)))return Rx("Unsupported field value:",n,l),Sx(l,n);if(l instanceof wx)return function(i,u){if(!Ex(u.Ac))throw u.Sc(`${i._methodName}() can only be used with update() and set()`);if(!u.path)throw u.Sc(`${i._methodName}() is not currently supported inside arrays`);const h=i._toFieldTransform(u);h&&u.fieldTransforms.push(h)}(l,n),null;if(l===void 0&&n.ignoreUndefinedProperties)return null;if(n.path&&n.fieldMask.push(n.path),l instanceof Array){if(n.settings.fc&&n.Ac!==4)throw n.Sc("Nested arrays are not supported");return function(i,u){const h=[];let g=0;for(const y of i){let _=Ax(y,u.wc(g));_==null&&(_={nullValue:"NULL_VALUE"}),h.push(_),g++}return{arrayValue:{values:h}}}(l,n)}return function(i,u){if((i=Ju(i))===null)return{nullValue:"NULL_VALUE"};if(typeof i=="number")return W_(u.serializer,i);if(typeof i=="boolean")return{booleanValue:i};if(typeof i=="string")return{stringValue:i};if(i instanceof Date){const h=Xe.fromDate(i);return{timestampValue:ic(u.serializer,h)}}if(i instanceof Xe){const h=new Xe(i.seconds,1e3*Math.floor(i.nanoseconds/1e3));return{timestampValue:ic(u.serializer,h)}}if(i instanceof Wn)return{geoPointValue:{latitude:i.latitude,longitude:i.longitude}};if(i instanceof En)return{bytesValue:Fy(u.serializer,i._byteString)};if(i instanceof Vt){const h=u.databaseId,g=i.firestore._databaseId;if(!g.isEqual(h))throw u.Sc(`Document reference is for database ${g.projectId}/${g.database} but should be for database ${h.projectId}/${h.database}`);return{referenceValue:ff(i.firestore._databaseId||u.databaseId,i._key.path)}}if(i instanceof ea)return function(g,y){return{mapValue:{fields:{[_y]:{stringValue:Ty},[ec]:{arrayValue:{values:g.toArray().map(b=>{if(typeof b!="number")throw y.Sc("VectorValues must only contain numeric values.");return cf(y.serializer,b)})}}}}}}(i,u);throw u.Sc(`Unsupported field value: ${nf(i)}`)}(l,n)}function Sx(l,n){const s={};return gy(l)?n.path&&n.path.length>0&&n.fieldMask.push(n.path):fi(l,(i,u)=>{const h=Ax(u,n.mc(i));h!=null&&(s[i]=h)}),{mapValue:{fields:s}}}function Nx(l){return!(typeof l!="object"||l===null||l instanceof Array||l instanceof Date||l instanceof Xe||l instanceof Wn||l instanceof En||l instanceof Vt||l instanceof wx||l instanceof ea)}function Rx(l,n,s){if(!Nx(s)||!fy(s)){const i=nf(s);throw i==="an object"?n.Sc(l+" a custom object"):n.Sc(l+" "+i)}}function pE(l,n,s){if((n=Ju(n))instanceof Cf)return n._internalPath;if(typeof n=="string")return jx(l,n);throw uc("Field path arguments must be of type string or ",l,!1,void 0,s)}const yE=new RegExp("[~\\*/\\[\\]]");function jx(l,n,s){if(n.search(yE)>=0)throw uc(`Invalid field path (${n}). Paths must not contain '~', '*', '/', '[', or ']'`,l,!1,void 0,s);try{return new Cf(...n.split("."))._internalPath}catch{throw uc(`Invalid field path (${n}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,l,!1,void 0,s)}}function uc(l,n,s,i,u){const h=i&&!i.isEmpty(),g=u!==void 0;let y=`Function ${n}() called with invalid data`;s&&(y+=" (via `toFirestore()`)"),y+=". ";let _="";return(h||g)&&(_+=" (found",h&&(_+=` in field ${i}`),g&&(_+=` in document ${u}`),_+=")"),new ce(W.INVALID_ARGUMENT,y+l+_)}function xE(l,n){return l.some(s=>s.isEqual(n))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(n,s,i,u,h){this._firestore=n,this._userDataWriter=s,this._key=i,this._document=u,this._converter=h}get id(){return this._key.path.lastSegment()}get ref(){return new Vt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const n=new vE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(n)}return this._userDataWriter.convertValue(this._document.data.value)}}get(n){if(this._document){const s=this._document.data.field(Vx("DocumentSnapshot.get",n));if(s!==null)return this._userDataWriter.convertValue(s)}}}class vE extends Cx{data(){return super.data()}}function Vx(l,n){return typeof n=="string"?jx(l,n):n instanceof Cf?n._internalPath:n._delegate._internalPath}class bE{convertValue(n,s="none"){switch(xs(n)){case 0:return null;case 1:return n.booleanValue;case 2:return ut(n.integerValue||n.doubleValue);case 3:return this.convertTimestamp(n.timestampValue);case 4:return this.convertServerTimestamp(n,s);case 5:return n.stringValue;case 6:return this.convertBytes(ys(n.bytesValue));case 7:return this.convertReference(n.referenceValue);case 8:return this.convertGeoPoint(n.geoPointValue);case 9:return this.convertArray(n.arrayValue,s);case 11:return this.convertObject(n.mapValue,s);case 10:return this.convertVectorValue(n.mapValue);default:throw ye(62114,{value:n})}}convertObject(n,s){return this.convertObjectMap(n.fields,s)}convertObjectMap(n,s="none"){const i={};return fi(n,(u,h)=>{i[u]=this.convertValue(h,s)}),i}convertVectorValue(n){const s=n.fields?.[ec].arrayValue?.values?.map(i=>ut(i.doubleValue));return new ea(s)}convertGeoPoint(n){return new Wn(ut(n.latitude),ut(n.longitude))}convertArray(n,s){return(n.values||[]).map(i=>this.convertValue(i,s))}convertServerTimestamp(n,s){switch(s){case"previous":const i=dc(n);return i==null?null:this.convertValue(i,s);case"estimate":return this.convertTimestamp(Zl(n));default:return null}}convertTimestamp(n){const s=ps(n);return new Xe(s.seconds,s.nanos)}convertDocumentKey(n,s){const i=et.fromString(n);ze($y(i),9688,{name:n});const u=new Jl(i.get(1),i.get(3)),h=new de(i.popFirst(5));return u.isEqual(s)||Da(`Document ${h} contains a document reference within a different database (${u.projectId}/${u.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _E(l,n,s){let i;return i=l?l.toFirestore(n):n,i}class ql{constructor(n,s){this.hasPendingWrites=n,this.fromCache=s}isEqual(n){return this.hasPendingWrites===n.hasPendingWrites&&this.fromCache===n.fromCache}}class li extends Cx{constructor(n,s,i,u,h,g){super(n,s,i,u,g),this._firestore=n,this._firestoreImpl=n,this.metadata=h}exists(){return super.exists()}data(n={}){if(this._document){if(this._converter){const s=new Yu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,n)}return this._userDataWriter.convertValue(this._document.data.value,n.serverTimestamps)}}get(n,s={}){if(this._document){const i=this._document.data.field(Vx("DocumentSnapshot.get",n));if(i!==null)return this._userDataWriter.convertValue(i,s.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(W.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n=this._document,s={};return s.type=li._jsonSchemaVersion,s.bundle="",s.bundleSource="DocumentSnapshot",s.bundleName=this._key.toString(),!n||!n.isValidDocument()||!n.isFoundDocument()?s:(this._userDataWriter.convertObjectMap(n.data.value.mapValue.fields,"previous"),s.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),s)}}li._jsonSchemaVersion="firestore/documentSnapshot/1.0",li._jsonSchema={type:pt("string",li._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class Yu extends li{data(n={}){return super.data(n)}}class Fl{constructor(n,s,i,u){this._firestore=n,this._userDataWriter=s,this._snapshot=u,this.metadata=new ql(u.hasPendingWrites,u.fromCache),this.query=i}get docs(){const n=[];return this.forEach(s=>n.push(s)),n}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(n,s){this._snapshot.docs.forEach(i=>{n.call(s,new Yu(this._firestore,this._userDataWriter,i.key,i,new ql(this._snapshot.mutatedKeys.has(i.key),this._snapshot.fromCache),this.query.converter))})}docChanges(n={}){const s=!!n.includeMetadataChanges;if(s&&this._snapshot.excludesMetadataChanges)throw new ce(W.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===s||(this._cachedChanges=function(u,h){if(u._snapshot.oldDocs.isEmpty()){let g=0;return u._snapshot.docChanges.map(y=>{const _=new Yu(u._firestore,u._userDataWriter,y.doc.key,y.doc,new ql(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);return y.doc,{type:"added",doc:_,oldIndex:-1,newIndex:g++}})}{let g=u._snapshot.oldDocs;return u._snapshot.docChanges.filter(y=>h||y.type!==3).map(y=>{const _=new Yu(u._firestore,u._userDataWriter,y.doc.key,y.doc,new ql(u._snapshot.mutatedKeys.has(y.doc.key),u._snapshot.fromCache),u.query.converter);let b=-1,w=-1;return y.type!==0&&(b=g.indexOf(y.doc.key),g=g.delete(y.doc.key)),y.type!==1&&(g=g.add(y.doc),w=g.indexOf(y.doc.key)),{type:TE(y.type),doc:_,oldIndex:b,newIndex:w}})}}(this,s),this._cachedChangesIncludeMetadataChanges=s),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ce(W.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const n={};n.type=Fl._jsonSchemaVersion,n.bundleSource="QuerySnapshot",n.bundleName=tf.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const s=[],i=[],u=[];return this.docs.forEach(h=>{h._document!==null&&(s.push(h._document),i.push(this._userDataWriter.convertObjectMap(h._document.data.value.mapValue.fields,"previous")),u.push(h.ref.path))}),n.bundle=(this._firestore,this.query._query,n.bundleName,"NOT SUPPORTED"),n}}function TE(l){switch(l){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ye(61501,{type:l})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Id(l){l=Kl(l,Vt);const n=Kl(l.firestore,jf);return lE(Tx(n),l._key).then(s=>SE(n,l,s))}Fl._jsonSchemaVersion="firestore/querySnapshot/1.0",Fl._jsonSchema={type:pt("string",Fl._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};class wE extends bE{constructor(n){super(),this.firestore=n}convertBytes(n){return new En(n)}convertReference(n){const s=this.convertDocumentKey(n,this.firestore._databaseId);return new Vt(this.firestore,null,s)}}function EE(l,n,s){l=Kl(l,Vt);const i=Kl(l.firestore,jf),u=_E(l.converter,n);return AE(i,[gE(mE(i),"setDoc",l._key,u,l.converter!==null,s).toMutation(l._key,Va.none())])}function AE(l,n){return function(i,u){const h=new ms;return i.asyncQueue.enqueueAndForget(async()=>Yw(await iE(i),u,h)),h.promise}(Tx(l),n)}function SE(l,n,s){const i=s.docs.get(n._key),u=new wE(l);return new li(l,u,n._key,i,new ql(s.hasPendingWrites,s.fromCache),n.converter)}(function(n,s=!0){(function(u){wr=u})(Lb),Nb(new Rb("firestore",(i,{instanceIdentifier:u,options:h})=>{const g=i.getProvider("app").getImmediate(),y=new jf(new u_(i.getProvider("auth-internal")),new d_(g,i.getProvider("app-check-internal")),function(b,w){if(!Object.prototype.hasOwnProperty.apply(b.options,["projectId"]))throw new ce(W.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Jl(b.options.projectId,w)}(g,u),g);return h={useFetchStreams:s,...h},y._setSettings(h),y},"PUBLIC").setMultipleInstances(!0)),Kp(n0,a0,n),Kp(n0,a0,"esm2020")})();const NE={apiKey:"AIzaSyAj0gR2Qe_7EeDO_C7IAY1faKlilVi_KnM",authDomain:"ecovision-waste-management.firebaseapp.com",projectId:"ecovision-waste-management",storageBucket:"ecovision-waste-management.firebasestorage.app",messagingSenderId:"734580869994",appId:"1:734580869994:web:dd7dcc583f2e26d5563313"},Dx=qb(NE),Ul=Bb(Dx),Pu=uE(Dx),Ix=se.createContext(),_s=()=>{const l=se.useContext(Ix);if(!l)throw new Error("useAuth must be used within an AuthProvider");return l},RE=({children:l})=>{const[n,s]=se.useState(null),[i,u]=se.useState(!0),h=async(w,R,O,G,$="user",F={})=>{const K=await Kb(Ul,w,R);return await Xb(K.user,{displayName:`${O} ${G}`}),await EE(zu(Pu,"users",K.user.uid),{uid:K.user.uid,email:K.user.email,displayName:`${O} ${G}`,role:$,createdAt:new Date().toISOString(),...F}),K},g=async(w,R,O=null)=>{const G=await Yb(Ul,w,R);if(O){const $=await Id(zu(Pu,"users",G.user.uid));if($.exists()&&$.data().role!==O)throw new Error("Invalid role for this account")}return G},y=async(w=null)=>{const R=new Qb,O=await Fb(Ul,R);if(w){const G=await Id(zu(Pu,"users",O.user.uid));if(G.exists()&&G.data().role!==w)throw new Error("Invalid role for this account")}return O},_=()=>Hb(Ul);se.useEffect(()=>Gb(Ul,async R=>{if(R)try{const O=await Id(zu(Pu,"users",R.uid));O.exists()?s({...R,...O.data()}):s(R)}catch(O){console.error("Error fetching user data:",O),s(R)}else s(null);u(!1)}),[]);const b={user:n,signUp:h,signIn:g,signInWithGoogle:y,logout:_,loading:i};return d.jsx(Ix.Provider,{value:b,children:!i&&l})},Mx=se.createContext(),Ts=()=>{const l=se.useContext(Mx);if(!l)throw new Error("useNotification must be used within a NotificationProvider");return l},jE=({children:l})=>{const[n,s]=se.useState([]),i=(w,R="info",O=5e3)=>{const G=Date.now(),$={id:G,message:w,type:R,duration:O};return s(F=>[...F,$]),O>0&&setTimeout(()=>{u(G)},O),G},u=w=>{s(R=>R.filter(O=>O.id!==w))},b={notifications:n,addNotification:i,removeNotification:u,showSuccess:(w,R=5e3)=>i(w,"success",R),showError:(w,R=5e3)=>i(w,"error",R),showInfo:(w,R=5e3)=>i(w,"info",R),showWarning:(w,R=5e3)=>i(w,"warning",R)};return d.jsx(Mx.Provider,{value:b,children:l})},hi=()=>{const{user:l,logout:n}=_s(),{showSuccess:s,showError:i}=Ts(),u=di(),[h,g]=se.useState(!1),y=se.useRef(null),_=async()=>{try{await n(),s("You have been logged out."),u("/")}catch(b){console.error("Logout error:",b),i("Failed to log out. Please try again.")}};if(se.useEffect(()=>{const b=w=>{y.current&&!y.current.contains(w.target)&&g(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]),l){const b=l.email?l.email.charAt(0).toUpperCase():"?";return d.jsxs("div",{className:"relative",ref:y,children:[d.jsxs("button",{onClick:()=>g(!h),className:"flex items-center space-x-2 focus:outline-none focus:ring-2 focus:ring-emerald-500 rounded-full transition-all duration-300 group",children:[l.photoURL?d.jsx("img",{src:l.photoURL,alt:"User profile",className:"h-10 w-10 rounded-full object-cover border-2 border-white/50 shadow-lg group-hover:scale-110 transition-transform duration-300"}):d.jsx("div",{className:"flex items-center justify-center h-10 w-10 bg-emerald-500 text-white rounded-full font-bold text-xl shadow-lg border-2 border-white/50 group-hover:scale-110 transition-transform duration-300",children:b}),d.jsx(ee,{icon:cb,className:`text-gray-600 text-sm transform transition-transform duration-300 ${h?"rotate-180":"rotate-0"}`})]}),h&&d.jsxs("div",{className:"absolute right-0 mt-3 w-56 glass-card rounded-xl shadow-2xl z-10 p-2 border border-white/30 animate-fade-in-up origin-top-right",children:[d.jsxs("div",{className:"p-3 border-b border-white/30 mb-2",children:[d.jsx("p",{className:"text-gray-800 font-semibold truncate",children:l.email}),d.jsx("p",{className:"text-gray-500 text-sm flex items-center gap-2",children:l.role==="worker"?d.jsxs(d.Fragment,{children:[d.jsx(ee,{icon:Yl,className:"text-orange-500"}),"Worker"]}):d.jsxs(d.Fragment,{children:[d.jsx(ee,{icon:Md,className:"text-emerald-500"}),"User"]})})]}),l.role==="worker"&&d.jsxs(We,{to:"/worker-dashboard",className:"w-full text-left px-4 py-3 rounded-lg text-gray-700 hover:bg-orange-100/60 hover:text-orange-600 transition-colors duration-200 font-semibold flex items-center gap-3",onClick:()=>g(!1),children:[d.jsx(ee,{icon:Ku}),"Worker Dashboard"]}),d.jsxs("button",{onClick:_,className:"w-full text-left px-4 py-3 rounded-lg text-gray-700 hover:bg-red-100/60 hover:text-red-600 transition-colors duration-200 font-semibold flex items-center gap-3",children:[d.jsx(ee,{icon:hb}),"Logout"]})]})]})}return d.jsxs("nav",{className:"hidden md:flex items-center gap-4",children:[d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(We,{to:"/signin",className:"bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white px-4 py-2 rounded-lg font-semibold transition duration-300 shadow-lg hover:shadow-xl",children:[d.jsx(ee,{icon:$0,className:"mr-2"}),"Sign In"]}),d.jsxs(We,{to:"/signup",className:"bg-gradient-to-r from-blue-500 to-purple-600 hover:from-blue-600 hover:to-purple-700 text-white px-4 py-2 rounded-lg font-semibold transition duration-300 shadow-lg hover:shadow-xl",children:[d.jsx(ee,{icon:W0,className:"mr-2"}),"Sign Up"]})]}),d.jsx("div",{className:"border-l border-gray-300 pl-4",children:d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(We,{to:"/worker-signin",className:"bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white px-3 py-2 rounded-lg font-semibold transition duration-300 shadow-lg hover:shadow-xl text-sm",children:[d.jsx(ee,{icon:Yl,className:"mr-1"}),"Worker Sign In"]}),d.jsxs(We,{to:"/worker-signup",className:"bg-gradient-to-r from-red-500 to-red-600 hover:from-red-600 hover:to-red-700 text-white px-3 py-2 rounded-lg font-semibold transition duration-300 shadow-lg hover:shadow-xl text-sm",children:[d.jsx(ee,{icon:Ku,className:"mr-1"}),"Worker Sign Up"]})]})})]})},Df=()=>{const[l,n]=se.useState(!1),[s,i]=se.useState(!1),u=ib(),{user:h,loading:g}=_s();se.useEffect(()=>{const b=()=>{i(window.scrollY>20)};return window.addEventListener("scroll",b),()=>window.removeEventListener("scroll",b)},[]);const y=b=>u.pathname===b,_=[{path:"/",label:"Home",icon:db},{path:"/report",label:"Report Issue",icon:Xu}];return d.jsx("header",{className:`sticky top-0 z-50 transition-all duration-500 backdrop-blur-2xl border-b-2 border-emerald-200/40 shadow-2xl ${s?"bg-white/80 shadow-emerald-200/40 scale-[1.02]":"bg-white/30"}`,children:d.jsxs("div",{className:"container-responsive py-3 xs:py-4",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-3 xs:gap-4 sm:gap-6",children:[d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"absolute -inset-2 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-full blur opacity-30 group-hover:opacity-50 transition-opacity duration-300"}),d.jsx("div",{className:"relative bg-gradient-to-r from-emerald-500 to-blue-500 p-2 rounded-full shadow-lg group-hover:shadow-xl transition-all duration-300 group-hover:scale-110",children:d.jsx(ee,{icon:ey,className:"text-white text-lg xs:text-xl sm:text-2xl animate-bounce-gentle"})})]}),d.jsxs("div",{className:"flex flex-col",children:[d.jsx("h1",{className:"text-lg xs:text-xl sm:text-2xl font-black text-gray-800 font-heading leading-tight",children:d.jsx("span",{className:"bg-gradient-to-r from-emerald-600 to-blue-600 bg-clip-text text-transparent animate-gradient-shift",children:"EcoVision"})}),d.jsx("p",{className:"text-xs xs:text-sm text-gray-600 font-medium hidden sm:block",children:"Clean Communities, Green Future"})]})]}),d.jsxs("nav",{className:"hidden lg:flex items-center gap-6",children:[_.map((b,w)=>d.jsxs(We,{to:b.path,className:`relative px-4 py-2 font-semibold rounded-xl transition-all duration-300 hover:scale-105 group ${y(b.path)?"text-emerald-600 bg-emerald-50 shadow-md":"text-gray-700 hover:text-emerald-600"}`,style:{animationDelay:`${w*.1}s`},children:[d.jsx("span",{className:"relative z-10",children:b.label}),y(b.path)&&d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-emerald-100 to-blue-100 rounded-xl opacity-80 animate-pulse-glow"}),d.jsx("div",{className:"absolute bottom-0 left-0 w-0 h-0.5 bg-gradient-to-r from-emerald-500 to-blue-500 transition-all duration-300 group-hover:w-full"})]},b.path)),!g&&(h?d.jsx(hi,{}):d.jsxs(d.Fragment,{children:[d.jsx(We,{to:"/signin",className:"relative px-4 py-2 font-semibold rounded-xl transition-all duration-300 hover:scale-105 group text-gray-700 hover:text-emerald-600",children:d.jsx("span",{className:"relative z-10",children:"Sign In"})}),d.jsx(We,{to:"/signup",className:"relative px-4 py-2 font-semibold rounded-xl transition-all duration-300 hover:scale-105 group text-gray-700 hover:text-emerald-600",children:d.jsx("span",{className:"relative z-10",children:"Sign Up"})})]}))]}),d.jsx("button",{onClick:()=>n(!l),className:"lg:hidden p-2 rounded-xl bg-white/20 backdrop-blur-sm border border-white/30 hover:bg-white/30 transition-all duration-300 hover:scale-110 focus-ring","aria-label":"Toggle menu",children:d.jsx(ee,{icon:l?Wd:fb,className:"text-gray-700 text-lg transition-all duration-300"})})]}),d.jsx("div",{className:`lg:hidden transition-all duration-500 ease-in-out ${l?"max-h-96 opacity-100 mt-4":"max-h-0 opacity-0 mt-0 overflow-hidden"}`,children:d.jsxs("nav",{className:"bg-white/90 backdrop-blur-xl rounded-2xl shadow-2xl border border-white/30 p-4 space-y-2",children:[_.map((b,w)=>d.jsx(We,{to:b.path,onClick:()=>n(!1),className:`block px-4 py-3 rounded-xl font-semibold transition-all duration-300 hover:scale-105 hover:shadow-lg ${y(b.path)?"bg-gradient-to-r from-emerald-500 to-blue-500 text-white shadow-lg":"text-gray-700 hover:bg-emerald-50 hover:text-emerald-600"}`,style:{animationDelay:`${w*.1}s`},children:b.label},b.path)),!g&&(h?d.jsx(hi,{}):d.jsxs(d.Fragment,{children:[d.jsx(We,{to:"/signin",onClick:()=>n(!1),className:`block px-4 py-3 rounded-xl font-semibold transition-all duration-300 hover:scale-105 hover:shadow-lg ${y("/signin")?"bg-gradient-to-r from-emerald-500 to-blue-500 text-white shadow-lg":"text-gray-700 hover:bg-emerald-50 hover:text-emerald-600"}`,children:"Sign In"}),d.jsx(We,{to:"/signup",onClick:()=>n(!1),className:`block px-4 py-3 rounded-xl font-semibold transition-all duration-300 hover:scale-105 hover:shadow-lg ${y("/signup")?"bg-gradient-to-r from-emerald-500 to-blue-500 text-white shadow-lg":"text-gray-700 hover:bg-emerald-50 hover:text-emerald-600"}`,children:"Sign Up"})]}))]})})]})})},CE=()=>{const[l,n]=se.useState([]),[s,i]=se.useState("all"),[u,h]=se.useState(!1),[g,y]=se.useState(!1),[_,b]=se.useState(""),[w,R]=se.useState(""),[O,G]=se.useState(!0),[$,F]=se.useState(0),[K,te]=se.useState({garbage:0,animalDeath:0,animalAdopt:0,other:0}),[le,oe]=se.useState(0),ve=["Cleaner Communities, Greener Future","Report. Resolve. Renew.","Together for a Sustainable Tomorrow","Your Report Makes a Difference","Act Green, Live Clean"],be=se.useRef(null),fe=se.useRef(null),V=se.useRef(null),E=se.useRef(null),N=se.useRef(null);se.useEffect(()=>{document.documentElement.style.scrollBehavior="smooth",C();const B=setInterval(()=>{oe(Pe=>(Pe+1)%ve.length)},3e3);let ae=!1;const he=()=>{ae||(requestAnimationFrame(()=>{h(window.scrollY>300),ae=!1}),ae=!0)};window.addEventListener("scroll",he,{passive:!0});const Re={threshold:.1,rootMargin:"0px 0px -50px 0px"},_e=new IntersectionObserver(Pe=>{Pe.forEach(ct=>{ct.isIntersecting&&(ct.target.classList.add("animate-fade-in"),ct.target.querySelectorAll(".animate-stagger").forEach((un,Ma)=>{un.style.animationDelay=`${Ma*.1}s`,un.classList.add("animate-slide-up")}))})},Re);return[be.current,fe.current,V.current,E.current,N.current].forEach(Pe=>{Pe&&_e.observe(Pe)}),()=>{clearInterval(B),window.removeEventListener("scroll",he),_e.disconnect(),document.documentElement.style.scrollBehavior="auto"}},[]);const C=async()=>{try{G(!0);const B=await fetch("https://eco-react-1.onrender.com/api/reports");if(B.ok){const ae=await B.json();n(ae),F(ae.length);const he={garbage:ae.filter(Re=>Re.type==="garbage").length,animalDeath:ae.filter(Re=>Re.type==="animal-death").length,animalAdopt:ae.filter(Re=>Re.type==="animal-adopt").length,other:ae.filter(Re=>!["garbage","animal-death","animal-adopt"].includes(Re.type)).length};te(he)}}catch(B){console.error("Failed to fetch reports:",B)}finally{G(!1)}},D=()=>{window.scrollTo({top:0,behavior:"smooth"})},M=B=>{const ae=document.getElementById(B);ae&&ae.scrollIntoView({behavior:"smooth",block:"start"})},S=B=>({Pending:"bg-yellow-100 text-yellow-700",Acknowledged:"bg-blue-100 text-blue-700","In Progress":"bg-orange-100 text-orange-700",Resolved:"bg-green-100 text-green-700"})[B]||"bg-gray-200 text-gray-700",yt=B=>{const ae={garbage:{icon:Od,color:"bg-emerald-100 text-emerald-700",label:"Garbage"},"animal-death":{icon:vb,color:"bg-red-100 text-red-700",label:"Animal Death"},"animal-adopt":{icon:Td,color:"bg-blue-100 text-blue-700",label:"Animal Adoption"},"animal-care":{icon:Td,color:"bg-purple-100 text-purple-700",label:"Animal Care"},cleaning:{icon:xb,color:"bg-cyan-100 text-cyan-700",label:"Cleaning"},recycling:{icon:Gp,color:"bg-green-100 text-green-700",label:"Recycling"},hazardous:{icon:fr,color:"bg-red-100 text-red-700",label:"Hazardous"},other:{icon:Zu,color:"bg-gray-100 text-gray-700",label:"Other"}},he=ae[B]||ae.other;return d.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-semibold ${he.color}`,children:[d.jsx(ee,{icon:he.icon}),he.label]})},it=s==="all"?l:l.filter(B=>B.type===s.replace("_","-")),Q=()=>{y(!0)},J=async()=>{if(_==="12341234"){y(!1),b(""),R("");try{if((await fetch(`https://eco-react-1.onrender.com/api/reports?password=${_}`||`http://localhost:5000/api/reports?password=${_}`,{method:"DELETE"})).ok)n([]),F(0),te({garbage:0,animalDeath:0,animalAdopt:0,other:0});else throw new Error("Failed to clear reports")}catch(B){console.error("Error clearing reports:",B)}}else R("Incorrect password")};return d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white via-blue-50 to-emerald-50 scroll-smooth",children:[d.jsx(Df,{}),d.jsxs("section",{ref:be,className:"relative min-h-[500px] md:min-h-[600px] flex items-center justify-center overflow-hidden",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/40 via-black/20 to-transparent z-10 transition-all duration-700"}),d.jsxs("video",{autoPlay:!0,muted:!0,loop:!0,playsInline:!0,className:"absolute inset-0 w-full h-full object-cover object-center z-0 transition-all duration-700",children:[d.jsx("source",{src:"/download.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),d.jsxs("div",{className:"relative z-20 text-center text-white px-6",children:[d.jsx("h1",{className:"text-hero font-black mb-6 font-display drop-shadow-2xl animate-slide-up",children:d.jsx("span",{className:"bg-gradient-to-r from-white via-emerald-100 to-blue-200 bg-clip-text text-transparent animate-gradient-shift",children:"EcoVision"})}),d.jsx("p",{className:"text-lg md:text-2xl lg:text-3xl font-medium mb-8 drop-shadow-lg max-w-3xl mx-auto animate-fade-in",style:{animationDelay:"0.3s"},children:d.jsx("span",{className:"animate-scale-in block",children:ve[le]},le)}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 xs:gap-6 justify-center items-center animate-slide-up",style:{animationDelay:"0.6s"},children:[d.jsxs(We,{to:"/report",className:"group relative overflow-hidden bg-gradient-to-r from-emerald-500 to-blue-500 hover:from-emerald-600 hover:to-blue-600 text-white px-6 xs:px-8 py-3 xs:py-4 rounded-2xl xs:rounded-3xl font-bold text-base xs:text-lg md:text-xl shadow-glow-lg hover:shadow-glow transition-all duration-300 hover:scale-105 transform animate-bounce-gentle",children:[d.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-white/20 to-transparent opacity-0 group-hover:opacity-100 transition-opacity duration-300"}),d.jsxs("span",{className:"relative z-10 flex items-center justify-center",children:[d.jsx(ee,{icon:Xu,className:"mr-2 xs:mr-3 animate-bounce-gentle"}),"Report Issue"]})]}),d.jsxs("button",{onClick:()=>M("dashboard-section"),className:"group relative overflow-hidden bg-white/20 backdrop-blur-xl text-white px-6 xs:px-8 py-3 xs:py-4 rounded-2xl xs:rounded-3xl font-bold text-base xs:text-lg md:text-xl shadow-2xl hover:shadow-card-lg transition-all duration-300 border border-white/30 hover:border-white/50 hover:scale-105 hover:bg-white/30 animate-fade-in",children:[d.jsx(ee,{icon:ty,className:"mr-2 xs:mr-3"}),"View Dashboard"]})]})]})]}),d.jsx("section",{ref:N,className:"max-w-7xl mx-auto mt-16 px-6",children:d.jsxs("div",{className:"glass-card rounded-3xl p-6 md:p-8 shadow-2xl animate-slide-up",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsxs("h2",{className:"text-2xl md:text-3xl font-black text-gray-800 mb-4 font-heading",children:[d.jsx(ee,{icon:mb,className:"mr-3 text-emerald-500"}),"Report Statistics"]}),d.jsx("p",{className:"text-gray-600 text-lg",children:"Track the impact of community reports"})]}),d.jsx("div",{className:"flex justify-center",children:d.jsxs("div",{className:"bg-gradient-to-br from-emerald-500 to-emerald-600 text-white p-6 md:p-8 rounded-3xl text-center shadow-lg hover:shadow-xl transition-all duration-300 hover:scale-105 animate-stagger max-w-md",children:[d.jsx("div",{className:"text-4xl md:text-5xl font-bold mb-3",children:$}),d.jsx("div",{className:"text-lg md:text-xl font-semibold",children:"Total Reports"})]})})]})}),d.jsxs("section",{ref:fe,className:"max-w-7xl mx-auto mt-20 px-6",children:[d.jsxs("div",{className:"text-center mb-12 animate-slide-up",children:[d.jsx("h2",{className:"text-section-title font-black text-gray-800 mb-4 font-heading bg-gradient-to-r from-emerald-700 to-blue-700 bg-clip-text text-transparent animate-gradient-shift",children:"Our Mission in Action"}),d.jsx("p",{className:"text-base xs:text-lg md:text-xl text-gray-600 max-w-2xl mx-auto leading-relaxed animate-fade-in",children:"Discover how we're making a difference in communities around the world"})]}),d.jsx("div",{className:"grid grid-cols-1 xs:grid-cols-2 lg:grid-cols-4 gap-4 xs:gap-6 md:gap-8",children:[{src:"/images/img1.avif",alt:"Clean Environment",title:"Protect Nature, Preserve Life"},{src:"/images/img2.webp",alt:"Community Action",title:"Every Action Counts"},{src:"/images/img4.avif",alt:"Sustainable Living",title:"Sustainable Living, Sustainable Future"},{src:"/images/banner_29.jpg",alt:"Green Future",title:"Cleaner Communities, Greener Future"}].map((B,ae)=>d.jsxs("div",{className:"relative group overflow-hidden rounded-2xl xs:rounded-3xl shadow-card hover:shadow-card-lg transition-all duration-500 hover:scale-105 transform animate-slide-up card-hover",style:{animationDelay:`${ae*.1}s`},children:[d.jsx("img",{src:B.src,alt:B.alt,className:"w-full h-40 xs:h-48 md:h-64 object-cover object-center transition-transform duration-700 group-hover:scale-110 group-hover:rotate-1 animate-fade-in",loading:"lazy"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/30 to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition-all duration-500",children:d.jsx("span",{className:"text-white font-bold text-sm xs:text-lg md:text-xl mb-4 xs:mb-6 drop-shadow-lg text-center px-2 xs:px-4 animate-slide-up",children:B.title})}),d.jsx("div",{className:"absolute top-4 right-4 w-3 h-3 bg-emerald-400 rounded-full opacity-0 group-hover:opacity-100 transition-opacity duration-300 animate-pulse"})]},ae))})]}),d.jsx("main",{ref:V,className:"max-w-7xl mx-auto px-6 mt-16 mb-16",id:"dashboard-section",children:d.jsxs("div",{className:"glass-card rounded-3xl p-6 md:p-8 shadow-2xl border border-white/30",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between mb-6 gap-4",children:[d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl md:text-3xl font-black text-gray-800 font-heading",children:"Reported Issues Dashboard"}),d.jsxs("p",{className:"text-gray-600 mt-2",children:["Showing ",it.length," of ",$," total reports"]})]}),d.jsxs("button",{onClick:Q,className:"btn-secondary bg-red-500 hover:bg-red-600 text-white border-red-500 hover:border-red-600 group",children:[d.jsx(ee,{icon:Od,className:"mr-2 group-hover:scale-110 transition-transform duration-300"}),"Clear All Reports"]})]}),d.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O?d.jsxs("div",{className:"col-span-full text-center py-12",children:[d.jsx("div",{className:"loading-shimmer w-16 h-16 rounded-full mx-auto mb-4"}),d.jsx("p",{className:"text-gray-500 text-lg",children:"Loading reports..."})]}):it.length===0?d.jsx("div",{className:"col-span-full text-center py-12",children:d.jsx("p",{className:"text-gray-500 text-lg",children:"No reported issues yet."})}):it.map((B,ae)=>{const he={Critical:"bg-red-500 text-white",High:"bg-orange-500 text-white",Medium:"bg-yellow-400 text-gray-900",Low:"bg-emerald-400 text-white"},Re=B.priority||"Medium",_e=he[Re]||"bg-gray-300 text-gray-800",Pe={garbage:"border-emerald-400 shadow-emerald-200/40","animal-death":"border-red-400 shadow-red-200/40","animal-adopt":"border-blue-400 shadow-blue-200/40","animal-care":"border-purple-400 shadow-purple-200/40",cleaning:"border-cyan-400 shadow-cyan-200/40",recycling:"border-green-400 shadow-green-200/40",hazardous:"border-red-600 shadow-red-300/40",other:"border-gray-400 shadow-gray-200/40"}[B.type]||"border-gray-300 shadow-gray-100/40";return d.jsxs("div",{className:`relative bg-white/90 backdrop-blur-md rounded-2xl border-2 p-4 shadow-xl hover:shadow-2xl transition-all duration-300 group ${Pe} animate-slide-up card-hover`,style:{animationDelay:`${ae*.1}s`},children:[d.jsxs("div",{className:`absolute top-4 right-4 px-3 py-1 rounded-full font-bold text-xs shadow-md animate-bounce-gentle ${_e}`,children:[Re," Priority"]}),d.jsx("div",{className:"mb-2 flex flex-col items-start gap-1",children:yt(B.reportType)}),d.jsx("img",{src:B.image,alt:"Report",className:"w-full h-32 object-cover rounded-xl mb-2 border border-emerald-200 group-hover:scale-105 group-hover:shadow-lg transition-transform duration-300"}),d.jsx("div",{className:"font-semibold text-gray-800 text-center mb-1",children:B.location||"Unknown Location"}),d.jsx("div",{className:`inline-block px-3 py-1 rounded-full font-semibold text-sm mt-2 ${S(B.status)}`,children:B.status}),d.jsx("div",{className:"text-gray-500 text-xs mt-1",children:new Date(B.createdAt||B.date).toLocaleDateString()})]},B._id)})})]})}),g&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-50 flex items-center justify-center p-4",children:d.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-6 md:p-8 max-w-md w-full animate-scale-in",children:[d.jsxs("div",{className:"text-center mb-6",children:[d.jsx("div",{className:"w-16 h-16 bg-red-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(ee,{icon:gb,className:"text-2xl text-red-500"})}),d.jsx("h3",{className:"text-xl font-bold text-gray-800 mb-2",children:"Admin Access Required"}),d.jsx("p",{className:"text-gray-600",children:"Enter password to clear all reports"})]}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("input",{type:"password",value:_,onChange:B=>b(B.target.value),placeholder:"Enter password",className:"form-input focus-ring",onKeyPress:B=>B.key==="Enter"&&J()}),w&&d.jsx("p",{className:"text-red-500 text-sm mt-2",children:w})]}),d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:()=>{y(!1),b(""),R("")},className:"flex-1 px-4 py-3 border-2 border-gray-300 text-gray-700 rounded-xl hover:bg-gray-50 transition-colors",children:"Cancel"}),d.jsx("button",{onClick:J,className:"flex-1 px-4 py-3 bg-red-500 text-white rounded-xl hover:bg-red-600 transition-colors",children:"Submit"})]})]})]})}),d.jsxs("section",{className:"max-w-6xl mx-auto mt-24 px-6 mb-16",children:[d.jsxs("div",{className:"text-center mb-12",children:[d.jsx("h2",{className:"text-3xl md:text-4xl font-black text-gray-800 mb-4 font-heading",children:"Community Impact"}),d.jsx("p",{className:"text-lg md:text-xl text-gray-600 max-w-2xl mx-auto",children:"See the real difference our community makes"})]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-6 md:gap-8",children:[{src:"/img2/img2-1.jpg",title:"Together for a Greener Tomorrow"},{src:"/img2/img2-2.jpg",title:"Your Report Makes a Difference"},{src:"/img2/img2-3.webp",title:"Cleaner Communities, Brighter Future"},{src:"/img2/img2-4.jpg",title:"Act Green, Live Clean"}].map((B,ae)=>d.jsxs("div",{className:"relative group overflow-hidden rounded-3xl shadow-2xl card-hover animate-slide-up",style:{animationDelay:`${ae*.1}s`},children:[d.jsx("img",{src:B.src,alt:B.title,className:"w-full h-64 md:h-80 object-cover object-center transition-transform duration-500 group-hover:scale-110"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition-all duration-500",children:d.jsx("span",{className:"text-white font-bold text-lg md:text-xl mb-6 drop-shadow-lg text-center px-4",children:B.title})})]},ae))})]}),d.jsxs("section",{className:"max-w-6xl mx-auto mt-24 px-6 mb-16",children:[d.jsxs("h2",{className:"text-3xl md:text-4xl font-black text-emerald-700 mb-12 text-center flex items-center justify-center gap-4 font-heading",children:[d.jsx(ee,{icon:Td,className:"text-3xl md:text-4xl text-emerald-400"}),"Animal Reverence & Protection"]}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-6 gap-6 md:gap-8",children:[{src:"/imgd/1d.jpg",title:"Animals are revered as gods in India"},{src:"/imgd/2d.jpg",title:"Save and protect animals"},{src:"/imgd/3d.jpg",title:"Compassion for all living beings"},{src:"/imgd/4d.jpg",title:"Every life matters: protect our animals"},{src:"/imgd/5d.jpg",title:"Kindness to animals is a mark of a great nation"},{src:"/imgd/6d.jpg",title:"Protect the voiceless, preserve our future"}].map((B,ae)=>d.jsxs("div",{className:"relative group overflow-hidden rounded-3xl shadow-2xl card-hover animate-slide-up",style:{animationDelay:`${ae*.1}s`},children:[d.jsx("img",{src:B.src,alt:B.title,className:"w-full h-64 md:h-80 object-cover object-center transition-transform duration-500 group-hover:scale-110"}),d.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black/80 via-black/40 to-transparent flex items-end justify-center opacity-0 group-hover:opacity-100 transition-all duration-500",children:d.jsx("span",{className:"text-white font-bold text-sm md:text-lg mb-6 drop-shadow-lg text-center px-2",children:B.title})})]},ae))})]}),d.jsx("section",{ref:E,id:"about",className:"w-full max-w-7xl mx-auto mt-24 mb-16 px-4 sm:px-8",children:d.jsxs("div",{className:"glass-card rounded-3xl p-6 sm:p-10 md:p-14 shadow-2xl flex flex-col lg:flex-row items-center lg:items-start gap-10 md:gap-16",children:[d.jsxs("div",{className:"flex-1 w-full max-w-2xl lg:pr-10",children:[d.jsx("h2",{className:"text-2xl sm:text-3xl md:text-4xl font-black text-gray-800 mb-4 sm:mb-6 font-heading leading-tight",children:"About Clean and Healthy Area"}),d.jsx("p",{className:"text-base sm:text-lg md:text-xl text-gray-700 leading-relaxed mb-6 sm:mb-8 max-w-prose",children:"Clean and Healthy Area is dedicated to building cleaner, greener communities by empowering citizens to report and resolve waste issues. Our mission is to protect the environment, promote sustainability, and inspire positive change for a better tomorrow."}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 gap-4 sm:gap-6",children:[d.jsxs("div",{className:"text-center p-4 sm:p-6 bg-white/60 rounded-2xl shadow-lg flex flex-col items-center min-w-[180px] animate-slide-up",style:{animationDelay:"0.1s"},children:[d.jsx(ee,{icon:ey,className:"text-3xl sm:text-4xl text-emerald-500 mb-2 sm:mb-4"}),d.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-800 mb-1 sm:mb-2",children:"Environmental Protection"}),d.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Safeguarding our natural resources"})]}),d.jsxs("div",{className:"text-center p-4 sm:p-6 bg-white/60 rounded-2xl shadow-lg flex flex-col items-center min-w-[180px] animate-slide-up",style:{animationDelay:"0.2s"},children:[d.jsx(ee,{icon:pb,className:"text-3xl sm:text-4xl text-blue-500 mb-2 sm:mb-4"}),d.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-800 mb-1 sm:mb-2",children:"Community Engagement"}),d.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Empowering local communities"})]}),d.jsxs("div",{className:"text-center p-4 sm:p-6 bg-white/60 rounded-2xl shadow-lg flex flex-col items-center min-w-[180px] animate-slide-up",style:{animationDelay:"0.3s"},children:[d.jsx(ee,{icon:Gp,className:"text-3xl sm:text-4xl text-purple-500 mb-2 sm:mb-4"}),d.jsx("h3",{className:"text-base sm:text-lg md:text-xl font-bold text-gray-800 mb-1 sm:mb-2",children:"Sustainable Solutions"}),d.jsx("p",{className:"text-gray-600 text-xs sm:text-sm",children:"Creating lasting positive impact"})]})]})]}),d.jsxs("div",{className:"relative w-full max-w-xs sm:max-w-sm md:max-w-md flex-shrink-0 mx-auto lg:mx-0",children:[d.jsx("img",{src:"/goal1.png",alt:"Clean and Healthy Area Goal",className:"w-full h-auto rounded-3xl shadow-2xl object-cover aspect-[4/5] max-h-[400px] min-h-[220px] animate-float"}),d.jsx("div",{className:"absolute -inset-2 sm:-inset-4 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-3xl blur opacity-30 -z-10"})]})]})}),d.jsx("footer",{id:"contact",className:"bg-gradient-to-r from-emerald-50 to-blue-50 border-t border-emerald-200 py-12 mt-16",children:d.jsxs("div",{className:"max-w-7xl mx-auto flex flex-col md:flex-row items-center justify-between px-6 gap-6",children:[d.jsx("div",{className:"text-emerald-700 font-bold text-lg",children:" 2025 Clean and Healthy Area"}),d.jsxs("div",{className:"text-emerald-600 text-lg text-center md:text-left",children:["Contact: ",d.jsx("a",{href:"mailto:paraskumar9953952680@gmail.com",className:"text-emerald-700 hover:text-emerald-800 font-semibold transition-colors",children:"paraskumar9953952680@gmail.com"})]})]})}),d.jsxs(We,{to:"/report",className:"fixed z-50 bottom-8 right-8 bg-gradient-to-r from-emerald-500 to-blue-500 text-white shadow-2xl rounded-2xl px-6 md:px-8 py-3 md:py-4 flex items-center gap-3 text-lg md:text-xl font-bold hover:scale-110 hover:shadow-3xl transition-all duration-300 animate-float",children:[d.jsx(ee,{icon:Xu}),d.jsx("span",{className:"hidden sm:inline",children:"Report Issue"})]}),u&&d.jsx("button",{onClick:D,className:"fixed z-50 bottom-28 right-8 bg-white/20 backdrop-blur-xl text-gray-700 shadow-2xl rounded-2xl p-4 text-2xl font-bold hover:scale-110 transition-all duration-300 border border-white/30 animate-bounce-gentle","aria-label":"Back to top",children:d.jsx(ee,{icon:yb})})]})},Zn=new Intl.NumberFormat("en-IN",{style:"currency",currency:"INR",maximumFractionDigits:0}),VE={wm:{base:49,perKm:15,waitPerMin:0,weightPerKg:5},amb:{base:199,perKm:35,waitPerMin:3,weightPerKg:0}},Lu={time:{normal:1,peak:1.15,night:1.25},wmPriority:{standard:1,express:1.15},urgency:{normal:1,priority:1.2,critical:1.4},materialType:{general:1,organic:.9,recyclable:.8,construction:1.3,electronic:1.5,medical:2,chemical:2.5,animal:1.2}};function Z0(l){const n=VE[l.service],s=Math.max(0,l.distance||0),i=Math.max(0,l.wait||0),u=Math.max(0,l.wasteKg||0),h=Lu.time[l.time||"normal"]||1,g=l.service==="wm"&&Lu.wmPriority[l.wmPriority||"standard"]||1,y=l.service==="amb"&&Lu.urgency[l.urgency||"normal"]||1,_=Lu.materialType[l.materialType||"general"]||1,b=[];if(b.push({label:"Base fare",value:n.base}),b.push({label:"Distance",value:s*n.perKm}),n.waitPerMin>0&&i>0&&b.push({label:"Waiting",value:i*n.waitPerMin}),n.weightPerKg>0&&u>0&&b.push({label:"Weight",value:u*n.weightPerKg}),l.quantity&&l.quantity>1){const F=Math.round((l.quantity-1)*10);F>0&&b.push({label:"Additional items",value:F})}const w=b.reduce((F,K)=>F+K.value,0),R=h*g*y*_,O=Math.round(w*R),G=Math.round(O*.18),$=O+G;return{subtotal:w,surgeMul:R,surged:O,gst:G,total:$,components:b}}function J0(l){const n={small:5,medium:15,large:35,"very-large":60},s={small:3,medium:5,large:8,"very-large":12},i="wm",u=l.weight?parseFloat(l.weight):n[l.size]??10,h=s[l.size]??5,g=["difficult","restricted"].includes(l.accessibility)?"express":"standard",y=new Date().getHours(),_=y>=22||y<6?"night":y>=8&&y<=11?"peak":"normal",b=l.urgency||"normal";return{service:i,distance:h,wait:0,time:_,wasteKg:u,wmPriority:g,urgency:b,materialType:l.materialType||"general",quantity:l.quantity?parseInt(l.quantity):1}}delete sy.Icon.Default.prototype._getIconUrl;sy.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});const DE=({onLocationSelect:l})=>(Wb({click:n=>{l(n.latlng.lat,n.latlng.lng)}}),null),IE=()=>{const{user:l}=_s(),{showSuccess:n,showError:s}=Ts(),i=di(),[u,h]=se.useState({location:"",latitude:"",longitude:"",reportType:"",description:"",size:"",accessibility:"",name:"",phone:"",weight:"",urgency:"",materialType:"",quantity:""}),[g,y]=se.useState(null),[_,b]=se.useState([28.6139,77.209]),[w,R]=se.useState(null),[O,G]=se.useState(null),[$,F]=se.useState(!1),[K,te]=se.useState(!1),[le,oe]=se.useState({type:"",title:"",message:""}),[ve,be]=se.useState(null),fe=se.useRef(null);se.useEffect(()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(async J=>{const{latitude:B,longitude:ae}=J.coords;b([B,ae]),R([B,ae]);try{const he=await V(B,ae);h(Re=>({...Re,location:he,latitude:B.toString(),longitude:ae.toString()}))}catch(he){console.error("Reverse geocoding failed:",he)}},J=>{console.error("Geolocation error:",J)})},[]);const V=async(J,B)=>{try{return(await(await fetch(`https://nominatim.openstreetmap.org/reverse?format=jsonv2&lat=${J}&lon=${B}`)).json()).display_name||`${J.toFixed(4)}, ${B.toFixed(4)}`}catch{return`${J.toFixed(4)}, ${B.toFixed(4)}`}},E=async(J,B)=>{R([J,B]);const ae=await V(J,B);h(he=>({...he,location:ae,latitude:J.toString(),longitude:B.toString()}))},N=()=>{navigator.geolocation?navigator.geolocation.getCurrentPosition(async J=>{const{latitude:B,longitude:ae}=J.coords;b([B,ae]),await E(B,ae)},J=>{s("Failed to get current location. Please select location on map.")}):s("Geolocation is not supported by this browser.")},C=J=>{const{name:B,value:ae}=J.target;h(he=>({...he,[B]:ae})),["size","accessibility","urgency","weight","materialType","quantity"].includes(B)&&D({...u,[B]:ae})},D=J=>{try{const B=J0(J),ae=Z0(B);be(ae)}catch(B){console.error("Error calculating estimated fare:",B),be(null)}},M=J=>{const B=J.target.files[0];if(B){if(!B.type.match("image/jpeg")&&!B.type.match("image/png")){s("Please select a JPEG or PNG image file.");return}if(B.size>5*1024*1024){s("Image size must be less than 5MB.");return}h(he=>({...he,image:B}));const ae=new FileReader;ae.onload=he=>{G(he.target.result)},ae.readAsDataURL(B)}},S=()=>{h(J=>({...J,image:null})),G(null),fe.current&&(fe.current.value="")},yt=()=>u.reportType?!u.description||u.description.length<10?(s("Please enter a description (minimum 10 characters)."),!1):u.image?!u.latitude||!u.longitude?(s("Please select a location on the map."),!1):!0:(s("Please upload an image."),!1):(s("Please select a report type."),!1),it=async J=>{if(J.preventDefault(),!!yt()){if(!l){localStorage.setItem("reportForm",JSON.stringify(u)),i("/signin");return}F(!0);try{const B=await l.getIdToken(),ae=new FormData;for(const _e in u)u[_e]&&ae.append(_e,u[_e]);const Re=await(await fetch("https://eco-react-1.onrender.com/api/reports",{method:"POST",headers:{Authorization:`Bearer ${B}`},body:ae})).json();if(console.log(Re),Re.success){oe({type:"success",title:"Report Submitted Successfully!",message:"Your report has been received and will be processed within 24-48 hours."}),te(!0),h({location:"",latitude:"",longitude:"",reportType:"",description:"",size:"",accessibility:"",name:"",phone:"",image:null,weight:"",urgency:"",materialType:"",quantity:""}),G(null),R(null),fe.current&&(fe.current.value="");try{const _e=J0({size:u.size,accessibility:u.accessibility,weight:u.weight,urgency:u.urgency,materialType:u.materialType,quantity:u.quantity}),pe=Z0(_e);sessionStorage.setItem("fare_result",JSON.stringify(pe)),i("/payment")}catch(_e){console.error("Fare calc error",_e)}}else s(Re.error||"Failed to submit report.")}catch(B){console.error("Submit error:",B),s("Failed to submit report. Please try again.")}finally{F(!1)}}},Q=()=>{te(!1)};return d.jsxs("div",{className:"min-h-screen scroll-smooth smooth-scroll-container bg-gradient-to-b from-white via-blue-50 to-emerald-50",children:[d.jsx(Df,{}),d.jsxs("section",{className:"max-w-3xl md:max-w-4xl lg:max-w-5xl mx-auto mt-8 px-2 sm:px-6 py-8",children:[d.jsx("div",{className:"bg-gradient-to-r from-emerald-400 via-blue-400 to-emerald-500 rounded-3xl shadow-2xl p-6 md:p-10 mb-8 text-center animate-fade-in",children:d.jsxs("div",{className:"bg-white/30 backdrop-blur-2xl rounded-3xl p-6 md:p-10",children:[d.jsxs("h1",{className:"text-3xl md:text-4xl lg:text-6xl font-black text-white mb-4 md:mb-6 font-heading drop-shadow-2xl flex items-center justify-center gap-4",children:[d.jsx(ee,{icon:Xu,className:"mr-2 md:mr-6 animate-bounce-gentle"}),"Report Waste Issue"]}),d.jsx("p",{className:"text-white/90 text-lg md:text-2xl mb-2 animate-fade-in",children:"Help us keep our community clean and healthy"}),d.jsx("p",{className:"text-white/80 text-base md:text-xl animate-fade-in",children:"Your report makes a difference in our environment"}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-4 md:gap-8 mt-6 md:mt-8",children:[d.jsxs("div",{className:"flex items-center text-white/90 bg-white/10 backdrop-blur-sm px-4 md:px-6 py-2 md:py-3 rounded-2xl shadow-md animate-slide-up",children:[d.jsx(ee,{icon:qu,className:"mr-2 md:mr-3 text-lg md:text-2xl"}),d.jsx("span",{className:"text-sm md:text-lg font-semibold",children:"Quick & Easy"})]}),d.jsxs("div",{className:"flex items-center text-white/90 bg-white/10 backdrop-blur-sm px-4 md:px-6 py-2 md:py-3 rounded-2xl shadow-md animate-slide-up",children:[d.jsx(ee,{icon:fr,className:"mr-2 md:mr-3 text-lg md:text-2xl"}),d.jsx("span",{className:"text-sm md:text-lg font-semibold",children:"Secure & Private"})]})]})]})}),d.jsx("div",{className:"glass-card rounded-3xl shadow-2xl border border-white/30 p-4 sm:p-6 md:p-10 animate-fade-in",children:d.jsxs("form",{onSubmit:it,className:"space-y-8 md:space-y-10",children:[d.jsxs("div",{className:"bg-gradient-to-r from-blue-50/80 to-emerald-50/80 backdrop-blur-md rounded-3xl p-4 sm:p-6 md:p-8 border border-white/50 shadow-md animate-slide-up",children:[d.jsxs("h2",{className:"text-xl md:text-2xl font-black text-gray-800 mb-4 md:mb-6 flex items-center font-heading gap-2",children:[d.jsx(ee,{icon:Zu,className:"text-blue-600 text-2xl md:text-3xl animate-pulse"}),"Basic Information"]}),d.jsxs("div",{className:"mb-6 md:mb-8",children:[d.jsxs("label",{className:"block text-base md:text-lg font-bold text-gray-800 mb-2 flex items-center gap-2",children:[d.jsx(ee,{icon:kd,className:"text-emerald-600"}),"Location ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"h-56 md:h-72 lg:h-80 rounded-2xl overflow-hidden border-4 border-emerald-200 shadow-lg mb-4 relative group",children:[d.jsxs(Zb,{center:_,zoom:13,className:"w-full h-full",children:[d.jsx(Jb,{url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",attribution:" OpenStreetMap contributors"}),w&&d.jsx($b,{position:w}),d.jsx(DE,{onLocationSelect:E})]},_.toString()),d.jsx("span",{className:"absolute top-2 left-2 bg-emerald-500 text-white text-xs px-3 py-1 rounded-full shadow-md opacity-80 group-hover:opacity-100 transition",children:"Interactive Map"})]}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[d.jsx("button",{type:"button",onClick:N,className:"px-4 py-2 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white rounded-lg hover:from-emerald-600 hover:to-emerald-700 transition-all duration-300 font-semibold shadow-md",children:" My Location"}),u.latitude&&u.longitude&&d.jsx("button",{type:"button",onClick:()=>window.open(`https://www.google.com/maps?q=${u.latitude},${u.longitude}`,"_blank"),className:"px-4 py-2 bg-gradient-to-r from-blue-500 to-blue-600 text-white rounded-lg hover:from-blue-600 hover:to-blue-700 transition-all duration-300 font-semibold shadow-md",children:" Open in Google Maps"})]}),u.location&&d.jsxs("div",{className:"mt-3 p-3 bg-white/90 rounded-lg border border-gray-200 shadow-sm",children:[d.jsx("p",{className:"text-xs text-gray-600",children:"Selected Location:"}),d.jsx("p",{className:"font-semibold text-gray-800 text-sm md:text-base",children:u.location})]})]}),d.jsxs("div",{className:"mb-6 md:mb-8",children:[d.jsxs("label",{htmlFor:"reportType",className:"block text-base md:text-lg font-bold text-gray-800 mb-2 flex items-center gap-2",children:[d.jsx(ee,{icon:Du,className:"text-emerald-600"}),"Type of Report ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("select",{id:"reportType",name:"reportType",value:u.reportType,onChange:C,required:!0,className:"w-full px-4 py-3 rounded-2xl border-2 border-blue-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200 transition-all duration-300 bg-white/90 backdrop-blur-sm text-gray-800 text-base md:text-lg shadow-sm",children:[d.jsx("option",{value:"",children:"Select report type"}),d.jsx("option",{value:"garbage",children:" Garbage/Waste Collection"}),d.jsx("option",{value:"animal-death",children:" Animal Death/Injury"}),d.jsx("option",{value:"animal-adopt",children:" Animal Adoption"}),d.jsx("option",{value:"animal-care",children:" Animal Care/Rescue"}),d.jsx("option",{value:"cleaning",children:" Cleaning Request"}),d.jsx("option",{value:"recycling",children:" Recycling Issue"}),d.jsx("option",{value:"hazardous",children:" Hazardous Waste"}),d.jsx("option",{value:"other",children:" Other"})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-r from-emerald-50/80 to-blue-50/80 backdrop-blur-md rounded-3xl p-4 sm:p-6 md:p-8 border border-white/50 shadow-md animate-slide-up",children:[d.jsxs("h2",{className:"text-xl md:text-2xl font-black text-gray-800 mb-4 md:mb-6 flex items-center font-heading gap-2",children:[d.jsx(ee,{icon:Hp,className:"text-emerald-600 text-2xl md:text-3xl animate-pulse"}),"Detailed Information"]}),d.jsxs("div",{className:"mb-6 md:mb-8",children:[d.jsxs("label",{htmlFor:"description",className:"block text-base md:text-lg font-bold text-gray-800 mb-2 flex items-center gap-2",children:[d.jsx(ee,{icon:Hp,className:"text-emerald-600"}),"Description ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsx("textarea",{id:"description",name:"description",value:u.description,onChange:C,required:!0,minLength:10,maxLength:300,rows:4,placeholder:"Describe the issue in detail. Include specific details about the problem, size, impact, and any relevant observations...",className:"w-full px-4 py-3 rounded-2xl border-2 border-blue-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200 transition-all duration-300 bg-white/90 backdrop-blur-sm text-gray-800 placeholder-gray-500 resize-none text-base md:text-lg shadow-sm"}),d.jsxs("div",{className:"flex justify-between items-center mt-2",children:[d.jsxs("p",{className:"text-xs text-gray-600 flex items-center",children:[d.jsx(ee,{icon:Zu,className:"text-blue-500 mr-2"}),"Minimum 10 characters, maximum 300 characters"]}),d.jsxs("span",{className:"text-xs text-gray-500 font-semibold",children:[u.description.length,"/300"]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6 md:mb-8",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"size",className:"block text-base md:text-lg font-bold text-gray-800 mb-2 flex items-center gap-2",children:[d.jsx(ee,{icon:wd,className:"text-emerald-600"}),"Estimated Size"]}),d.jsxs("select",{id:"size",name:"size",value:u.size,onChange:C,className:"w-full px-4 py-3 rounded-2xl border-2 border-blue-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200 transition-all duration-300 bg-white/90 backdrop-blur-sm text-gray-800 text-base md:text-lg shadow-sm",children:[d.jsx("option",{value:"",children:"Select size (optional)"}),d.jsx("option",{value:"small",children:" Small - Less than 1 meter"}),d.jsx("option",{value:"medium",children:" Medium - 1-3 meters"}),d.jsx("option",{value:"large",children:" Large - 3-10 meters"}),d.jsx("option",{value:"very-large",children:" Very Large - More than 10 meters"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"accessibility",className:"block text-base md:text-lg font-bold text-gray-800 mb-2 flex items-center gap-2",children:[d.jsx(ee,{icon:bb,className:"text-emerald-600"}),"Accessibility"]}),d.jsxs("select",{id:"accessibility",name:"accessibility",value:u.accessibility,onChange:C,className:"w-full px-4 py-3 rounded-2xl border-2 border-blue-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200 transition-all duration-300 bg-white/90 backdrop-blur-sm text-gray-800 text-base md:text-lg shadow-sm",children:[d.jsx("option",{value:"",children:"Select accessibility (optional)"}),d.jsx("option",{value:"easy",children:" Easy - Vehicle accessible"}),d.jsx("option",{value:"moderate",children:" Moderate - Walking distance"}),d.jsx("option",{value:"difficult",children:" Difficult - Hard to reach"}),d.jsx("option",{value:"restricted",children:" Restricted - Limited access"})]})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-r from-orange-50/80 to-red-50/80 backdrop-blur-md rounded-3xl p-4 sm:p-6 md:p-8 border border-white/50 shadow-md animate-slide-up",children:[d.jsxs("h2",{className:"text-xl md:text-2xl font-black text-gray-800 mb-4 md:mb-6 flex items-center font-heading gap-2",children:[d.jsx(ee,{icon:Du,className:"text-orange-600 text-2xl md:text-3xl animate-pulse"}),"Fare Calculation Details"]}),d.jsx("p",{className:"text-gray-600 mb-6 text-base",children:"Provide additional details for accurate fare calculation"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"weight",className:"block text-base md:text-lg font-bold text-gray-800 mb-2 flex items-center gap-2",children:[d.jsx(ee,{icon:wd,className:"text-orange-600"}),"Weight (kg)"]}),d.jsx("input",{type:"number",id:"weight",name:"weight",value:u.weight,onChange:C,min:"0.1",step:"0.1",placeholder:"Estimated weight in kg",className:"w-full px-4 py-3 rounded-2xl border-2 border-orange-200 focus:border-orange-500 focus:ring-4 focus:ring-orange-200 transition-all duration-300 bg-white/90 backdrop-blur-sm text-gray-800 placeholder-gray-500 text-base md:text-lg shadow-sm"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"urgency",className:"block text-base md:text-lg font-bold text-gray-800 mb-2 flex items-center gap-2",children:[d.jsx(ee,{icon:fr,className:"text-orange-600"}),"Urgency Level"]}),d.jsxs("select",{id:"urgency",name:"urgency",value:u.urgency,onChange:C,className:"w-full px-4 py-3 rounded-2xl border-2 border-orange-200 focus:border-orange-500 focus:ring-4 focus:ring-orange-200 transition-all duration-300 bg-white/90 backdrop-blur-sm text-gray-800 text-base md:text-lg shadow-sm",children:[d.jsx("option",{value:"",children:"Select urgency level"}),d.jsx("option",{value:"normal",children:" Normal - Standard processing"}),d.jsx("option",{value:"priority",children:" Priority - Within 12 hours"}),d.jsx("option",{value:"critical",children:" Critical - Immediate attention"})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4 mb-6",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"materialType",className:"block text-base md:text-lg font-bold text-gray-800 mb-2 flex items-center gap-2",children:[d.jsx(ee,{icon:Du,className:"text-orange-600"}),"Material Type"]}),d.jsxs("select",{id:"materialType",name:"materialType",value:u.materialType,onChange:C,className:"w-full px-4 py-3 rounded-2xl border-2 border-orange-200 focus:border-orange-500 focus:ring-4 focus:ring-orange-200 transition-all duration-300 bg-white/90 backdrop-blur-sm text-gray-800 text-base md:text-lg shadow-sm",children:[d.jsx("option",{value:"",children:"Select material type"}),d.jsx("option",{value:"general",children:" General Waste"}),d.jsx("option",{value:"organic",children:" Organic/Biodegradable"}),d.jsx("option",{value:"recyclable",children:" Recyclable (Paper, Plastic, Metal)"}),d.jsx("option",{value:"construction",children:" Construction Debris"}),d.jsx("option",{value:"electronic",children:" Electronic Waste"}),d.jsx("option",{value:"medical",children:" Medical Waste"}),d.jsx("option",{value:"chemical",children:" Chemical/Hazardous"}),d.jsx("option",{value:"animal",children:" Animal Related"})]})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"quantity",className:"block text-base md:text-lg font-bold text-gray-800 mb-2 flex items-center gap-2",children:[d.jsx(ee,{icon:wd,className:"text-orange-600"}),"Quantity/Units"]}),d.jsx("input",{type:"number",id:"quantity",name:"quantity",value:u.quantity,onChange:C,min:"1",placeholder:"Number of items/units",className:"w-full px-4 py-3 rounded-2xl border-2 border-orange-200 focus:border-orange-500 focus:ring-4 focus:ring-orange-200 transition-all duration-300 bg-white/90 backdrop-blur-sm text-gray-800 placeholder-gray-500 text-base md:text-lg shadow-sm"})]})]}),d.jsxs("div",{className:"bg-gradient-to-r from-green-50/80 to-emerald-50/80 rounded-2xl p-4 border border-green-200",children:[d.jsxs("h3",{className:"text-lg font-bold text-gray-800 mb-3 flex items-center gap-2",children:[d.jsx(ee,{icon:Du,className:"text-green-600"}),"Estimated Fare Preview"]}),d.jsxs("div",{className:"text-sm text-gray-600 mb-2",children:[d.jsx("p",{children:" Fare calculation factors:"}),d.jsxs("ul",{className:"list-disc list-inside ml-2 space-y-1",children:[d.jsx("li",{children:"Weight of waste/material"}),d.jsx("li",{children:"Size and accessibility"}),d.jsx("li",{children:"Material type and urgency"}),d.jsx("li",{children:"Distance and time factors"})]})]}),ve?d.jsxs("div",{className:"bg-white/80 rounded-xl p-4 border border-green-200",children:[d.jsxs("div",{className:"text-center mb-3",children:[d.jsx("p",{className:"text-2xl font-bold text-green-700",children:Zn.format(ve.total)}),d.jsx("p",{className:"text-sm text-gray-600",children:"Estimated Total (including GST)"})]}),d.jsxs("div",{className:"space-y-2 text-sm",children:[d.jsxs("div",{className:"flex justify-between",children:[d.jsx("span",{children:"Base fare:"}),d.jsx("span",{children:Zn.format(ve.components[0]?.value||0)})]}),ve.components.slice(1).map((J,B)=>d.jsxs("div",{className:"flex justify-between",children:[d.jsxs("span",{children:[J.label,":"]}),d.jsx("span",{children:Zn.format(J.value)})]},B)),d.jsxs("div",{className:"border-t pt-2 flex justify-between font-semibold",children:[d.jsx("span",{children:"Subtotal:"}),d.jsx("span",{children:Zn.format(ve.subtotal)})]}),d.jsxs("div",{className:"flex justify-between text-green-600",children:[d.jsx("span",{children:"GST (18%):"}),d.jsx("span",{children:Zn.format(ve.gst)})]})]})]}):d.jsx("div",{className:"bg-white/80 rounded-xl p-3 border border-green-200",children:d.jsx("p",{className:"text-center text-lg font-bold text-green-700",children:"Fill in the details above to see estimated fare"})})]})]}),d.jsxs("div",{className:"bg-gradient-to-r from-blue-50/80 to-purple-50/80 backdrop-blur-md rounded-3xl p-4 sm:p-6 md:p-8 border border-white/50 shadow-md animate-slide-up",children:[d.jsxs("h2",{className:"text-xl md:text-2xl font-black text-gray-800 mb-4 md:mb-6 flex items-center font-heading gap-2",children:[d.jsx(ee,{icon:Md,className:"text-blue-600 text-2xl md:text-3xl animate-pulse"}),"Contact Information ",d.jsx("span",{className:"text-gray-500 text-xs",children:"(Optional)"})]}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"name",className:"block text-base md:text-lg font-bold text-gray-800 mb-2 flex items-center gap-2",children:[d.jsx(ee,{icon:Md,className:"text-blue-600"}),"Your Name"]}),d.jsx("input",{type:"text",id:"name",name:"name",value:u.name,onChange:C,maxLength:50,placeholder:"Enter your name (optional)",className:"w-full px-4 py-3 rounded-2xl border-2 border-blue-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200 transition-all duration-300 bg-white/90 backdrop-blur-sm text-gray-800 placeholder-gray-500 text-base md:text-lg shadow-sm"})]}),d.jsxs("div",{children:[d.jsxs("label",{htmlFor:"phone",className:"block text-base md:text-lg font-bold text-gray-800 mb-2 flex items-center gap-2",children:[d.jsx(ee,{icon:ny,className:"text-blue-600"}),"Phone Number"]}),d.jsx("input",{type:"tel",id:"phone",name:"phone",value:u.phone,onChange:C,pattern:"[0-9]{10,15}",placeholder:"Enter phone number (optional)",className:"w-full px-4 py-3 rounded-2xl border-2 border-blue-200 focus:border-emerald-500 focus:ring-4 focus:ring-emerald-200 transition-all duration-300 bg-white/90 backdrop-blur-sm text-gray-800 placeholder-gray-500 text-base md:text-lg shadow-sm"})]})]})]}),d.jsxs("div",{className:"bg-gradient-to-r from-purple-50/80 to-pink-50/80 backdrop-blur-md rounded-3xl p-4 sm:p-6 md:p-8 border border-white/50 shadow-md animate-slide-up",children:[d.jsxs("h2",{className:"text-xl md:text-2xl font-black text-gray-800 mb-4 md:mb-6 flex items-center font-heading gap-2",children:[d.jsx(ee,{icon:_b,className:"text-purple-600 text-2xl md:text-3xl animate-pulse"}),"Visual Evidence ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"border-2 border-dashed border-purple-300 rounded-3xl p-6 md:p-12 text-center hover:border-emerald-400 transition-all duration-300 bg-white/70 backdrop-blur-md relative group",children:[d.jsx("input",{type:"file",id:"image",name:"image",accept:"image/jpeg,image/png",required:!0,ref:fe,onChange:M,className:"hidden"}),O?d.jsxs("div",{className:"mt-4 md:mt-8 relative inline-block",children:[d.jsx("img",{src:O,alt:"Preview",className:"max-w-full max-h-64 mx-auto rounded-3xl shadow-2xl border-4 border-purple-200"}),d.jsx("button",{type:"button",onClick:S,className:"absolute top-2 right-2 bg-gradient-to-r from-red-500 to-red-600 text-white rounded-full p-2 shadow-lg hover:from-red-600 hover:to-red-700 transition-all duration-300 font-bold text-base md:text-lg","aria-label":"Remove Image",children:d.jsx(ee,{icon:Od})})]}):d.jsxs("div",{className:"cursor-pointer flex flex-col items-center justify-center gap-2",onClick:()=>fe.current?.click(),children:[d.jsx(ee,{icon:Tb,className:"text-6xl md:text-8xl text-purple-400 mb-2 md:mb-4 animate-bounce-gentle"}),d.jsx("p",{className:"text-gray-700 text-lg md:text-2xl mb-2 font-bold",children:"Click to upload or drag and drop"}),d.jsxs("p",{className:"text-gray-500 mb-2 md:mb-4 text-base md:text-lg",children:["JPEG, PNG up to 5MB ",d.jsx("span",{className:"text-red-500",children:"*"})]}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-2 md:gap-4 text-xs md:text-lg text-gray-600",children:[d.jsxs("span",{className:"bg-white/80 backdrop-blur-sm px-3 md:px-4 py-2 rounded-xl shadow-sm",children:[d.jsx(ee,{icon:mr,className:"text-green-500 mr-2"}),"High quality images"]}),d.jsxs("span",{className:"bg-white/80 backdrop-blur-sm px-3 md:px-4 py-2 rounded-xl shadow-sm",children:[d.jsx(ee,{icon:mr,className:"text-green-500 mr-2"}),"Multiple angles"]}),d.jsxs("span",{className:"bg-white/80 backdrop-blur-sm px-3 md:px-4 py-2 rounded-xl shadow-sm",children:[d.jsx(ee,{icon:mr,className:"text-green-500 mr-2"}),"Clear visibility"]})]})]})]})]}),d.jsxs("div",{className:"text-center pt-6 md:pt-8 animate-fade-in",children:[d.jsxs("div",{className:"bg-gradient-to-r from-emerald-50/80 to-green-50/80 backdrop-blur-md rounded-3xl p-4 sm:p-6 md:p-8 border border-white/50 mb-6 md:mb-8 shadow-md",children:[d.jsxs("h3",{className:"text-lg md:text-xl font-black text-gray-800 mb-2 md:mb-4 font-heading flex items-center gap-2",children:[d.jsx(ee,{icon:Qp,className:"text-emerald-500 animate-bounce-gentle"}),"Ready to Submit?"]}),d.jsx("p",{className:"text-gray-600 mb-2 md:mb-4 text-base md:text-lg",children:"Your report will be reviewed and processed within 24-48 hours"}),d.jsxs("div",{className:"flex flex-wrap justify-center gap-2 md:gap-4 text-xs md:text-lg text-gray-600",children:[d.jsxs("span",{className:"bg-white/80 backdrop-blur-sm px-4 md:px-6 py-2 md:py-3 rounded-2xl shadow-sm",children:[d.jsx(ee,{icon:fr,className:"text-emerald-500 mr-2"}),"Secure submission"]}),d.jsxs("span",{className:"bg-white/80 backdrop-blur-sm px-4 md:px-6 py-2 md:py-3 rounded-2xl shadow-sm",children:[d.jsx(ee,{icon:qu,className:"text-emerald-500 mr-2"}),"Quick processing"]})]})]}),d.jsx("button",{type:"submit",disabled:$,className:`px-10 md:px-16 py-4 md:py-6 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-black text-lg md:text-2xl rounded-3xl shadow-2xl hover:from-emerald-600 hover:to-emerald-700 transform hover:scale-105 transition-all duration-300 focus:ring-4 focus:ring-emerald-200 hover:shadow-3xl ${$?"opacity-50 cursor-not-allowed":""}`,"aria-busy":$,children:$?d.jsxs(d.Fragment,{children:[d.jsx(ee,{icon:ta,className:"mr-4 animate-spin"}),"Submitting..."]}):d.jsxs(d.Fragment,{children:[d.jsx(ee,{icon:Qp,className:"mr-4"}),"Submit Report"]})})]})]})})]}),K&&d.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center z-50 p-4 animate-fade-in",children:d.jsxs("div",{className:"glass-card rounded-3xl p-6 md:p-8 text-center shadow-2xl max-w-md w-full border border-white/30",children:[d.jsx("div",{className:"text-6xl md:text-8xl mb-4 md:mb-6",children:le.type==="success"?d.jsx(ee,{icon:qu,className:"text-green-500 animate-bounce-gentle"}):d.jsx(ee,{icon:fr,className:"text-red-500 animate-bounce-gentle"})}),d.jsx("h3",{className:"text-2xl md:text-3xl font-black mb-4 font-heading text-gray-800",children:le.title}),d.jsx("p",{className:"text-gray-600 mb-6 md:mb-8 text-base md:text-lg",children:le.message}),d.jsx("button",{onClick:Q,className:"px-6 md:px-8 py-3 md:py-4 bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-bold rounded-2xl hover:from-emerald-600 hover:to-emerald-700 transition-all duration-300 shadow-lg hover:shadow-xl",children:"Continue"})]})})]})},ME=()=>{const l=di(),[n,s]=se.useState(null);return se.useEffect(()=>{const i=sessionStorage.getItem("fare_result");if(!i){l("/");return}s(JSON.parse(i))},[l]),n?d.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-white via-blue-50 to-emerald-50",children:[d.jsx(Df,{}),d.jsx("div",{className:"max-w-2xl mx-auto px-4 py-10",children:d.jsxs("div",{className:"bg-white/80 backdrop-blur rounded-3xl shadow-2xl border border-emerald-200/50 p-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("h1",{className:"text-2xl font-black text-gray-800",children:"Payment"}),d.jsx("div",{className:"text-2xl font-extrabold text-emerald-600",children:Zn.format(n.total)})]}),d.jsxs("div",{className:"mt-4 space-y-2 text-gray-700",children:[n.components?.map((i,u)=>d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:i.label}),d.jsx("span",{children:Zn.format(i.value)})]},u)),d.jsx("hr",{className:"my-2 border-emerald-100"}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:"Subtotal"}),d.jsx("span",{children:Zn.format(n.surged)})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsx("span",{children:"GST (18%)"}),d.jsx("span",{children:Zn.format(n.gst)})]}),d.jsxs("div",{className:"flex items-center justify-between font-extrabold text-gray-900",children:[d.jsx("span",{children:"Total"}),d.jsx("span",{children:Zn.format(n.total)})]})]}),d.jsxs("div",{className:"mt-6 flex gap-3",children:[d.jsx("button",{onClick:()=>{alert("Payment simulated. Thank you!"),sessionStorage.removeItem("fare_result"),l("/")},className:"px-6 py-3 rounded-2xl bg-gradient-to-r from-emerald-500 to-emerald-600 text-white font-bold shadow-lg hover:from-emerald-600 hover:to-emerald-700",children:"Pay Now"}),d.jsx("button",{onClick:()=>l(-1),className:"px-6 py-3 rounded-2xl bg-white border border-gray-200 shadow-sm",children:"Back"})]})]})})]}):null},OE=()=>{const{signIn:l,signInWithGoogle:n}=_s(),{showSuccess:s,showError:i}=Ts(),u=di(),[h,g]=se.useState({email:"",password:""}),[y,_]=se.useState(!1),[b,w]=se.useState(!1),[R,O]=se.useState(!1),G=K=>{const{name:te,value:le}=K.target;g(oe=>({...oe,[te]:le}))},$=async K=>{if(K.preventDefault(),!h.email||!h.password){i("Please fill in all fields.");return}w(!0);try{await l(h.email,h.password),s("Signed in successfully!"),u("/")}catch(te){console.error("Sign in error:",te),te.code==="auth/user-not-found"?i("No account found with this email address."):te.code==="auth/wrong-password"?i("Incorrect password."):te.code==="auth/invalid-email"?i("Invalid email address."):te.code==="auth/too-many-requests"?i("Too many failed attempts. Please try again later."):i("Failed to sign in. Please try again.")}finally{w(!1)}},F=async()=>{O(!0);try{await n(),s("Signed in with Google successfully!"),u("/")}catch(K){console.error("Google sign in error:",K),K.code==="auth/popup-closed-by-user"?i("Sign in was cancelled."):K.code==="auth/popup-blocked"?i("Popup was blocked. Please allow popups and try again."):i("Failed to sign in with Google. Please try again.")}finally{O(!1)}};return d.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-blue-50 to-emerald-50 min-h-screen font-body text-gray-800",children:[d.jsx("header",{className:"glass-effect shadow-lg border-b border-white/30",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:"/image3.webp",alt:"Clean and Healthy Area Logo",className:"h-12 w-12 rounded-2xl object-cover border-4 border-white/30 shadow-xl"}),d.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-2xl blur opacity-30"})]}),d.jsxs("div",{className:"flex flex-col justify-center",children:[d.jsx("span",{className:"text-xl font-black text-gray-800 tracking-wide font-heading",children:"Clean and Healthy Area"}),d.jsx("span",{className:"text-gray-600 text-sm font-semibold",children:"Sign In"})]})]}),d.jsx(hi,{})]})}),d.jsx("main",{className:"min-h-screen flex items-center justify-center px-4 xs:px-6 py-8 xs:py-12",children:d.jsx("div",{className:"max-w-sm xs:max-w-md w-full",children:d.jsxs("div",{className:"glass-card rounded-2xl xs:rounded-3xl shadow-card-lg p-4 xs:p-6 md:p-8 border border-white/30 animate-fade-in",children:[d.jsxs("div",{className:"text-center mb-6 xs:mb-8",children:[d.jsx("h1",{className:"text-2xl xs:text-3xl md:text-4xl font-black text-gray-800 mb-2 xs:mb-3 font-heading bg-gradient-to-r from-eco-700 to-ocean-700 bg-clip-text text-transparent",children:"Welcome Back"}),d.jsx("p",{className:"text-gray-600 text-base xs:text-lg leading-relaxed",children:"Sign in to your account to continue"})]}),d.jsx("div",{className:"mb-6 xs:mb-8",children:d.jsxs("button",{onClick:F,disabled:R||b,className:"w-full bg-white/90 backdrop-blur-sm border-2 border-gray-200 text-gray-700 px-4 xs:px-6 py-3 xs:py-4 rounded-xl xs:rounded-2xl font-semibold text-sm xs:text-base transition-all duration-300 hover:bg-gray-50 hover:border-gray-300 shadow-card hover:shadow-card-hover flex items-center justify-center gap-2 xs:gap-3 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 transform",children:[R?d.jsx(ee,{icon:ta,className:"animate-spin text-base xs:text-lg"}):d.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5 xs:w-6 xs:h-6"}),d.jsx("span",{className:"text-sm xs:text-base",children:"Continue with Google"})]})}),d.jsxs("div",{className:"relative mb-6 xs:mb-8",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-xs xs:text-sm",children:d.jsx("span",{className:"px-3 xs:px-4 glass-effect text-gray-500 rounded-full",children:"Or sign in with email"})})]}),d.jsxs("form",{onSubmit:$,className:"space-y-4 xs:space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-xs xs:text-sm font-semibold text-gray-700 mb-2 xs:mb-3",children:"Email Address"}),d.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:G,required:!0,className:"w-full px-3 xs:px-4 py-3 xs:py-4 border-2 border-gray-200 rounded-xl xs:rounded-2xl focus:ring-4 focus:ring-eco-200 focus:border-eco-500 transition-all duration-300 bg-white/80 backdrop-blur-sm text-sm xs:text-base hover:border-gray-300 focus:scale-[1.02] transform",placeholder:"Enter your email"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:y?"text":"password",id:"password",name:"password",value:h.password,onChange:G,required:!0,className:"w-full px-4 py-4 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-emerald-200 focus:border-emerald-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"Enter your password"}),d.jsx("button",{type:"button",onClick:()=>_(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:d.jsx(ee,{icon:y?pr:oi})})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"}),d.jsx("span",{className:"ml-3 text-sm text-gray-600",children:"Remember me"})]}),d.jsx("a",{href:"#",className:"text-sm text-emerald-600 hover:text-emerald-700 font-semibold transition-colors",children:"Forgot password?"})]}),d.jsxs("button",{type:"submit",disabled:b||R,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white py-4 rounded-2xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[b?d.jsx(ee,{icon:ta,className:"animate-spin mr-2"}):d.jsx(ee,{icon:$0,className:"mr-2"}),b?"Signing In...":"Sign In"]})]}),d.jsxs("div",{className:"text-center mt-8",children:[d.jsxs("p",{className:"text-gray-600 text-lg",children:["Don't have an account?"," ",d.jsx(We,{to:"/signup",className:"text-emerald-600 hover:text-emerald-700 font-bold transition-colors",children:"Sign up here"})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[d.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Are you a worker?"}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx(We,{to:"/worker-signin",className:"text-orange-600 hover:text-orange-700 font-semibold transition-colors text-sm",children:"Sign in as worker"}),d.jsx("span",{className:"text-gray-400",children:"|"}),d.jsx(We,{to:"/worker-signup",className:"text-orange-600 hover:text-orange-700 font-semibold transition-colors text-sm",children:"Sign up as worker"})]})]})]})]})})})]})},kE=()=>{const{signUp:l,signInWithGoogle:n}=_s(),{showSuccess:s,showError:i}=Ts(),u=di(),[h,g]=se.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:""}),[y,_]=se.useState(!1),[b,w]=se.useState(!1),[R,O]=se.useState(!1),[G,$]=se.useState(!1),[F,K]=se.useState(!1),te=be=>{const{name:fe,value:V}=be.target;g(E=>({...E,[fe]:V}))},le=()=>!h.firstName||!h.lastName||!h.email||!h.password||!h.confirmPassword?(i("Please fill in all fields."),!1):h.password.length<6?(i("Password must be at least 6 characters long."),!1):h.password!==h.confirmPassword?(i("Passwords do not match."),!1):F?!0:(i("Please agree to the Terms of Service and Privacy Policy."),!1),oe=async be=>{if(be.preventDefault(),!!le()){O(!0);try{await l(h.email,h.password,h.firstName,h.lastName),s("Account created successfully! Welcome to EcoVision!"),u("/")}catch(fe){console.error("Sign up error:",fe),fe.code==="auth/email-already-in-use"?i("An account with this email already exists."):fe.code==="auth/invalid-email"?i("Invalid email address."):fe.code==="auth/weak-password"?i("Password is too weak. Please choose a stronger password."):i("Failed to create account. Please try again.")}finally{O(!1)}}},ve=async()=>{$(!0);try{await n(),s("Account created with Google successfully!"),u("/")}catch(be){console.error("Google sign up error:",be),be.code==="auth/popup-closed-by-user"?i("Sign up was cancelled."):be.code==="auth/popup-blocked"?i("Popup was blocked. Please allow popups and try again."):i("Failed to sign up with Google. Please try again.")}finally{$(!1)}};return d.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-blue-50 to-emerald-50 min-h-screen font-body text-gray-800",children:[d.jsx("header",{className:"glass-effect shadow-lg border-b border-white/30",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:"/image3.webp",alt:"Clean and Healthy Area Logo",className:"h-12 w-12 rounded-2xl object-cover border-4 border-white/30 shadow-xl"}),d.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-2xl blur opacity-30"})]}),d.jsxs("div",{className:"flex flex-col justify-center",children:[d.jsx("span",{className:"text-xl font-black text-gray-800 tracking-wide font-heading",children:"Clean and Healthy Area"}),d.jsx("span",{className:"text-gray-600 text-sm font-semibold",children:"Sign Up"})]})]}),d.jsx(hi,{})]})}),d.jsx("main",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 py-12",children:d.jsx("div",{className:"max-w-md w-full",children:d.jsxs("div",{className:"glass-card rounded-3xl shadow-2xl p-6 md:p-8 border border-white/30",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("h1",{className:"text-3xl md:text-4xl font-black text-gray-800 mb-3 font-heading",children:"Join Our Community"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"Create your account to start reporting issues"})]}),d.jsx("div",{className:"mb-8",children:d.jsxs("button",{onClick:ve,disabled:G||R,className:"w-full bg-white/90 backdrop-blur-sm border-2 border-gray-200 text-gray-700 px-6 py-4 rounded-2xl font-semibold transition-all duration-300 hover:bg-gray-50 hover:border-gray-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[G?d.jsx(ee,{icon:ta,className:"animate-spin"}):d.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-6 h-6"}),"Continue with Google"]})}),d.jsxs("div",{className:"relative mb-8",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-4 glass-effect text-gray-500 rounded-full",children:"Or sign up with email"})})]}),d.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-gray-700 mb-3",children:"First Name"}),d.jsx("input",{type:"text",id:"firstName",name:"firstName",value:h.firstName,onChange:te,required:!0,className:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-emerald-200 focus:border-emerald-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"First name"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"lastName",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Last Name"}),d.jsx("input",{type:"text",id:"lastName",name:"lastName",value:h.lastName,onChange:te,required:!0,className:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-emerald-200 focus:border-emerald-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"Last name"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address"}),d.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:te,required:!0,className:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-emerald-200 focus:border-emerald-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"Enter your email"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:y?"text":"password",id:"password",name:"password",value:h.password,onChange:te,required:!0,minLength:6,className:"w-full px-4 py-4 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-emerald-200 focus:border-emerald-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"Create a password"}),d.jsx("button",{type:"button",onClick:()=>_(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:d.jsx(ee,{icon:y?pr:oi})})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Confirm Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:b?"text":"password",id:"confirmPassword",name:"confirmPassword",value:h.confirmPassword,onChange:te,required:!0,className:"w-full px-4 py-4 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-emerald-200 focus:border-emerald-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"Confirm your password"}),d.jsx("button",{type:"button",onClick:()=>w(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:d.jsx(ee,{icon:b?pr:oi})})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"terms",checked:F,onChange:be=>K(be.target.checked),required:!0,className:"rounded border-gray-300 text-emerald-600 focus:ring-emerald-500"}),d.jsxs("label",{htmlFor:"terms",className:"ml-3 text-sm text-gray-600",children:["I agree to the"," ",d.jsx("a",{href:"#",className:"text-emerald-600 hover:text-emerald-700 font-semibold transition-colors",children:"Terms of Service"})," ","and"," ",d.jsx("a",{href:"#",className:"text-emerald-600 hover:text-emerald-700 font-semibold transition-colors",children:"Privacy Policy"})]})]}),d.jsxs("button",{type:"submit",disabled:R||G,className:"w-full bg-gradient-to-r from-emerald-500 to-emerald-600 hover:from-emerald-600 hover:to-emerald-700 text-white py-4 rounded-2xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[R?d.jsx(ee,{icon:ta,className:"animate-spin mr-2"}):d.jsx(ee,{icon:W0,className:"mr-2"}),R?"Creating Account...":"Create Account"]})]}),d.jsxs("div",{className:"text-center mt-8",children:[d.jsxs("p",{className:"text-gray-600 text-lg",children:["Already have an account?"," ",d.jsx(We,{to:"/signin",className:"text-emerald-600 hover:text-emerald-700 font-bold transition-colors",children:"Sign in here"})]}),d.jsxs("div",{className:"mt-4 pt-4 border-t border-gray-200",children:[d.jsx("p",{className:"text-gray-500 text-sm mb-2",children:"Are you a worker?"}),d.jsxs("div",{className:"flex gap-2 justify-center",children:[d.jsx(We,{to:"/worker-signin",className:"text-orange-600 hover:text-orange-700 font-semibold transition-colors text-sm",children:"Sign in as worker"}),d.jsx("span",{className:"text-gray-400",children:"|"}),d.jsx(We,{to:"/worker-signup",className:"text-orange-600 hover:text-orange-700 font-semibold transition-colors text-sm",children:"Sign up as worker"})]})]})]})]})})})]})},UE=()=>{const{signIn:l,signInWithGoogle:n}=_s(),{showSuccess:s,showError:i}=Ts(),u=di(),[h,g]=se.useState({email:"",password:""}),[y,_]=se.useState(!1),[b,w]=se.useState(!1),[R,O]=se.useState(!1),G=K=>{const{name:te,value:le}=K.target;g(oe=>({...oe,[te]:le}))},$=async K=>{if(K.preventDefault(),!h.email||!h.password){i("Please fill in all fields.");return}w(!0);try{await l(h.email,h.password,"worker"),s("Signed in successfully as a worker!"),u("/worker-dashboard")}catch(te){console.error("Worker sign in error:",te),te.code==="auth/user-not-found"?i("No worker account found with this email address."):te.code==="auth/wrong-password"?i("Incorrect password."):te.code==="auth/invalid-email"?i("Invalid email address."):te.code==="auth/too-many-requests"?i("Too many failed attempts. Please try again later."):i("Failed to sign in. Please try again.")}finally{w(!1)}},F=async()=>{O(!0);try{await n("worker"),s("Signed in with Google successfully as a worker!"),u("/worker-dashboard")}catch(K){console.error("Google worker sign in error:",K),K.code==="auth/popup-closed-by-user"?i("Sign in was cancelled."):K.code==="auth/popup-blocked"?i("Popup was blocked. Please allow popups and try again."):i("Failed to sign in with Google. Please try again.")}finally{O(!1)}};return d.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-blue-50 to-emerald-50 min-h-screen font-body text-gray-800",children:[d.jsx("header",{className:"glass-effect shadow-lg border-b border-white/30",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:"/image3.webp",alt:"Clean and Healthy Area Logo",className:"h-12 w-12 rounded-2xl object-cover border-4 border-white/30 shadow-xl"}),d.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-2xl blur opacity-30"})]}),d.jsxs("div",{className:"flex flex-col justify-center",children:[d.jsx("span",{className:"text-xl font-black text-gray-800 tracking-wide font-heading",children:"Clean and Healthy Area"}),d.jsx("span",{className:"text-gray-600 text-sm font-semibold",children:"Worker Sign In"})]})]}),d.jsx(hi,{})]})}),d.jsx("main",{className:"min-h-screen flex items-center justify-center px-4 xs:px-6 py-8 xs:py-12",children:d.jsx("div",{className:"max-w-sm xs:max-w-md w-full",children:d.jsxs("div",{className:"glass-card rounded-2xl xs:rounded-3xl shadow-card-lg p-4 xs:p-6 md:p-8 border border-white/30 animate-fade-in",children:[d.jsxs("div",{className:"text-center mb-6 xs:mb-8",children:[d.jsx("div",{className:"mb-4",children:d.jsx(ee,{icon:Yl,className:"text-4xl text-orange-500 mb-2"})}),d.jsx("h1",{className:"text-2xl xs:text-3xl md:text-4xl font-black text-gray-800 mb-2 xs:mb-3 font-heading bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"Worker Portal"}),d.jsx("p",{className:"text-gray-600 text-base xs:text-lg leading-relaxed",children:"Sign in to access your work assignments"})]}),d.jsx("div",{className:"mb-6 xs:mb-8",children:d.jsxs("button",{onClick:F,disabled:R||b,className:"w-full bg-white/90 backdrop-blur-sm border-2 border-gray-200 text-gray-700 px-4 xs:px-6 py-3 xs:py-4 rounded-xl xs:rounded-2xl font-semibold text-sm xs:text-base transition-all duration-300 hover:bg-gray-50 hover:border-gray-300 shadow-card hover:shadow-card-hover flex items-center justify-center gap-2 xs:gap-3 disabled:opacity-50 disabled:cursor-not-allowed hover:scale-105 transform",children:[R?d.jsx(ee,{icon:ta,className:"animate-spin text-base xs:text-lg"}):d.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-5 h-5 xs:w-6 xs:h-6"}),d.jsx("span",{className:"text-sm xs:text-base",children:"Continue with Google"})]})}),d.jsxs("div",{className:"relative mb-6 xs:mb-8",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-xs xs:text-sm",children:d.jsx("span",{className:"px-3 xs:px-4 glass-effect text-gray-500 rounded-full",children:"Or sign in with email"})})]}),d.jsxs("form",{onSubmit:$,className:"space-y-4 xs:space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-xs xs:text-sm font-semibold text-gray-700 mb-2 xs:mb-3",children:"Worker Email Address"}),d.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:G,required:!0,className:"w-full px-3 xs:px-4 py-3 xs:py-4 border-2 border-gray-200 rounded-xl xs:rounded-2xl focus:ring-4 focus:ring-orange-200 focus:border-orange-500 transition-all duration-300 bg-white/80 backdrop-blur-sm text-sm xs:text-base hover:border-gray-300 focus:scale-[1.02] transform",placeholder:"Enter your worker email"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Password"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:y?"text":"password",id:"password",name:"password",value:h.password,onChange:G,required:!0,className:"w-full px-4 py-4 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-orange-200 focus:border-orange-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"Enter your password"}),d.jsx("button",{type:"button",onClick:()=>_(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:d.jsx(ee,{icon:y?pr:oi})})]})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("label",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),d.jsx("span",{className:"ml-3 text-sm text-gray-600",children:"Remember me"})]}),d.jsx("a",{href:"#",className:"text-sm text-orange-600 hover:text-orange-700 font-semibold transition-colors",children:"Forgot password?"})]}),d.jsxs("button",{type:"submit",disabled:b||R,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-4 rounded-2xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[b?d.jsx(ee,{icon:ta,className:"animate-spin mr-2"}):d.jsx(ee,{icon:Ku,className:"mr-2"}),b?"Signing In...":"Sign In as Worker"]})]}),d.jsxs("div",{className:"text-center mt-8",children:[d.jsxs("p",{className:"text-gray-600 text-lg",children:["Don't have a worker account?"," ",d.jsx(We,{to:"/worker-signup",className:"text-orange-600 hover:text-orange-700 font-bold transition-colors",children:"Sign up as worker"})]}),d.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["Regular user?"," ",d.jsx(We,{to:"/signin",className:"text-emerald-600 hover:text-emerald-700 font-semibold transition-colors",children:"Sign in here"})]})]})]})})})]})},zE=()=>{const{signUp:l,signInWithGoogle:n}=_s(),{showSuccess:s,showError:i}=Ts(),u=di(),[h,g]=se.useState({firstName:"",lastName:"",email:"",password:"",confirmPassword:"",phone:"",specialization:"",experience:""}),[y,_]=se.useState(!1),[b,w]=se.useState(!1),[R,O]=se.useState(!1),[G,$]=se.useState(!1),[F,K]=se.useState(!1),te=be=>{const{name:fe,value:V}=be.target;g(E=>({...E,[fe]:V}))},le=()=>!h.firstName||!h.lastName||!h.email||!h.password||!h.confirmPassword||!h.phone||!h.specialization?(i("Please fill in all required fields."),!1):h.password.length<6?(i("Password must be at least 6 characters long."),!1):h.password!==h.confirmPassword?(i("Passwords do not match."),!1):F?!0:(i("Please agree to the Terms of Service and Privacy Policy."),!1),oe=async be=>{if(be.preventDefault(),!!le()){O(!0);try{await l(h.email,h.password,h.firstName,h.lastName,"worker",{phone:h.phone,specialization:h.specialization,experience:h.experience}),s("Worker account created successfully! Welcome to the team!"),u("/worker-dashboard")}catch(fe){console.error("Worker sign up error:",fe),fe.code==="auth/email-already-in-use"?i("An account with this email already exists."):fe.code==="auth/invalid-email"?i("Invalid email address."):fe.code==="auth/weak-password"?i("Password is too weak. Please choose a stronger password."):i("Failed to create worker account. Please try again.")}finally{O(!1)}}},ve=async()=>{$(!0);try{await n("worker"),s("Worker account created with Google successfully!"),u("/worker-dashboard")}catch(be){console.error("Google worker sign up error:",be),be.code==="auth/popup-closed-by-user"?i("Sign up was cancelled."):be.code==="auth/popup-blocked"?i("Popup was blocked. Please allow popups and try again."):i("Failed to sign up with Google. Please try again.")}finally{$(!1)}};return d.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-blue-50 to-emerald-50 min-h-screen font-body text-gray-800",children:[d.jsx("header",{className:"glass-effect shadow-lg border-b border-white/30",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:"/image3.webp",alt:"Clean and Healthy Area Logo",className:"h-12 w-12 rounded-2xl object-cover border-4 border-white/30 shadow-xl"}),d.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-2xl blur opacity-30"})]}),d.jsxs("div",{className:"flex flex-col justify-center",children:[d.jsx("span",{className:"text-xl font-black text-gray-800 tracking-wide font-heading",children:"Clean and Healthy Area"}),d.jsx("span",{className:"text-gray-600 text-sm font-semibold",children:"Worker Sign Up"})]})]}),d.jsx(hi,{})]})}),d.jsx("main",{className:"min-h-screen flex items-center justify-center px-4 sm:px-6 py-12",children:d.jsx("div",{className:"max-w-md w-full",children:d.jsxs("div",{className:"glass-card rounded-3xl shadow-2xl p-6 md:p-8 border border-white/30",children:[d.jsxs("div",{className:"text-center mb-8",children:[d.jsx("div",{className:"mb-4",children:d.jsx(ee,{icon:Yl,className:"text-4xl text-orange-500 mb-2"})}),d.jsx("h1",{className:"text-3xl md:text-4xl font-black text-gray-800 mb-3 font-heading bg-gradient-to-r from-orange-600 to-red-600 bg-clip-text text-transparent",children:"Join Our Worker Team"}),d.jsx("p",{className:"text-gray-600 text-lg",children:"Create your worker account to start receiving assignments"})]}),d.jsx("div",{className:"mb-8",children:d.jsxs("button",{onClick:ve,disabled:G||R,className:"w-full bg-white/90 backdrop-blur-sm border-2 border-gray-200 text-gray-700 px-6 py-4 rounded-2xl font-semibold transition-all duration-300 hover:bg-gray-50 hover:border-gray-300 shadow-lg hover:shadow-xl flex items-center justify-center gap-3 disabled:opacity-50 disabled:cursor-not-allowed",children:[G?d.jsx(ee,{icon:ta,className:"animate-spin"}):d.jsx("img",{src:"https://developers.google.com/identity/images/g-logo.png",alt:"Google",className:"w-6 h-6"}),"Continue with Google"]})}),d.jsxs("div",{className:"relative mb-8",children:[d.jsx("div",{className:"absolute inset-0 flex items-center",children:d.jsx("div",{className:"w-full border-t border-gray-300"})}),d.jsx("div",{className:"relative flex justify-center text-sm",children:d.jsx("span",{className:"px-4 glass-effect text-gray-500 rounded-full",children:"Or sign up with email"})})]}),d.jsxs("form",{onSubmit:oe,className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{htmlFor:"firstName",className:"block text-sm font-semibold text-gray-700 mb-3",children:"First Name *"}),d.jsx("input",{type:"text",id:"firstName",name:"firstName",value:h.firstName,onChange:te,required:!0,className:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-orange-200 focus:border-orange-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"First name"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"lastName",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Last Name *"}),d.jsx("input",{type:"text",id:"lastName",name:"lastName",value:h.lastName,onChange:te,required:!0,className:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-orange-200 focus:border-orange-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"Last name"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"email",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Email Address *"}),d.jsx("input",{type:"email",id:"email",name:"email",value:h.email,onChange:te,required:!0,className:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-orange-200 focus:border-orange-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"Enter your email"})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"phone",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Phone Number *"}),d.jsxs("div",{className:"relative",children:[d.jsx(ee,{icon:ny,className:"absolute left-4 top-1/2 transform -translate-y-1/2 text-gray-400"}),d.jsx("input",{type:"tel",id:"phone",name:"phone",value:h.phone,onChange:te,required:!0,className:"w-full px-4 py-4 pl-12 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-orange-200 focus:border-orange-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"Enter your phone number"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"specialization",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Specialization *"}),d.jsxs("select",{id:"specialization",name:"specialization",value:h.specialization,onChange:te,required:!0,className:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-orange-200 focus:border-orange-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",children:[d.jsx("option",{value:"",children:"Select your specialization"}),d.jsx("option",{value:"garbage-collection",children:"Garbage Collection"}),d.jsx("option",{value:"street-cleaning",children:"Street Cleaning"}),d.jsx("option",{value:"drainage-maintenance",children:"Drainage Maintenance"}),d.jsx("option",{value:"park-maintenance",children:"Park Maintenance"}),d.jsx("option",{value:"general-maintenance",children:"General Maintenance"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"experience",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Years of Experience"}),d.jsxs("select",{id:"experience",name:"experience",value:h.experience,onChange:te,className:"w-full px-4 py-4 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-orange-200 focus:border-orange-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",children:[d.jsx("option",{value:"",children:"Select experience level"}),d.jsx("option",{value:"0-1",children:"0-1 years"}),d.jsx("option",{value:"1-3",children:"1-3 years"}),d.jsx("option",{value:"3-5",children:"3-5 years"}),d.jsx("option",{value:"5-10",children:"5-10 years"}),d.jsx("option",{value:"10+",children:"10+ years"})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"password",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Password *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:y?"text":"password",id:"password",name:"password",value:h.password,onChange:te,required:!0,minLength:6,className:"w-full px-4 py-4 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-orange-200 focus:border-orange-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"Create a password"}),d.jsx("button",{type:"button",onClick:()=>_(!y),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:d.jsx(ee,{icon:y?pr:oi})})]})]}),d.jsxs("div",{children:[d.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-semibold text-gray-700 mb-3",children:"Confirm Password *"}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:b?"text":"password",id:"confirmPassword",name:"confirmPassword",value:h.confirmPassword,onChange:te,required:!0,className:"w-full px-4 py-4 pr-12 border-2 border-gray-200 rounded-2xl focus:ring-4 focus:ring-orange-200 focus:border-orange-500 transition-all duration-300 bg-white/80 backdrop-blur-sm",placeholder:"Confirm your password"}),d.jsx("button",{type:"button",onClick:()=>w(!b),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",children:d.jsx(ee,{icon:b?pr:oi})})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",id:"terms",checked:F,onChange:be=>K(be.target.checked),required:!0,className:"rounded border-gray-300 text-orange-600 focus:ring-orange-500"}),d.jsxs("label",{htmlFor:"terms",className:"ml-3 text-sm text-gray-600",children:["I agree to the"," ",d.jsx("a",{href:"#",className:"text-orange-600 hover:text-orange-700 font-semibold transition-colors",children:"Terms of Service"})," ","and"," ",d.jsx("a",{href:"#",className:"text-orange-600 hover:text-orange-700 font-semibold transition-colors",children:"Privacy Policy"})]})]}),d.jsxs("button",{type:"submit",disabled:R||G,className:"w-full bg-gradient-to-r from-orange-500 to-orange-600 hover:from-orange-600 hover:to-orange-700 text-white py-4 rounded-2xl font-bold transition-all duration-300 shadow-lg hover:shadow-xl hover:scale-105 disabled:opacity-50 disabled:cursor-not-allowed disabled:transform-none",children:[R?d.jsx(ee,{icon:ta,className:"animate-spin mr-2"}):d.jsx(ee,{icon:Ku,className:"mr-2"}),R?"Creating Worker Account...":"Create Worker Account"]})]}),d.jsxs("div",{className:"text-center mt-8",children:[d.jsxs("p",{className:"text-gray-600 text-lg",children:["Already have a worker account?"," ",d.jsx(We,{to:"/worker-signin",className:"text-orange-600 hover:text-orange-700 font-bold transition-colors",children:"Sign in here"})]}),d.jsxs("p",{className:"text-gray-500 text-sm mt-2",children:["Regular user?"," ",d.jsx(We,{to:"/signup",className:"text-emerald-600 hover:text-emerald-700 font-semibold transition-colors",children:"Sign up here"})]})]})]})})})]})},PE=()=>{const{user:l,logout:n}=_s(),{showSuccess:s,showError:i}=Ts(),[u,h]=se.useState([]),[g,y]=se.useState(!0),[_,b]=se.useState({totalAssignments:0,completedAssignments:0,pendingAssignments:0,totalEarnings:0});se.useEffect(()=>{setTimeout(()=>{const F=[{id:1,title:"Garbage Collection - Downtown Area",description:"Collect garbage from downtown area including Main Street and surrounding alleys",location:"Downtown Area, Main Street",coordinates:{lat:40.7128,lng:-74.006},estimatedTime:"2-3 hours",distance:"1.2 km",amount:150,status:"pending",priority:"high",reportedAt:"2024-01-15T10:30:00Z",image:"/imgd/1d.jpg"},{id:2,title:"Street Cleaning - Park Avenue",description:"Clean street and remove debris from Park Avenue and adjacent sidewalks",location:"Park Avenue, Central District",coordinates:{lat:40.7589,lng:-73.9851},estimatedTime:"1.5-2 hours",distance:"0.8 km",amount:120,status:"accepted",priority:"medium",reportedAt:"2024-01-15T09:15:00Z",image:"/imgd/2d.jpg"},{id:3,title:"Drainage Maintenance - Industrial Zone",description:"Clear blocked drains and ensure proper water flow in industrial area",location:"Industrial Zone, Factory District",coordinates:{lat:40.7505,lng:-73.9934},estimatedTime:"3-4 hours",distance:"2.1 km",amount:200,status:"completed",priority:"high",reportedAt:"2024-01-14T14:20:00Z",image:"/imgd/3d.jpg"},{id:4,title:"Park Maintenance - Central Park",description:"Maintain cleanliness and remove litter from Central Park area",location:"Central Park, Green Zone",coordinates:{lat:40.7829,lng:-73.9654},estimatedTime:"2-2.5 hours",distance:"1.5 km",amount:180,status:"pending",priority:"low",reportedAt:"2024-01-15T11:45:00Z",image:"/imgd/4d.jpg"}];h(F);const K=F.length,te=F.filter(ve=>ve.status==="completed").length,le=F.filter(ve=>ve.status==="pending").length,oe=F.filter(ve=>ve.status==="completed").reduce((ve,be)=>ve+be.amount,0);b({totalAssignments:K,completedAssignments:te,pendingAssignments:le,totalEarnings:oe}),y(!1)},1e3)},[]);const w=F=>{h(K=>K.map(te=>te.id===F?{...te,status:"accepted"}:te)),s("Assignment accepted successfully!")},R=F=>{h(K=>K.map(te=>te.id===F?{...te,status:"rejected"}:te)),s("Assignment rejected.")},O=F=>{h(te=>te.map(le=>le.id===F?{...le,status:"completed"}:le));const K=u.find(te=>te.id===F);K&&b(te=>({...te,completedAssignments:te.completedAssignments+1,pendingAssignments:te.pendingAssignments-1,totalEarnings:te.totalEarnings+K.amount})),s("Assignment completed successfully!")},G=F=>{switch(F){case"high":return"text-red-600 bg-red-100";case"medium":return"text-yellow-600 bg-yellow-100";case"low":return"text-green-600 bg-green-100";default:return"text-gray-600 bg-gray-100"}},$=F=>{switch(F){case"pending":return"text-blue-600 bg-blue-100";case"accepted":return"text-yellow-600 bg-yellow-100";case"completed":return"text-green-600 bg-green-100";case"rejected":return"text-red-600 bg-red-100";default:return"text-gray-600 bg-gray-100"}};return g?d.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-blue-50 to-emerald-50 flex items-center justify-center",children:d.jsxs("div",{className:"text-center",children:[d.jsx(ee,{icon:ta,className:"animate-spin text-4xl text-orange-500 mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Loading your dashboard..."})]})}):d.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-blue-50 to-emerald-50 min-h-screen font-body text-gray-800",children:[d.jsx("header",{className:"glass-effect shadow-lg border-b border-white/30",children:d.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-4 flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs("div",{className:"relative",children:[d.jsx("img",{src:"/image3.webp",alt:"Clean and Healthy Area Logo",className:"h-12 w-12 rounded-2xl object-cover border-4 border-white/30 shadow-xl"}),d.jsx("div",{className:"absolute -inset-1 bg-gradient-to-r from-emerald-400 to-blue-500 rounded-2xl blur opacity-30"})]}),d.jsxs("div",{className:"flex flex-col justify-center",children:[d.jsx("span",{className:"text-xl font-black text-gray-800 tracking-wide font-heading",children:"Clean and Healthy Area"}),d.jsx("span",{className:"text-gray-600 text-sm font-semibold",children:"Worker Dashboard"})]})]}),d.jsx(hi,{})]})}),d.jsxs("main",{className:"max-w-7xl mx-auto px-4 sm:px-6 py-8",children:[d.jsx("div",{className:"mb-8",children:d.jsx("div",{className:"glass-card rounded-2xl p-6 border border-white/30",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsx("div",{className:"p-3 bg-orange-100 rounded-full",children:d.jsx(ee,{icon:Yl,className:"text-2xl text-orange-600"})}),d.jsxs("div",{children:[d.jsxs("h1",{className:"text-2xl font-bold text-gray-800",children:["Welcome back, ",l?.displayName||"Worker","!"]}),d.jsx("p",{className:"text-gray-600",children:"Manage your work assignments and track your progress"})]})]})})}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 mb-8",children:[d.jsx("div",{className:"glass-card rounded-2xl p-6 border border-white/30",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600 text-sm",children:"Total Assignments"}),d.jsx("p",{className:"text-2xl font-bold text-gray-800",children:_.totalAssignments})]}),d.jsx("div",{className:"p-3 bg-blue-100 rounded-full",children:d.jsx(ee,{icon:ty,className:"text-xl text-blue-600"})})]})}),d.jsx("div",{className:"glass-card rounded-2xl p-6 border border-white/30",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600 text-sm",children:"Completed"}),d.jsx("p",{className:"text-2xl font-bold text-green-600",children:_.completedAssignments})]}),d.jsx("div",{className:"p-3 bg-green-100 rounded-full",children:d.jsx(ee,{icon:mr,className:"text-xl text-green-600"})})]})}),d.jsx("div",{className:"glass-card rounded-2xl p-6 border border-white/30",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600 text-sm",children:"Pending"}),d.jsx("p",{className:"text-2xl font-bold text-yellow-600",children:_.pendingAssignments})]}),d.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:d.jsx(ee,{icon:Fp,className:"text-xl text-yellow-600"})})]})}),d.jsx("div",{className:"glass-card rounded-2xl p-6 border border-white/30",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-gray-600 text-sm",children:"Total Earnings"}),d.jsxs("p",{className:"text-2xl font-bold text-emerald-600",children:["$",_.totalEarnings]})]}),d.jsx("div",{className:"p-3 bg-emerald-100 rounded-full",children:d.jsx(ee,{icon:Yp,className:"text-xl text-emerald-600"})})]})})]}),d.jsxs("div",{className:"mb-8",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Work Assignments"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{className:"px-4 py-2 bg-orange-100 text-orange-600 rounded-lg font-semibold hover:bg-orange-200 transition-colors",children:"All"}),d.jsx("button",{className:"px-4 py-2 bg-blue-100 text-blue-600 rounded-lg font-semibold hover:bg-blue-200 transition-colors",children:"Pending"}),d.jsx("button",{className:"px-4 py-2 bg-yellow-100 text-yellow-600 rounded-lg font-semibold hover:bg-yellow-200 transition-colors",children:"Accepted"}),d.jsx("button",{className:"px-4 py-2 bg-green-100 text-green-600 rounded-lg font-semibold hover:bg-green-200 transition-colors",children:"Completed"})]})]}),d.jsx("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:u.map(F=>d.jsxs("div",{className:"glass-card rounded-2xl p-6 border border-white/30 hover:shadow-lg transition-shadow",children:[d.jsxs("div",{className:"flex items-start justify-between mb-4",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-2",children:F.title}),d.jsx("p",{className:"text-gray-600 text-sm mb-3",children:F.description}),d.jsxs("div",{className:"flex items-center gap-4 text-sm text-gray-600 mb-4",children:[d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ee,{icon:kd,className:"text-orange-500"}),d.jsx("span",{children:F.distance})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ee,{icon:Fp,className:"text-blue-500"}),d.jsx("span",{children:F.estimatedTime})]}),d.jsxs("div",{className:"flex items-center gap-1",children:[d.jsx(ee,{icon:Yp,className:"text-emerald-500"}),d.jsxs("span",{children:["$",F.amount]})]})]}),d.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[d.jsxs("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${G(F.priority)}`,children:[F.priority," priority"]}),d.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-semibold ${$(F.status)}`,children:F.status})]})]}),F.image&&d.jsx("img",{src:F.image,alt:"Assignment",className:"w-16 h-16 rounded-lg object-cover ml-4"})]}),d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"text-xs text-gray-500",children:["Reported: ",new Date(F.reportedAt).toLocaleDateString()]}),d.jsxs("div",{className:"flex gap-2",children:[F.status==="pending"&&d.jsxs(d.Fragment,{children:[d.jsxs("button",{onClick:()=>w(F.id),className:"px-3 py-1 bg-green-500 text-white rounded-lg text-sm font-semibold hover:bg-green-600 transition-colors",children:[d.jsx(ee,{icon:mr,className:"mr-1"}),"Accept"]}),d.jsxs("button",{onClick:()=>R(F.id),className:"px-3 py-1 bg-red-500 text-white rounded-lg text-sm font-semibold hover:bg-red-600 transition-colors",children:[d.jsx(ee,{icon:Wd,className:"mr-1"}),"Reject"]})]}),F.status==="accepted"&&d.jsxs("button",{onClick:()=>O(F.id),className:"px-3 py-1 bg-emerald-500 text-white rounded-lg text-sm font-semibold hover:bg-emerald-600 transition-colors",children:[d.jsx(ee,{icon:mr,className:"mr-1"}),"Complete"]}),d.jsxs("button",{className:"px-3 py-1 bg-blue-500 text-white rounded-lg text-sm font-semibold hover:bg-blue-600 transition-colors",children:[d.jsx(ee,{icon:oi,className:"mr-1"}),"View Details"]})]})]})]},F.id))})]}),d.jsxs("div",{className:"glass-card rounded-2xl p-6 border border-white/30",children:[d.jsx("h3",{className:"text-lg font-bold text-gray-800 mb-4",children:"Quick Actions"}),d.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[d.jsxs("button",{className:"flex items-center gap-3 p-4 bg-orange-100 rounded-xl hover:bg-orange-200 transition-colors",children:[d.jsx(ee,{icon:kd,className:"text-orange-600 text-xl"}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"font-semibold text-gray-800",children:"View Map"}),d.jsx("p",{className:"text-sm text-gray-600",children:"See all assignments"})]})]}),d.jsxs("button",{className:"flex items-center gap-3 p-4 bg-blue-100 rounded-xl hover:bg-blue-200 transition-colors",children:[d.jsx(ee,{icon:wb,className:"text-blue-600 text-xl"}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"font-semibold text-gray-800",children:"Performance"}),d.jsx("p",{className:"text-sm text-gray-600",children:"View your stats"})]})]}),d.jsxs("button",{className:"flex items-center gap-3 p-4 bg-green-100 rounded-xl hover:bg-green-200 transition-colors",children:[d.jsx(ee,{icon:Eb,className:"text-green-600 text-xl"}),d.jsxs("div",{className:"text-left",children:[d.jsx("p",{className:"font-semibold text-gray-800",children:"Notifications"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Check updates"})]})]})]})]})]})]})},LE=()=>{const{notifications:l,removeNotification:n}=Ts(),s=i=>{switch(i){case"success":return{bgColor:"bg-green-500",textColor:"text-green-800",borderColor:"border-green-200",icon:qu,iconColor:"text-green-500"};case"error":return{bgColor:"bg-red-500",textColor:"text-red-800",borderColor:"border-red-200",icon:Ab,iconColor:"text-red-500"};case"warning":return{bgColor:"bg-yellow-500",textColor:"text-yellow-800",borderColor:"border-yellow-200",icon:fr,iconColor:"text-yellow-500"};case"info":default:return{bgColor:"bg-blue-500",textColor:"text-blue-800",borderColor:"border-blue-200",icon:Zu,iconColor:"text-blue-500"}}};return l.length===0?null:d.jsx("div",{className:"fixed top-4 right-4 z-[9999] space-y-3 max-w-md",children:l.map(i=>{const u=s(i.type);return d.jsxs("div",{className:`
              ${u.bgColor} ${u.textColor} ${u.borderColor}
              bg-opacity-10 backdrop-blur-lg border rounded-2xl shadow-2xl 
              p-4 flex items-center gap-3 transform transition-all duration-500 ease-out
              animate-in slide-in-from-right-5 fade-in
            `,children:[d.jsx("div",{className:`flex-shrink-0 ${u.iconColor}`,children:d.jsx(ee,{icon:u.icon,className:"text-xl"})}),d.jsx("div",{className:"flex-1 min-w-0",children:d.jsx("p",{className:"text-sm font-medium leading-5 break-words",children:i.message})}),d.jsx("button",{onClick:()=>n(i.id),className:`
                flex-shrink-0 ${u.textColor} hover:${u.bgColor} 
                hover:bg-opacity-20 rounded-lg p-1 transition-colors duration-200
              `,children:d.jsx(ee,{icon:Wd,className:"text-sm"})})]},i.id)})})};function qE(){return d.jsx(RE,{children:d.jsx(jE,{children:d.jsx(rb,{children:d.jsxs("div",{className:"bg-gradient-to-br from-slate-50 via-blue-50 to-emerald-50 min-h-screen font-body text-gray-800 overflow-x-hidden relative",children:[d.jsx("div",{className:"fixed inset-0 bg-hero-pattern opacity-30 pointer-events-none z-0"}),d.jsxs("div",{className:"relative z-10",children:[d.jsxs(lb,{children:[d.jsx(hs,{path:"/",element:d.jsx(CE,{})}),d.jsx(hs,{path:"/report",element:d.jsx(IE,{})}),d.jsx(hs,{path:"/signin",element:d.jsx(OE,{})}),d.jsx(hs,{path:"/signup",element:d.jsx(kE,{})}),d.jsx(hs,{path:"/payment",element:d.jsx(ME,{})}),d.jsx(hs,{path:"/worker-signin",element:d.jsx(UE,{})}),d.jsx(hs,{path:"/worker-signup",element:d.jsx(zE,{})}),d.jsx(hs,{path:"/worker-dashboard",element:d.jsx(PE,{})})]}),d.jsx(LE,{})]})]})})})})}r_.createRoot(document.getElementById("root")).render(d.jsx(se.StrictMode,{children:d.jsx(qE,{})}));
